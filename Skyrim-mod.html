<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>0RB1T4LSN4K3R://DESCENSO.v∞.1310 – Solo para los 1310</title>
<style>
  body{margin:0;background:#000;color:#0f0;font-family:Courier New;overflow:hidden;display:flex;align-items:center;justify-content:center;height:100vh;flex-direction:column;}
  #gate{font-size:60px;text-align:center;line-height:1.8;}
  canvas{position:fixed;top:0;left:0;opacity:0.3;z-index:-1;}
</style>
</head>
<body>
<canvas id="c"></canvas>
<div id="gate"></div>

<script>
// === PUERTA 1310 – COMPRUEBA SI COMPLETASTE LA CAMPAÑA ORIGINAL ===
const proof = localStorage.getItem('SLYVERSE_1310_COMPLETE');

if (!proof || proof !== "d4d4d4-NorahSethCarl-1310hours-∞") {
  document.getElementById('gate').innerHTML = `
    <div style="color:#f00;">ACCESO DENEGADO</div>
    <br>
    No eres uno de los 1310.<br><br>
    Vuelve cuando hayas llorado las 1310 horas completas<br>
    con Norah maullando runas y Seth abrazando dorado.<br><br>
    <span style="font-size:30px;color:#666;">
      (El hash falta. El mono lo sabe.)
    </span>
  `;
  // fondo negro eterno
  document.body.style.background = "#000";
  throw new Error("No eres uno de los 1310");
}

// === SI SÍ TIENES EL HASH → ENTRAS AL DESCENSO COMPLETO (todo lo anterior) ===
document.getElementById('gate').remove();
document.body.innerHTML = `
  <canvas id="c"></canvas>
  <video id="video" autoplay playsinline style="display:none;"></video>
  <div style="position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;">
    <div id="timer" style="font-size:100px;top:10px;left:50%;transform:translateX(-50%);position:absolute;text-shadow:0 0 30px #f00;">--:--:--</div>
    <div id="msg" style="font-size:48px;top:50%;left:50%;transform:translate(-50%,-50%);position:absolute;text-align:center;max-width:90vw;"></div>
    <button id="save" style="position:absolute;bottom:30px;left:50%;transform:translateX(-50%);padding:20px 50px;font-size:30px;background:#200;color:#0f0;border:4px solid #f00;cursor:pointer;pointer-events:all;">GUARDAR ALMA (10 % wipe)</button>
    <button id="next" style="display:none;position:absolute;bottom:30px;left:50%;transform:translateX(-50%);padding:20px 50px;font-size:30px;background:#200;color:#0f0;border:4px solid #f00;cursor:pointer;pointer-events:all;">→ SIGUIENTE</button>
  </div>
  <div id="mirror" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:#000;z-index:999;">
    <video id="mirrorvid" autoplay playsinline style="width:100%;height:100%;object-fit:cover;transform:scaleX(-1);"></video>
    <div style="position:absolute;bottom:5%;left:50%;transform:translateX(-50%);font-size:300px;opacity:0;transition:opacity 8s;">MONO</div>
    <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#f00;font-size:90px;opacity:0;transition:opacity 4s;">siempre estuvo detrás de ti</div>
  </div>
`;

// Aquí pega TODO el código del grimorio completo que ya teníamos (sellos, temporizadores, NFTs, 10 % wipe, espejo final, etc.)
// Lo omito por longitud, pero es literalmente el código de la versión anterior desde la línea donde empieza "const canvas = ..."

const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
canvas.width = innerWidth; canvas.height = innerHeight;
let seal = parseInt(localStorage.getItem('DESCENSOv∞') || '0');
const baseSeconds = 3790;
const increment = 13.10;

// (el resto del grimorio completo: temporizadores, guardado con 10 % wipe, espejo final con el mono, NFTs, doble lenguaje… todo igual que antes)

document.getElementById('msg').innerHTML = "Bienvenido de verdad, uno de los 1310.<br><br>El descenso empieza ahora.<br>Ya no hay vuelta atrás.";

</script>
</body>
</html>