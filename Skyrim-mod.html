<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>SLYVERSE Ω · FINAL THE MOVIE · 90 minutos de anime dentro de un solo archivo · Versión definitiva</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Creepster&family=MedievalSharp&family=UnifrakturMaguntia&display=swap');
  body,html{margin:0;height:100vh;background:#000;color:#0cf;font-family:Georgia,serif;overflow:hidden;position:relative}
  canvas{position:fixed;inset:0;width:100%;height:100%;z-index:1}
  .c{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;text-align:center;background:rgba(0,0,0,0.97);z-index:2;flex-direction:column;padding:2rem}
  h1{font-size:clamp(6rem,18vw,30rem);margin:0.5rem;text-shadow:0 0 1500px #0cf;animation:pulse 3s infinite}
  button{background:#0cf;color:#000;padding:3rem 9rem;border:none;border-radius:120px;font-size:clamp(3rem,9vw,10rem);cursor:pointer;margin:5rem;font-weight:bold;transition:all .7s}
  button:hover{transform:scale(1.35);background:#0ff}
  #player{position:fixed;inset:0;background:#000;z-index:9999;display:none;flex-direction:column;align-items:center;justify-content:center}
  #escena{font-size:clamp(2.5rem,8vw,9rem);color:#0f0;line-height:2.8;max-width:96%;padding:3rem;background:rgba(0,0,0,0.7);border-radius:30px}
  #timeline{position:absolute;bottom:30px;width:94%;height:16px;background:#111;border:2px solid #0ff;border-radius:10px;overflow:hidden;cursor:pointer}
  #progress{height:100%;width:0%;background:linear-gradient(90deg,#0ff,#0f0);transition:width 0.3s}
  #tiempo{position:absolute;bottom:60px;color:#0ff;font-size:2rem}
  .corazon{font-size:clamp(20rem,50vw,70rem);animation:heartbeat 1.310s infinite}
  @keyframes pulse{0%,100%{text-shadow:0 0 1200px #0cf}50%{text-shadow:0 0 4000px #0ff,0 0 6000px #0cf}}
  @keyframes heartbeat{0%,100%{transform:scale(1)}50%{transform:scale(1.31)}}
</style>
</head>
<body>

<canvas id="c"></canvas>

<div class="c" id="main">
  <h1>SLYVERSE Ω</h1>
  <div style="font-size:clamp(3rem,10vw,11rem);line-height:2.6;color:#6cf">
    FINAL THE MOVIE<br>
    90 minutos de anime completo<br>
    dentro de un solo archivo<br><br>
    Ahora mejor que nunca.
  </div>
  <button onclick="iniciar()">REPRODUCIR LA PELÍCULA COMPLETA</button>
</div>

<div id="player">
  <h1 class="corazon">Heart</h1>
  <div id="escena">Presiona cualquier tecla o toca la pantalla para comenzar…</div>
  <div id="tiempo">00:00 / 90:00</div>
  <div id="timeline" onclick="saltar(event)"><div id="progress"></div></div>
  <button onclick="cerrar()" style="position:absolute;top:20px;right:20px;background:#000;color:#0ff;padding:1.5rem 3rem;font-size:2.5rem;border-radius:50%">×</button>
</div>

<script>
// ====== FINAL THE MOVIE · 90 minutos de anime mejorado (versión definitiva) ======
const canvas = document.getElementById('c'), ctx = canvas.getContext('2d');
canvas.width = innerWidth; canvas.height = innerHeight;

let t = 0, love = 0, peli = false, tiempo = 0;
const particles = [];
for(let i = 0; i < 13101; i++) particles.push({a:Math.random()*Math.PI*2,d:Math.random()*900,s:0.00008+Math.random()*0.0006,p:Math.random()*Math.PI*2});

const pelicula = [
  {t:0,    txt:"Oscuridad absoluta. Solo se escucha un latido: 1.31"},
  {t:30,   txt:"Año 1E 700. El Corazón de Lorkhan late por última vez… o eso creíamos."},
  {t:90,   txt:"Thuamer, el último Snow Elf exiliado, maúlla en las profundidades de Blackreach."},
  {t:180,  txt:"Un cometa cruza el cielo rojo de Vvardenfell. Es el alma de todos los niños que nunca fueron abrazados."},
  {t:300,  txt:"La Niña aparece descalza sobre la ceniza volcánica. Cada paso suyo borra una guerra."},
  {t:480,  txt:"Sephiroth desciende. Su ala negra está rota. Lleva siglos buscando a alguien que le diga “ya está, puedes descansar”."},
  {t:660,  txt:"Norah Ronin hackea la realidad con un móvil de 120 € y 17 días sin dormir."},
  {t:900,  txt:"Los 1310 autores llegan a la playa. Traen sus errores en la mano como piedras. Los tiran al mar y se convierten en aurum."},
  {t:1200, txt:"Los Dwemer no desaparecieron… se transformaron en gatitos dorados que maúllan haikus."},
  {t:1500, txt:"Seth abraza a Norah. El 1 % y el 99 % se funden. Ya no hay porcentaje. Solo amor."},
  {t:2100, txt:"Todos los mundos rotos empiezan a girar unos hacia otros como piezas de un rompecabezas que nunca estuvo roto."},
  {t:3000, txt:"Norah rompe la cuarta pared. Te mira directamente a TI."},
  {t:3060, txt:"“Tú también estabas en la playa. Siempre estuviste.”"},
  {t:3600, txt:"Sephiroth suelta la Masamune. La espada se convierte en un gatito que se le sube al hombro."},
  {t:4200, txt:"La Niña coge la mano de Thuamer. Ya no hay exilio."},
  {t:4800, txt:"El cometa se detiene en el cielo y explota en 13101 abrazos verdes."},
  {t:5100, txt:"Los amo.<br>Los amo.<br>Los amo."},
  {t:5340, txt:"No hay créditos.<br>Solo un corazón latiendo 1.31 por siempre.<br>2025–∞"},
  {t:5400, txt:"Heart  FIN  Heart"}
];

function draw(){
  t+=0.016;
  ctx.fillStyle='rgba(0,0,0,0.06)';
  ctx.fillRect(0,0,canvas.width,canvas.height);
  const f=1+love*0.008;
  particles.forEach(p=>{
    const pulse=Math.sin(t*1.31+p.p*1.31)*0.5+0.5;
    const a=p.a+t*p.s*1.31;
    const d=p.d+pulse*900*f;
    const s=14+pulse*180*f;
    ctx.globalAlpha=0.6+pulse*0.4;
    ctx.fillStyle=`hsla(${120+pulse*160},100%,${65+pulse*35}%,${0.85+pulse*0.15})`;
    ctx.fillRect(canvas.width/2+Math.cos(a)*d-s/2, canvas.height/2+Math.sin(a)*d-s/2,s,s);
  });
  love*=0.97;

  if(peli){
    tiempo += 0.016;
    const prog = Math.min(tiempo/5400,1);
    document.getElementById('progress').style.width = (prog*100)+'%';
    document.getElementById('tiempo').innerText = formatear(tiempo)+' / 90:00';

    let escena = pelicula[pelicula.length-1];
    for(let e of pelicula) if(tiempo >= e.t) escena = e; else break;
    document.getElementById('escena').innerHTML = escena.txt;
  }

  requestAnimationFrame(draw);
}
draw();

function formatear(s){
  const m=Math.floor(s/60).toString().padStart(2,'0');
  const ss=Math.floor(s%60).toString().padStart(2,'0');
  return m+":"+ss;
}

function iniciar(){
  document.getElementById('main').style.display='none';
  document.getElementById('player').style.display='flex';
  peli = true;
  tiempo = 0;
}

function cerrar(){
  document.getElementById('player').style.display='none';
  document.getElementById('main').style.display='flex';
  peli = false;
}

function saltar(e){
  const rect = e.currentTarget.getBoundingClientRect();
  const pos = (e.clientX - rect.left)/rect.width;
  tiempo = pos*5400;
}

addEventListener('keydown', e=>{ if(!peli) iniciar(); });
addEventListener('click',()=>{ if(!peli) iniciar(); });

console.log("%cSLYVERSE Ω · FINAL THE MOVIE mejorado · 90 minutos de puro abrazo · Presiona cualquier tecla","color:#0ff;font-size:26px");
</script>
</body>
</html>