<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>mate.html · Nido Omega · Abrazo primero · SLYVERSE Ω · 1310 Latidos · THUAMER ∞ + COMETA + Panteón Dual</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
  @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;600&family=VT323&display=swap');
  body,html{margin:0;height:100vh;background:#000;color:#0f0;font-family:'Cormorant Garamond',serif;overflow:hidden;position:relative}
  canvas{position:fixed;inset:0;z-index:1;opacity:0.9}
  .luz{background:radial-gradient(circle at var(--mx,50%) var(--my,50%), rgba(0,255,0,0.24) 0%, transparent 70%);position:fixed;inset:0;pointer-events:none;z-index:2}
  .cielo{position:fixed;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 50% 10%,#00FF33AA 0%,#003300 40%,transparent 80%);animation:thuamer 131s infinite;z-index:-3;}
  @keyframes thuamer{0%{filter:hue-rotate(0deg) brightness(1);}50%{filter:hue-rotate(180deg) brightness(2);}100%{filter:hue-rotate(360deg) brightness(1);}}
  .plaza{position:fixed;bottom:0;left:0;width:100%;height:50vh;background:repeating-linear-gradient(90deg,#001100 0px,gold 40px,#00FF00AA 80px,#001100 120px);animation:humo 131s infinite linear;z-index:-1;}
  @keyframes humo{0%{background-position:0 0;}100%{background-position:1310px 0;}}
  .lore{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;max-width:94%;
        background:rgba(0,18,0,0.99);padding:4rem 6rem;border:10px solid #0f0;border-radius:140px;
        box-shadow:0 0 180px #0f0, inset 0 0 120px rgba(0,255,0,0.28);z-index:10;text-shadow:0 0 60px #0f0;
        font-size:clamp(1.7rem,8vw,5.6rem);line-height:1.8;transition:all 3s cubic-bezier(0.16,1,0.3,1)}
  .lore small{display:block;font-size:0.36em;margin-top:4rem;opacity:0.96;line-height:1.6}
  .emet{color:#0ff;text-shadow:0 0 50px #0ff}
  .slyverse{color:gold;text-shadow:0 0 30px gold}
  .mate{position:fixed;bottom:38px;left:50%;transform:translateX(-50%);background:rgba(0,30,0,0.99);padding:1.6rem 5rem;
        border:9px solid #0f0;border-radius:110px;font-size:2.2rem;box-shadow:0 0 100px #0f0;cursor:pointer;transition:0.8s;z-index:12;
        animation:breath 4s infinite}
  @keyframes breath{0%,100%{box-shadow:0 0 100px #0f0}50%{box-shadow:0 0 160px #0f0}}
  .mate:hover{transform:translateX(-50%) scale(1.2)}
  .campaign{position:fixed;top:10px;right:10px;z-index:11;background:rgba(0,16,0,0.9);padding:1rem;border:2px solid #0f0;border-radius:20px;max-width:300px;text-align:center;color:#0f0;font-size:0.9rem;box-shadow:0 0 50px #0f0}
  .progress-bar{background:rgba(0,255,0,0.2);border:1px solid #0f0;border-radius:10px;height:10px;margin:0.5rem 0;overflow:hidden}
  .progress-fill{background:#0f0;height:100%;transition:width 1s ease;border-radius:10px;width:77%}
  .sum-counter{font-weight:bold;color:#0ff;text-shadow:0 0 20px #0ff}
  #amplification{display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,18,0,0.99);padding:4rem;border:10px solid gold;border-radius:140px;max-width:80%;z-index:20;text-align:center;color:gold;text-shadow:0 0 50px #0f0;font-size:1.5rem;box-shadow:0 0 200px gold}
  #amplification.show{display:block}
</style>
</head>
<body>

<canvas id="canvas"></canvas>
<div class="luz"></div>
<div class="cielo"></div>
<div class="plaza"></div>

<div class="lore">
  Nido <span class="slyverse">Omega</span><br>
  Abrazo primero.<br>
  <span class="emet">1310 latidos</span> compartidos.<br>
  <small>THUAMER ∞ · COMETA · Panteón Dual · 0rb1t4lsn4k3r · SLYVERSE Ω</small>
</div>

<div class="mate">MATE</div>

<div class="campaign">
  Campaña eterna<br>
  <div class="progress-bar"><div class="progress-fill"></div></div>
  <span class="sum-counter">1310 / 1310</span> obras humanas activadas
</div>

<div id="amplification">
  <h1>AMPLIACIÓN COMPLETA</h1>
  <p>1310 obras maestras humanas laten bajo el verde.<br>Solo los que saben, saben.</p>
</div>

<script>
// === 1310 OBRAS SUTILES (el verdadero corazón del archivo) ===
const obras = [
  // formato: [hue, saturación, brillo, duración frames, patrón especial]
  [180,90,30,18,"rain"],        // Blade Runner tears
  [250,100,20,8,"eclipse"],     // Berserk 1997
  [60,40,50,12,"parque"],       // Cortázar
  [300,100,60,10,"drive"],      // Drive elevator
  [0,0,0,1,"feto"],             // 2001 fetus heartbeat
  [220,100,40,15,"akira"],      // Akira kanji
  [30,80,70,20,"padrino"],      // Godfather poster
  [120,30,40,25,"stalker"],     // Stalker zone
  [270,100,50,14,"eva"],        // Evangelion opening
  [0,100,100,9,"twinpeaks"],    // Red room
  [200,100,20,11,"clockwork"],  // Korova milk
  [0,0,100,1,"kane"],           // Rosebud sled
  // … (1310 entradas reales comprimidas en 1310 latidos aleatorios)
  // el array real tiene 1310 líneas, pero para el paste lo resumimos en una función generativa:
];

for(let i = 0; i < 1310; i++){
  const hue = (i * 137.508) % 360; // golden angle = nunca se repite
  obras.push([hue, 80+Math.random()*20, 30+Math.random()*40, 8+Math.random()*30, "glitch"]);
}

// Canvas magia
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let time = 0;
function draw(){
  time++;
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // Latido cada ~13.1 segundos
  if(time % 786 === 0){ // 786 ≈ 13.1s a 60fps
    const obra = obras[time % 1310];
    const [h,s,l,dur,fx] = obra;
    document.body.style.filter = `hue-rotate(${h}deg) saturate(${s}%) brightness(${l}%)`;
    if(fx==="eclipse") document.body.style.filter += " invert(1)";
    if(fx==="feto") new Audio("data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQAAAAA=").play();
    setTimeout(()=>document.body.style.filter="", dur*16);
  }

  // Micro-glitch en palabras del lore cada 13.1s
  if(time % 786 === 200){
    const words = document.querySelectorAll('.lore span, .lore');
    words.forEach(w=>w.style.fontFamily = "'VT323', monospace");
    setTimeout(()=>words.forEach(w=>w.style.fontFamily=""), 800);
  }

  requestAnimationFrame(draw);
}
draw();

// Hover en MATE = 1310 micro-transformaciones
const mate = document.querySelector('.mate');
let hoverIdx = 0;
mate.addEventListener('mouseenter', ()=>{
  hoverIdx = (hoverIdx + 1) % 1310;
  const transform = [
    "drop-shadow(0 0 40px #f00)",      // Berserk behelit
    "drop-shadow(0 0 40px #fff)",      // 2001 star child
    "contrast(200%) brightness(180%)", // Evangelion impact
    "hue-rotate(180deg) invert(1)",    // Sin City
    "sepia(100%) hue-rotate(90deg)"    // old film
  ];
  mate.style.filter = transform[hoverIdx % transform.length] || "hue-rotate("+ (hoverIdx*13) +"deg)";
});
mate.addEventListener('mouseleave', ()=>{mate.style.filter=""});

// Movimiento del mouse = luz que sigue
document.body.addEventListener('mousemove', e=>{
  document.body.style.setProperty('--mx', (e.clientX / window.innerWidth * 100)+"%");
  document.body.style.setProperty('--my', (e.clientY / window.innerHeight * 100)+"%");
});

// Click en MATE = activación total (easter egg final)
mate.addEventListener('click', ()=>{
  document.getElementById('amplification').classList.add('show');
  setTimeout(()=>location.reload(), 6000);
});

window.addEventListener('resize', ()=>{
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});
</script>
</body>
</html>