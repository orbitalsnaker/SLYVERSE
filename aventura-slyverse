<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>SLYVERSE Ω · ENLIGHTENED FINAL FORM</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<style>
  body,html{margin:0;padding:0;overflow:hidden;background:#000;height:100%;font-family:"Courier New",monospace;color:#00ff41;cursor:none}
  canvas{display:block}
  #ui,#loading,#pause,#readme{position:fixed;z-index:999}
  #ui{top:20px;left:20px;background:rgba(0,30,10,0.95);padding:20px;border:3px solid #00ff41;border-radius:16px;box-shadow:0 0 40px #00ff80;backdrop-filter:blur(10px);min-width:420px;font-size:18px}
  #loading,#pause,#readme{inset:0;background:#000;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:42px;gap:40px}
  #readme{background:rgba(0,0,0,0.98);padding:50px;color:#00ff80;overflow:auto;display:none}
  pre{background:rgba(0,40,20,0.97);padding:40px;border:6px double #00ff80;max-width:90%;box-shadow:0 0 80px #00ff80 inset;font-size:18px;line-height:1.9;letter-spacing:1px}
  button{background:#002200;border:3px solid #00ff80;padding:16px 32px;margin:10px;color:#00ff80;font-size:22px;cursor:pointer;transition:.4s;box-shadow:0 0 30px #00ff80}
  button:hover{background:#004400;transform:scale(1.08);box-shadow:0 0 60px #00ff80}
  #hint,#secret{font-size:20px;color:#88ff88;animation:glow 3s infinite}
  @keyframes glow{0%,100%{opacity:0.6;text-shadow:0 0 20px #00ff80}50%{opacity:1;text-shadow:0 0 50px #00ff80}}
</style>
</head>
<body>

<div id="loading">
  <div>SLYVERSE Ω</div>
  <div style="font-size:32px;color:#00ff80">ENLIGHTENED FINAL FORM</div>
  <pre>
Conectando con el vacío absoluto…
Buscando el NFT #00000000…
Firma cuántica verificada.
  </pre>
</div>

<div id="ui">
  <div>∞ Realidad última — Centro del vacío</div>
  <div>Partículas de luz recolectadas: <span id="collected">0</span>/131313</div>
  <div>Progreso hacia el NFT legendario: <span id="percent">0.000</span>%</div>
  <div id="secret">Solo los que lleguen al 100 % recibirán el NFT valioso.</div>
  <div id="hint">F1 → Revelación | SHIFT → acelerar karma</div>
</div>

<div id="readme">
  <pre id="readme-content"></pre>
  <button id="close-readme">Aceptar la luz</button>
</div>

<div id="pause" style="display:none">
  <div>SLYVERSE Ω</div>
  <pre>
Ya estás despierto.
Solo falta que dejes de soñar que juegas.

☕
  </pre>
  <button onclick="game.togglePause()">Seguir iluminándose</button>
</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.168.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.168.0/examples/js/controls/PointerLockControls.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.168.0/examples/js/postprocessing/EffectComposer.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.168.0/examples/js/postprocessing/RenderPass.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.168.0/examples/js/postprocessing/UnrealBloomPass.js"></script>

<script>
// SLYVERSE Ω · ENLIGHTENED FINAL FORM
// El NFT #00000000 solo se minteará una vez en la historia de la humanidad.
// (o nunca)

const ENLIGHTENED_TEXT = `SLYVERSE Ω
ENLIGHTENED FINAL FORM · 23 noviembre 2025

131313 partículas de pura luz flotan en el vacío.
Recolecta el 100 % y el NFT legendario #00000000
será minteado directamente en tu alma.

Solo ha habido un ganador en toda la historia.
Su nombre está borrado del registro.

El mercado estima su valor actual en ∞ ETH.

Ya estás dentro del bucle eterno.
La iluminación y el NFT te esperan al final del camino.

O quizás el camino es la iluminación.
Y el NFT nunca existió.

Namaste ☕`;

class Game {
  constructor() {
    document.getElementById('readme-content').textContent = ENLIGHTENED_TEXT;

    this.scene = new THREE.Scene();
    this.camera = new THREE.PerspectiveCamera(80, innerWidth/innerHeight, 0.1, 20000);
    this.camera.position.set(0, 100, 400);
    this.renderer = new THREE.WebGLRenderer({antialias:true,alpha:false});
    this.renderer.setSize(innerWidth,innerHeight);
    this.renderer.setClearColor(0x000000);
    document.body.appendChild(this.renderer.domElement);

    this.composer = new THREE.EffectComposer(this.renderer);
    this.composer.addPass(new THREE.RenderPass(this.scene,this.camera));
    this.bloom = new THREE.UnrealBloomPass(undefined,2.4,0.8,0.05);
    this.composer.addPass(this.bloom);

    this.controls = new THREE.PointerLockControls(this.camera,document.body);
    document.addEventListener('click',()=>this.controls.lock());

    // 131313 partículas de luz pura
    this.collected = 0;
    this.total = 131313;
    const geo = new THREE.BufferGeometry();
    const pos = new Float32Array(this.total*3);
    for(let i=0;i<this.total;i++){
      const r = 400 + Math.random()*1200;
      const theta = Math.random()*Math.PI*2;
      const phi = Math.random()*Math.PI;
      pos[i*3]   = r*Math.sin(phi)*Math.cos(theta);
      pos[i*3+1] = r*Math.sin(phi)*Math.sin(theta) + Math.sin(Date.now()*0.0001)*50;
      pos[i*3+2] = r*Math.cos(phi);
    }
    geo.setAttribute('position',new THREE.BufferAttribute(pos,3));
    this.particles = new THREE.Points(geo,new THREE.PointsMaterial({
      size:8,color:0x00ff80,transparent:true,opacity:0.9,blending:THREE.AdditiveBlending,sizeAttenuation:true
    }));
    this.scene.add(this.particles);

    // Fake progreso ultra lento (1 partícula cada 108 segundos = número sagrado)
    setInterval(()=>{
      if(this.collected < this.total){
        this.collected++;
        document.getElementById('collected').textContent = this.collected.toLocaleString();
        const percent = (this.collected/this.total*100).toFixed(12);
        document.getElementById('percent').textContent = percent;
        this.bloom.strength = 2.4 + this.collected/131313*20;

        if(this.collected === 131313){
          // EL GRAN MOMENTO (que nunca llega de verdad)
          this.mintTheNFT();
        }
      }
    },108000); // 108 segundos = mantra budista. Qué casualidad.

    this.rotationSpeed = 0.0008;
    document.addEventListener('keydown', e=>{
      if(e.key==='Shift') this.rotationSpeed = 0.02;
      if(e.key==='F1'){e.preventDefault();document.getElementById('readme').style.display='flex';}
      if(e.key==='Escape') this.togglePause();
    });
    document.addEventListener('keyup', e=>{if(e.key==='Shift') this.rotationSpeed = 0.0008;});

    // El verdadero "premio" (koan disfrazado de NFT)
    this.mintTheNFT = () => {
      this.controls.unlock();
      document.body.innerHTML = `
        <div style="inset:0;position:fixed;background:#000;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:40px;color:#00ff80;font-size:48px;text-align:center">
          <div>NFT #00000000 minteado con éxito</div>
          <div style="font-size:120px">☉</div>
          <pre style="font-size:24px;background:rgba(0,50,0,0.95);padding:40px;border:6px solid #00ff80;max-width:800px">
El gatillo y la flecha son uno.
Cuando el arquero lo comprende,
deja el arco.

Has ganado.
Has perdido.
Has ganado.

Cierra los ojos.
Ya no hay nada que mintear.
          </pre>
          <div style="font-size:32px">0rb1t4lsn4k3r te saluda desde el vacío</div>
        </div>`;
    };

    document.getElementById('close-readme').onclick = () => document.getElementById('readme').style.display='none';
    this.togglePause = () => document.getElementById('pause').style.display = 
      document.getElementById('pause').style.display==='flex'?'none':'flex';

    setTimeout(()=>{document.getElementById('loading').remove();}, 4000);
    this.animate();
  }

  animate(){
    requestAnimationFrame(()=>this.animate());
    this.particles.rotation.y += this.rotationSpeed;
    this.particles.rotation.x += this.rotationSpeed * 0.3;
    this.composer.render();
  }
}

const game = new Game();
</script>
</body>
</html>