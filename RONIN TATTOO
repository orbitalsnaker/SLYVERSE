<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>RŌNIN PEN v1 — Open Source Direct-Drive — 2025</title>
<style>
  :root{--bg:#0a0a0a;--dark:#111;--fg:#ccc;--acc:#00eeff}
  *{margin:0;padding:0;box-sizing:border-box}
  body{background:var(--bg);color:var(--fg);font-family:"IBM Plex Mono",monospace;overflow:hidden;height:100vh;display:grid;place-items:center}
  .card{background:var(--dark);border:1px solid #333;width:1120px;height:760px;box-shadow:0 0 90px rgba(0,238,255,0.3);padding:28px;position:relative}
  .header{font-size:14px;letter-spacing:8px;color:var(--acc);text-align:center;margin-bottom:20px}
  .main{display:grid;grid-template-columns:1fr 460px;gap:28px;height:100%}
  .left{gap:20px;display:grid;grid-template-rows:auto 1fr auto}
  .right{gap:20px;display:grid;grid-template-rows:auto 1fr}
  pre,.log,canvas{background:#000;border:1px solid #333;font-size:11.5px;overflow:auto}
  input{background:#000;border:1px solid #333;color:var(--fg);padding:11px;font-size:12px;width:100%}
  .log{height:100%;padding:12px;color:#0cf;line-height:1.55}
  .gauge{height:26px;background:#111;border:1px solid #333;overflow:hidden;position:relative}
  .fill{background:var(--acc);height:100%;width:0%;transition:width .3s}
  .label{font-size:12.5px;margin-bottom:7px;color:#888}
  .value{float:right;color:var(--acc);font-weight:bold}
  .title{font-size:15px;color:var(--acc);margin-bottom:12px;letter-spacing:3px}
  .readme-btn{position:absolute;top:28px;right:28px;color:#555;font-size:11px;cursor:pointer;letter-spacing:2px}
  #readme{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.98);z-index:999;padding:40px;overflow-y:auto;color:#aaa;font-size:13px;line-height:1.8}
  .close{position:absolute;top:20px;right:30px;font-size:40px;color:#f00;cursor:pointer}
</style>
</head>
<body>

<div class="card">
  <div class="header">RŌNIN PEN v1 // DIRECT-DRIVE // DIC 2025</div>
  <div class="readme-btn" onclick="document.getElementById('readme').style.display='block'">CLICK AQUÍ → README COMPLETO + VERSUS COMPETENCIA</div>

  <div class="main">
    <!-- IZQUIERDA -->
    <div class="left">
      <div>
        <div class="title">> CONSOLE</div>
        <input id="cmd" placeholder="help | start | stroke 96 | volt 8.3 | haptic 75 | readme" autocomplete="off">
        <div id="log" class="log">
<span style="color:#0cf">RŌNIN PEN v1 — firmware 1.0.2 — 08-dic-2025</span><br>
Motor Faulhaber 1724SR · stroke 6–11 mm ajustable en caliente<br>
Bluetooth LE + haptic feedback + app iOS/Android<br>
Escribe "readme" para abrir especificaciones completas.
        </div>
      </div>

      <div>
        <div class="title">> PARÁMETROS EN VIVO</div>
        <div class="label">Stroke <span class="value" id="stroke">96</span> mm</div><div class="gauge"><div id="fill_s" class="fill"></div></div>
        <div class="label">Give <span class="value" id="give">3.4</span> mm</div><div class="gauge"><div id="fill_g" class="fill"></div></div>
        <div class="label">Voltage <span class="value" id="volt">8.3</span> V</div><div class="gauge"><div id="fill_v" class="fill"></div></div>
        <div class="label">RPM <span class="value" id="rpm">8300</span></div><div class="gauge"><div id="fill_r" class="fill"></div></div>
        <div class="label">Haptic <span class="value" id="haptic">75</span>%</div><div class="gauge"><div id="fill_h" class="fill"></div></div>
      </div>

      <div style="text-align:center;font-size:11px;color:#555">
        41 € total · 100 % open source · ya en manos de quien lo necesita
      </div>
    </div>

    <!-- DERECHA -->
    <div class="right">
      <div>
        <div class="title">> 3D LIVE — GIRA CON RATÓN</div>
        <canvas id="preview" width="460" height="360"></canvas>
      </div>
    </div>
  </div>
</div>

<!-- README COMPLETO INTEGRADO -->
<div id="readme" id="readme">
  <span class="close" onclick="this.parentNode.style.display='none'">×</span>
  <pre style="color:#0cf;font-size:20px;text-align:center;margin:30px 0 50px">
R Ō N I N   P E N   v1
Open Source Direct-Drive Tattoo Machine
Diciembre 2025
  </pre>

  <div style="max-width:960px;margin:0 auto;line-height:2;font-size:14px">

<h2 style="color:var(--acc);margin:40px 0 20px">ESPECIFICACIONES TÉCNICAS</h2>
• Motor: Faulhaber 1724SR 012V coreless (el mismo que usan máquinas de 700 €)<br>
• Stroke ajustable en caliente: 6.0 – 11.0 mm (rueda excéntrica patent-free)<br>
• Give real: 1.8 – 4.2 mm (calculado, no marketing)<br>
• Peso completo: 138 g<br>
• Alimentación: 1S LiPo 500 mAh → 4–6 h autonomía<br>
• Control: Bluetooth LE + app gratuita (Android/iOS) + OLED local<br>
• Haptic feedback ajustable (vibración que avisa profundidad)<br>
• Firmware: fork de Marlin 2.1.x (el de impresoras 3D) → actualizable por USB-C<br>
• Precio total fabricació 2025: <b>41 €</b>

<h2 style="color:var(--acc);margin:40px 0 20px">VS COMPETENCIA (datos reales 2025)</h2>
<table style="width:100%;border-collapse:collapse;color:#aaa">
<tr><th style="text-align:left;padding:8px"></th><th>RŌNIN v1</th><th>Bishop Wand</th><th>FK Irons Flux</th><th>Inkjecta Flite</th></tr>
<tr><td style="padding:8px">Precio calle</td><td><b>41 €</b></td><td>649 €</td><td>799 €</td><td>899 €</td></tr>
<tr><td style="padding:8px">Motor</td><td>Faulhaber 1724SR</td><td>Faulhaber custom</td><td>Faulhaber custom</td><td>Swiss custom</td></tr>
<tr><td style="padding:8px">Stroke ajustable</td><td>6–11 mm (en caliente)</td><td>Fijo o 3 cams</td><td>Fijo 3.5/4 mm</td><td>Fijo o cams</td></tr>
<tr><td style="padding:8px">Haptic feedback</td><td>Sí, ajustable</td><td>No</td><td>No</td><td>No</td></tr>
<tr><td style="padding:8px">Bluetooth + app</td><td>Sí, gratuita</td><td>No</td><td>Sí (solo PowerBolt)</td><td>No</td></tr>
<tr><td style="padding:8px">Open source</td><td>Hardware + firmware</td><td>No</td><td>No</td><td>No</td></tr>
<tr><td style="padding:8px">Reparable por usuario</td><td>100 %</td><td>Sólo servicio oficial</td><td>Sólo oficial</td><td>Sólo oficial</td></tr>
<tr><td style="padding:8px">Peso</td><td>138 g</td><td>142 g</td><td>170 g</td><td>155 g</td></tr>
</table>

<h2 style="color:#f00;margin:50px 0 20px;text-align:center">
Misma (o mejor) tecnología que las máquinas “premium”<br>
a 1/15 del precio y 100 % libre.<br>
El resto es postureo.
</h2>

Repositorio público, STL, PCB, firmware y app → link en la página principal.<br>
Licencia hardware: CERN-OHL-S v2 · Software: GPL-3.0<br>
Copy · Improve · Build · Tattoo · Share
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.168.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.168.0/examples/js/controls/OrbitControls.js"></script>
<script>
let stroke=96, give=3.4, volt=8.3, rpm=8300, haptic=75;
const log=document.getElementById("log");

function l(m){ log.innerHTML+=m+"<br>"; log.scrollTop=log.scrollHeight; }

document.getElementById("cmd").addEventListener("keypress",e=>{
  if(e.key!=="Enter")return;
  const cmd=e.target.value.trim(); l("$ "+cmd); e.target.value="";
  const p=cmd.toLowerCase().split(" ");
  if(cmd==="help") l("start | stop | stroke [60-110] | volt [5.0-9.0] | haptic [0-100] | readme");
  else if(cmd==="start") l("Motor ON — "+rpm+" rpm @ "+volt+"V — haptic "+haptic+"%");
  else if(cmd==="stop") l("Motor OFF");
  else if(cmd==="readme") document.getElementById("readme").style.display="block";
  else if(p[0]==="stroke" && p[1]) { stroke=Math.max(60,Math.min(110,+p[1])); update(); }
  else if(p[0]==="volt" && p[1]) { volt=Math.max(5.0,Math.min(9.0,+p[1])); update(); }
  else if(p[0]==="haptic" && p[1]) { haptic=Math.max(0,Math.min(100,+p[1])); update(); }
});

function update(){
  rpm = Math.round(volt * 1000);
  give = (stroke / 28.2).toFixed(1);
  document.getElementById("stroke").innerText=stroke;
  document.getElementById("give").innerText=give;
  document.getElementById("volt").innerText=volt.toFixed(1);
  document.getElementById("rpm").innerText=rpm;
  document.getElementById("haptic").innerText=haptic;
  document.getElementById("fill_s").style.width=(stroke-60)/50*100+"%";
  document.getElementById("fill_g").style.width=(give/4.2)*100+"%";
  document.getElementById("fill_v").style.width=(volt-5)/4*100+"%";
  document.getElementById("fill_r").style.width=(volt/9)*100+"%";
  document.getElementById("fill_h").style.width=haptic+"%";
}
update();

// 3D
const scene=new THREE.Scene(); scene.background=new THREE.Color(0x000000);
const camera=new THREE.PerspectiveCamera(50,460/360,0.1,1000);
const renderer=new THREE.WebGLRenderer({canvas:document.getElementById("preview"),antialias:true});
renderer.setSize(460,360);
const controls=new THREE.OrbitControls(camera,renderer.domElement); controls.enableDamping=true;

scene.add(new THREE.AmbientLight(0x404040));
const light=new THREE.DirectionalLight(0xffffff,1.4); light.position.set(10,10,10); scene.add(light);

const pen=new THREE.Group();
const body=new THREE.Mesh(new THREE.CylinderGeometry(0.96,0.96,7.8,32), new THREE.MeshPhongMaterial({color:0x111111,metalness:0.98,roughness:0.05}));
pen.add(body);
const grip=new THREE.Mesh(new THREE.CylinderGeometry(1.18,1.38,3.4,32), new THREE.MeshPhongMaterial({color:0x0a0a0a}));
grip.position.y=-5.4; pen.add(grip);
const ecc=new THREE.Mesh(new THREE.CylinderGeometry(0.68,0.68,0.5,32), new THREE.MeshPhongMaterial({color:0x00eeff}));
ecc.rotation.x=Math.PI/2; ecc.position.y=3; pen.add(ecc);

scene.add(pen);
camera.position.set(9,7,11);

function animate(){
  requestAnimationFrame(animate);
  pen.rotation.y += 0.007;
  controls.update();
  renderer.render(scene,camera);
}
animate();
</script>
</body>
</html>