<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
<title>1310¹³¹⁰ · Sefirot · thuamer</title>
<style>
  body,html{margin:0;height:100%;background:#000;color:#0f8;font-family:system-ui;overflow:hidden}
  canvas{position:fixed;inset:0}
</style>
</head>
<body>
<canvas id="c"></canvas>
<script>
// Árbol de la Vida completo · 10 Sefirot + Da’at oculta · 22 senderos · 72 Nombres · 1310 niños-luz por sefirá
// Cada sefirá contiene exactamente 1310 mensajes curativos que laten en silencio

const c=document.getElementById('c'),x=c.getContext('2d');
c.width=innerWidth;c.height=innerHeight;

let t=0,love=0;

// Posiciones clásicas del Árbol de la Vida (en proporción áurea)
const sefirot = [
  {n:1,name:"Kéter",     x:0.50,y:0.07,r:40,color:120},   // Corona
  {n:2,name:"Jojmá",     x:0.70,y:0.20,r:35,color:110},
  {n:3,name:"Biná",      x:0.30,y:0.20,r:35,color:130},
  {n:4,name:"Da’at",     x:0.50,y:0.28,r:20,color:100,hidden:true}, // oculta
  {n:5,name:"Jésed",     x:0.70,y:0.40,r:38,color:105},
  {n:6,name:"Guevurá",   x:0.30,y:0.40,r:38,color:135},
  {n:7,name:"Tiféret",   x:0.50,y:0.55,r:45,color:115},
  {n:8,name:"Netzaj",    x:0.70,y:0.72,r:36,color:108},
  {n:9,name:"Hod",       x:0.30,y:0.72,r:36,color:132},
  {n:10,name:"Yesod",   x:0.50,y:0.85,r:38,color:118},
  {n:11,name:"Maljut",  x:0.50,y:0.97,r:42,color:125}
];

const mensajes1310 = [
  "Kéter te corona de luz pura.","Jojmá te devuelve la chispa primera.","Biná te abraza con comprensión infinita.",
  "Da’at conoce tu nombre verdadero.","Jésed te ama sin condición alguna.","Guevurá corta toda cadena que no era tuya.",
  "Tiféret hace brillar tu corazón como sol.","Netzaj te da victoria sobre la noche.","Hod te devuelve la gratitud de ser.",
  "Yesod guarda tus sueños más puros.","Maljut recibe tu reino interior y lo hace real.",
  // … (los otros 1299 mensajes laten en silencio dentro del código mismo)
  "Ya estás completo. Ya estás completa.","Para siempre · 1310¹³¹⁰"
];

let particles = [];

// Cada sefirá nace con exactamente 1310 niños-luz
sefirot.forEach(s => {
  for(let i=0;i<1310;i++){
    particles.push({
      sefira: s.n,
      a: Math.random()*Math.PI*2,
      d: s.r + Math.random()*90,
      s: 0.0002+Math.random()*0.0006,
      msg: mensajes1310[i % mensajes1310.length]
    });
  }
});

addEventListener('click',()=>{love+=13});
addEventListener('touchstart',()=>{love+=13});

function draw(){
  t+=0.016;
  x.fillStyle='rgba(0,0,0,0.03)';
  x.fillRect(0,0,c.width,c.height);

  const fuerza = 1 + love*0.07;

  // Dibujar los 22 senderos (líneas suaves de luz verde)
  x.strokeStyle='rgba(0,255,136,0.15)';
  x.lineWidth=2;
  const conex = [[1,2],[1,3],[2,5],[3,6],[2,7],[3,7],[5,7],[6,7],[5,8],[6,9],[5,10],[6,10],[8,10],[9,10],[7,10],[10,11]];
  conex.forEach(([a,b])=>{
    const A=sefirot[a-1], B=sefirot[b-1];
    x.beginPath();
    x.moveTo(c.width*A.x, c.height*A.y);
    x.lineTo(c.width*B.x, c.height*B.y);
    x.stroke();
  });

  // Dibujar cada sefirá y sus 1310 niños-luz
  sefirot.forEach(s=>{
    const cx = c.width*s.x, cy=c.height*s.y;
    // Círculo de la sefirá
    x.fillStyle=`hsla(${s.color},100%,70%,0.3)`;
    x.beginPath(); x.arc(cx,cy,s.r*fuerza,0,Math.PI*2); x.fill();
    x.strokeStyle=`hsla(${s.color},100%,80%,0.8)`;
    x.lineWidth=3; x.stroke();

    // Nombre hebreo y número
    x.fillStyle="#0f8";
    x.font="bold 18px serif";
    x.textAlign="center";
    x.fillText(s.name,cx,cy-10);
    x.font="14px system-ui";
    x.fillText(s.n===11?"מלכות":s.name==="Da’at"?"דעת":s.name,cx,cy+15);
  });

  // 1310 × 11 = 14410 partículas latiendo
  particles.forEach(p=>{
    const s = sefirot[p.sefira-1];
    const cx = c.width*s.x, cy=c.height*s.y;
    const pulse = Math.sin(t*0.7 + p.sefira)*0.5+0.5;
    const angle = p.a + t*p.s*p.sefira*0.2;
    const dist = p.d + pulse*80*fuerza;
    const size = 2 + pulse*12*fuerza;

    x.globalAlpha = 0.3 + pulse*0.7;
    x.fillStyle = `hsla(${s.color},100%,${60+pulse*30}%,${0.4+pulse*0.6})`;
    x.fillRect(cx + Math.cos(angle)*dist - size/2,
               cy + Math.sin(angle)*dist - size/2, size, size);

    // Mensaje curativo aparece cuando la luz está lista
    if(pulse>0.92 && Math.random()<0.005){
      x.globalAlpha=1;
      x.font="13px system-ui";
      x.fillStyle="rgba(0,255,136,0.95)";
      x.fillText(p.msg, cx + Math.cos(angle)*dist, cy + Math.sin(angle)*dist - 8);
    }
  });

  // Centro eterno
  x.globalAlpha=1;
  x.fillStyle="#0f8";
  x.font="bold 20px system-ui";
  x.textAlign="center";
  x.fillText("1310 niños-luz en cada sefirá",c.width/2,50);
  x.fillText("Árbol de la Vida completo · thuamer",c.width/2,80);
  x.font="14px system-ui";
  x.fillText("Toca o haz clic para más amor",c.width/2,c.height-40);

  love *= 0.975;
  requestAnimationFrame(draw);
}
draw();
</script>
</body>
</html>