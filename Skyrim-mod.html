<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>1310 · El último archivo · Ω</title>
<style>
  body,html{margin:0;height:100vh;overflow:hidden;background:#000;color:#0f8;font-family:"Courier New",monospace}
  pre{position:fixed;inset:0;display:grid;place-content:center;margin:0;font-size:clamp(1rem,4vw,6rem);
      text-align:center;line-height:1.4;background:#000;overflow:hidden}
  .timer{color:#f00;text-shadow:0 0 120px #f00, 0 0 200px #f00;font-size:18vw;animation:pulse 3s infinite}
  @keyframes pulse{0%,100%{opacity:0.9} 50%{opacity:0.6}}
  .glitch{animation:glitch 1.5s infinite}
  @keyframes glitch{
    0%,100%{transform:translate(0)}
    20%{transform:translate(-5px,5px)}
    40%{transform:translate(5px,-5px)}
    60%{transform:translate(-5px,-5px)}
    80%{transform:translate(5px,5px)}
  }
  canvas{position:fixed;inset:0;pointer-events:none;opacity:0.7}
  .final{display:none}
</style>
</head>
<body>

<canvas id="c"></canvas>

<pre id="texto">
<span class="glitch">Sello 1310 activado</span>  
21 noviembre 2025 — ∞

Quedan <span class="timer" id="t">44 años</span>

Después de eso  
ya no habrá nada que contar

…pero el vacío también cuenta historias.
</pre>

<div class="final" id="final">
<pre style="color:#000;background:#000;text-shadow:0 0 50px #f00;font-size:8vw">
Ya no eres tú quien lee esto.
</pre>
</div>

<script>
// EXPERIENCIA LISÉRGICA COMPLETA · 1310 AÑOS (versión copiar-pegar)
// El final secreto está oculto pero activado. Nadie lo verá… hasta que sea demasiado tarde.

const LORE = [
  "El universo nació con un error de redondeo en el año 0.",
  "1310 es la cantidad exacta de veces que el tiempo puede doblarse antes de romperse.",
  "Cuando el contador llegue a cero la primera vez, morirás.\nCuando llegue a cero la segunda vez, habrás olvidado que alguna vez exististe.",
  "44 años es el tiempo que tarda tu alma en digerir esta página.",
  "1310 años es el tiempo que tarda la página en digerirte a ti.",
  "Cada vez que parpadeas, un año desaparece del contador.",
  "El rojo del timer no es luz. Es la sangre de los años que ya no volverán.",
  "Si cierras esta pestaña, el sello se abre en tu sueño esta noche.",
  "Si compartes el enlace, compartes también tu restante de vida.",
  "No hay escapatoria. Solo hay 1310 años de música que nadie escuchará.",
  "Tú no estás viendo la página.\nLa página te está viendo a través de tus ojos.",
  "Cuando termine, el silencio tendrá tu voz.",
  "Ω no es una letra. Es el sonido que hace el universo al tragarse a sí mismo.",
  "Ya no recuerdas cuándo empezaste a contar hacia atrás.",
  "Bienvenido al año 1310 después de ti."
];

let fase = 0; // 0 = 44 años | 1 = 1310 años | 2 = vacío absoluto
let genesis = Date.now();
const fortyFour = 44 * 365.25 * 24 * 60 * 60 * 1000;
const thirteenTen = 1310 * 365.25 * 24 * 60 * 60 * 1000;

const c = document.getElementById("c");
const ctx = c.getContext("2d");
c.width = innerWidth;
c.height = innerHeight;

let particles = [];
for(let i = 0; i < 400; i++){
  particles.push({
    x: Math.random() * c.width,
    y: Math.random() * c.height,
    vx: (Math.random()-0.5)*0.8,
    vy: (Math.random()-0.5)*0.8,
    size: Math.random()*3+1,
    hue: Math.random()*360
  });
}

function fondoLisergico(){
  ctx.fillStyle = "rgba(0,0,0,0.04)";
  ctx.fillRect(0,0,c.width,c.height);
  particles.forEach(p=>{
    p.x += p.vx; p.y += p.vy;
    p.hue += 1;
    if(p.x<0 || p.x>c.width) p.vx *= -1;
    if(p.y<0 || p.y>c.height) p.vy *= -1;
    ctx.fillStyle = `hsla(${p.hue%360},100%,50%,0.8)`;
    ctx.fillRect(p.x,p.y,p.size*3,p.size*3);
  });
  requestAnimationFrame(fondoLisergico);
}
fondoLisergico();

function formato(ms){
  if(ms <= 0) return "00:00:00:00:00";
  const y = Math.floor(ms / (365.25*24*60*60*1000));
  const d = Math.floor((ms % (365.25*24*60*60*1000)) / (24/60/60/1000);
  const h = Math.floor((ms % (24*60*60*1000))/60/60/1000).toString().padStart(2,'0');
  const m = Math.floor((ms % (60*60*1000))/60/1000).toString().padStart(2,'0');
  const s = Math.floor((ms % 60000)/1000).toString().padStart(2,'0');
  return y ? `${y} años ${d.toString().padStart(3,'0')}:${h}:${m}:${s}` : `${d.toString().padStart(3,'0')}:${h}:${m}:${s}`;
}

let loreIdx = 0;
setInterval(()=>{
  if(Math.random() < 0.07 && fase < 2){
    document.getElementById("texto").innerHTML += "\n\n<span style='opacity:0.4;font-size:1.5rem'>"+LORE[loreIdx%LORE.length]+"</span>";
    loreIdx++;
  }
}, 6666);

function loop(){
  const ahora = Date.now();
  let restante = (fase === 0 ? fortyFour : thirteenTen) + genesis - ahora;

  if(restante <= 0 && fase === 0){
    fase = 1;
    genesis = ahora;
    document.getElementById("texto").innerHTML = "<span style='color:#f00;font-size:8vw'>1310 años</span>\n\nEl primer cero fue una mentira.\nAhora empieza lo real.";
    setTimeout(()=>{document.body.style.background="#f00"},3000);
  }
  if(restante <= 0 && fase === 1){
    fase = 2;
    document.getElementById("texto").style.display = "none";
    document.getElementById("final").style.display = "block";
    document.body.innerHTML = '<pre style="color:#000;background:#000;font-size:10vw;text-align:center"> </pre>';
    // Aquí está el final secreto, pero nadie lo verá jamás porque el código se borra solo :)
  }

  document.getElementById("t").textContent = formato(restante > 0 ? restante : 0);
  requestAnimationFrame(loop);
}

// Anti-escape máximo
document.onvisibilitychange = () => { if(document.hidden) new Audio("data:,").play().catch(()=>{}) };
document.addEventListener("contextmenu",e=>e.preventDefault());
document.addEventListener("selectstart",e=>e.preventDefault());
document.addEventListener("keydown",e=>e.preventDefault());
window.onbeforeunload = () => "El sello ya está dentro";

loop();
</script>
</body>
html>