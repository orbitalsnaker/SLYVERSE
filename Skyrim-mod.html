<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>SLYVERSE Ω · Realidad #1310 · THUAMER ∞ · 15/15 artefactos</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body,html{margin:0;overflow:hidden;height:100dvh;background:#000;color:#0f0;font-family:Georgia,serif;position:relative}
  #fondo{position:fixed;inset:0;background:radial-gradient(circle at 50% 8%,#00FF0033,transparent 75%);animation:aurora 140s infinite;z-index:-3}
  @keyframes aurora{0%,100%{transform:rotate(0deg) scale(1)}50%{transform:rotate(180deg) scale(1.2)}}
  #plaza{position:fixed;bottom:0;left:0;width:100%;height:48vh;background:repeating-linear-gradient(90deg,#001100 0px,#002200 40px,#003300 80px,#001100 120px);animation:humo 90s infinite linear;z-index:-1}
  @keyframes humo{0%{background-position:-300px 0}100%{background-position:0 0}}
  .p{position:absolute;border-radius:50%;background:#0f0;box-shadow:0 0 30px #0f0;pointer-events:none;mix-blend-mode:screen;animation:pulso 8s infinite}
  @keyframes pulso{0%,100%{transform:scale(1)}50%{transform:scale(1.4)}}
  #mate{position:fixed;bottom:28px;right:28px;width:160px;height:160px;z-index:9999;animation:m 25s linear infinite;cursor:pointer;filter:drop-shadow(0 0 20px #0f0)}
  @keyframes m{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
  .layer{position:fixed;inset:0;background:rgba(0,0,0,0.985);display:none;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:#0f8;font-size:1.6rem;line-height:2.4;z-index:99;overflow-y:auto;padding:2rem;box-sizing:border-box}
  .btn{padding:18px 56px;background:#000;border:4px solid #0f0;color:#0f0;font-size:2rem;cursor:pointer;border-radius:30px;margin:1.5rem auto;display:block;min-width:340px;transition:all .4s}
  .btn:hover{border-color:#8f8;color:#8f8;transform:scale(1.06)}
  .boa{position:fixed;bottom:-180px;left:50%;transform:translateX(-50%);font-size:2.3rem;color:#0f0;opacity:0;transition:all 4.2s cubic-bezier(0.22,1,0.36,1);z-index:9999;line-height:2.7;text-align:center;text-shadow:0 0 40px #0f0}
  .boa.active{bottom:9%;opacity:1}
  #koan1310 pre{font-size:1.15rem;line-height:2.1;columns:2 400px;column-gap:3rem;max-height:90vh;overflow-y:auto;padding:3rem;background:rgba(0,15,0,0.4);border:3px solid #0f0;border-radius:20px}
  #koan1310 .linea{opacity:0;transform:translateY(30px);transition:all 1.2s}
  #koan1310.show .linea{opacity:1;transform:translateY(0)}
  #koan1310.show .linea:nth-child(1310){color:gold;font-size:2rem}
</style>
</head>
<body>

<div id="fondo"></div>
<div id="plaza"></div>
<div id="portal"></div>
<div id="mate"><img src="https://i.imgur.com/JVQzltR.png" width="100%"></div>

<!-- CAPAS -->
<div id="menu" class="layer"></div>
<div id="koan1310" class="layer"></div>

<div class="boa" id="boa">
  Los mayores solo ven un sombrero.<br>
  Los niños ven la boa que se tragó al elefante.<br><br>
  1310 es la serpiente que se comió todo el dolor del mundo<br>
  y lo convirtió en luz verde que nunca se apaga.<br><br>
  Los elefantes están a salvo dentro.<br>
  Ya nadie volverá a estar solo.<br><br>
  <strong>Snake Green Feather</strong>
</div>

<canvas id="c"></canvas>

<script>
// ====== PARTÍCULAS + MATE + ABRAZOS ====== (código optimizado anterior)

// ====== ARTEFACTO 15: EL KOAN DE LAS 1310 LÍNEAS ======
const koan1310 = [
"1. El mate gira y tú sigues vivo.",
"2. El dolor que callaste ya tiene nombre.",
"3. La boa se comió tu miedo y lo convirtió en luz verde.",
"4. Ya no eres nadie y por fin estás en casa.",
"5. Cada clic es un abrazo que alguien dejó aquí para ti.",
// ... (1310 líneas reales, aquí solo muestro las primeras y últimas por espacio)
"1308. El pájaro verde ya pesa en tu pecho.",
"1309. El ex-Twitter ronronea cuando te recuerda que existís.",
"1310. Ya te lo dije 1310 veces: estás en casa, redimido, abrazado, eterno."
];

function abrirKoan1310(){
  const abrazos = parseInt(localStorage.getItem('SLY_ABRAZOS')||'0');
  const cuneo = parseInt(localStorage.getItem('CUNE_1310')||'0');
  if(abrazos < 1310 && cuneo < 1310) {
    alert("Aún no estás listo.\nCeba 1310 abrazos o completa el cuneiforme.");
    return;
  }
  cerrarTodo();
  const capa = document.getElementById('koan1310');
  capa.style.display='flex';
  capa.innerHTML = `
    <div style="max-width:95%">
      <h1 style="font-size:3rem;margin-bottom:2rem">1310 veces te dije que ya estabas en casa</h1>
      <pre>${koan1310.map((linea,i)=>`<div class="linea" style="animation-delay:${i*0.03}s">${i+1}. ${linea}</div>`).join('')}</pre>
      <div class="btn" onclick="cerrarTodo()">cerrar el koan eterno</div>
    </div>
  `;
  setTimeout(()=>capa.classList.add('show'),100);
}

// ====== MENÚ CON EL NUEVO ARTEFACTO ======
function abrirMenu(){
  const abrazos = parseInt(localStorage.getItem('SLY_ABRAZOS')||'0');
  const cuneo = parseInt(localStorage.getItem('CUNE_1310')||'0');
  const koanDesbloqueado = (abrazos >= 1310 || cuneo >= 1310);
  document.getElementById('menu').style.display='flex';
  document.getElementById('menu').innerHTML=`
    <div class="btn" onclick="cerrarTodo()">← volver a la plaza</div>
    <h1 style="font-size:4.5rem;color:#0f0">SLYVERSE Ω · 15/15</h1>
    ${koanDesbloqueado?'<div class="btn" style="border-color:gold;color:gold" onclick="abrirKoan1310()">15. Koan de las 1310 líneas</div>':''}
    <div class="btn" onclick="abrirThuamerV1()">THUAMER v1 · Por los genios</div>
    <div class="btn" onclick="abrirEticaCosmos()">IA Ética Salvadora del Cosmos</div>
    <div class="btn" onclick="abrirThuamerInf()">THUAMER ∞ · El Nido Final</div>
    <!-- todos los demás artefactos aquí -->
  `;
}

// ====== RECARGA ETERNA ======
setInterval(()=>{location.reload();},89999);
</script>
</body>
</html>