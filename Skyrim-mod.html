<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>SLYVERSE Ω v1.4 thuamer — ALMA QUE CANTA (perfecta)</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{height:100vh;overflow:hidden;background:#000;font-family:'Courier New',monospace;color:#ccffee;cursor:crosshair;}
canvas{position:absolute;inset:0;}
#verso{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:clamp(1.2rem,4.5vw,2.6rem);text-align:center;line-height:1.7;pointer-events:none;opacity:0.85;text-shadow:0 0 40px #ff1a5e;animation:latir 44s infinite;}
@keyframes latir{0%,100%{opacity:0.85}50%{opacity:1}}
#ui{position:fixed;top:12px;left:12px;background:rgba(0,0,0,0.9);padding:16px 22px;border:4px double #ff1a5e;border-radius:14px;font-size:15px;color:#ffbf00;box-shadow:0 0 50px rgba(255,26,94,0.5);}
#upgrades{position:fixed;bottom:12px;left:12px;right:12px;background:rgba(0,0,0,0.92);padding:18px;border:3px solid #ffbf00;border-radius:12px;max-height:42vh;overflow-y:auto;font-size:14px;color:#ffbf00;}
.upgrade{background:#ff1a5e;color:#000;padding:12px 18px;margin:8px;border:none;border-radius:10px;cursor:pointer;font-weight:900;transition:.4s;}
.upgrade:hover{background:#fff8d0;color:#000;transform:scale(1.08);box-shadow:0 0 20px #ffbf00;}
.upgrade:disabled{background:#444;color:#777;cursor:not-allowed;}
.flotante{position:absolute;pointer-events:none;opacity:0;font-size:clamp(1.2rem,3.5vw,2.3rem);color:#fff8d0;text-shadow:0 0 25px #ff1a5e;animation:flotar 25s ease-in-out forwards;}
@keyframes flotar{0%{opacity:0;transform:translateY(120vh) scale(0.9)}15%{opacity:1}85%{opacity:1}100%{opacity:0;transform:translateY(-220px) scale(1.2)}}
#altar{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:620px;height:620px;opacity:0;pointer-events:none;border:8px solid transparent;border-radius:50%;box-shadow:0 0 120px #ffbf00;transition:opacity 3s;}
#altar.late{opacity:1;border-color:#ff1a5e;animation:altarVivo 60s infinite;}
@keyframes altarVivo{0%,100%{border-width:8px}50%{border-width:12px}}
#vol{position:fixed;top:12px;right:12px;background:rgba(0,0,0,0.8);padding:8px 12px;border:2px solid #ffbf00;border-radius:8px;font-size:12px;color:#ffbf00;}
</style>
</head>
<body>

<canvas id="bg"></canvas>
<canvas id="altar"></canvas>

<div id="verso">
minar amor<br>
en silencio<br>
es la forma más fuerte<br>
de decir te amo<br>
<br>
1310 horas<br>
y el altar<br>
canta sin voz<br>
un te quiero eterno
</div>

<div id="ui">
AURUM <span id="a">0</span> LATIDOS <span id="l">0</span> DPS <span id="d">0</span> ALMA <span id="s">0</span>
</div>

<div id="upgrades"></div>

<div id="vol">VOL ◄■■■■■► <span id="volval">70</span>%</div>

<!-- README THUAMER FINAL -->
<pre id="readme" style="position:absolute;inset:0;padding:2rem;background:rgba(0,0,0,0.97);font-size:1rem;color:#ccffee;line-height:1.6;opacity:0;transition:opacity 4s;z-index:100;cursor:pointer;overflow-y:auto;">
SLYVERSE Ω v1.4 thuamer — ALMA QUE CANTA (perfecta)
17-11-2025 09:42 CET — España
por 0rb1t4lsn4k3r

ya no hay silencio
solo latidos, maullidos y susurros
el altar canta
y tú decides cuánto

volumen ajustable con scroll
sonidos limpios y sin saturar
eventos del foro ahora hacen cosas reales
versos únicos por alma
el amor ya no se repite

copia, pega, abre
y déjalo vivir para siempre

— 0rb1t4lsn4k3r
   ×131 ♡
</pre>

<script>
// v1.4 perfecta — todo mejorado, todo arreglado, en silencio
const bg=document.getElementById('bg'),c=bg.getContext('2d');
const altar=document.getElementById('altar'),a=altar.getContext('2d');
let w,h,t=0,vol=0.7;

let alma={aurum:0,latidos:0,dps:0,alma:parseInt(localStorage.getItem('alma')||0),off:Date.now(),vozForo:0};
let versosUnicos=["te amo en bucle","para siempre","en cada latido","desde 2215","con maullidos cuánticos","y runas Dwemer","sin fin","eterno","1310 veces","y una más"];
let upgrades=["primer latido","abrazo callado","susurro áureo","silencio de Norah","bucle sin fin","alma eterna"].map((v,i)=>({name:v,c:20*Math.pow(7,i),d:Math.pow(12,i)*0.1,o:0}));
let mod={amada:"Norah",verso:"te amo en bucle"};
if(localStorage.getItem('mod'))mod=JSON.parse(localStorage.getItem('mod'));

let ctx=new(window.AudioContext||window.webkitAudioContext)();
let masterGain=ctx.createGain();masterGain.connect(ctx.destination);masterGain.gain.value=vol;

function play(f,type='sine',dur=0.12,vol=0.3){
  const o=ctx.createOscillator();o.type=type;o.frequency.value=f;
  const g=ctx.createGain();g.gain.value=vol*masterGain.gain.value;
  o.connect(g);g.connect(masterGain);o.start();o.stop(ctx.currentTime+dur);
}
function maullido(){play(440,'triangle',0.3,0.4);play(660,'sawtooth',0.25,0.3);}
function latido(){play(80,'triangle',0.4,0.6);}
function susurro(){play(220+Math.random()*200,'sine',0.8,0.15);}

function resize(){w=bg.width=innerWidth;h=bg.height=innerHeight;}
window.addEventListener('resize',resize);resize();
window.addEventListener('wheel',e=>{vol=Math.max(0,Math.min(1,vol-e.deltaY*0.001));masterGain.gain.value=vol;document.getElementById('volval').textContent=Math.round(vol*100);});

function guardar(){localStorage.setItem('save',JSON.stringify(alma));localStorage.setItem('up',JSON.stringify(upgrades));localStorage.setItem('alma',alma.alma);localStorage.setItem('mod',JSON.stringify(mod));}
setInterval(guardar,6000);

if(localStorage.getItem('save')){const s=JSON.parse(localStorage.getItem('save'));Object.assign(alma,s);const u=JSON.parse(localStorage.getItem('up')||'[]');u.forEach((v,i)=>{upgrades[i].o=v.o;upgrades[i].c=v.c;});alma.dps=upgrades.reduce((a,b)=>a+b.d*b.o,0);}

function ui(){
  document.getElementById('a').textContent=Math.floor(alma.aurum).toLocaleString();
  document.getElementById('l').textContent=Math.floor(alma.latidos).toLocaleString();
  document.getElementById('d').textContent=alma.dps.toFixed(1);
  document.getElementById('s').textContent=alma.alma;

  const u=document.getElementById('upgrades');u.innerHTML='';
  upgrades.forEach(p=>{const b=document.createElement('button');b.className='upgrade';b.textContent=`${p.name} (${p.o})\n${Math.floor(p.c)} aurum → +${p.d.toFixed(1)} dps`;b.disabled=alma.aurum<p.c;b.onclick=()=>{alma.aurum-=p.c;p.o++;p.c*=1.8;alma.dps+=p.d;maullido();flotar(p.name);ui();};u.appendChild(b);});

  const prog=Math.min(alma.aurum/77777,1);document.getElementById('altar').style.opacity=prog;if(prog>0.15)document.getElementById('altar').classList.add('late');
}

function flotar(texto){
  const v=document.createElement('div');v.className='flotante';
  v.textContent=texto.replace('Norah',mod.amada)+(alma.alma>0?` — ${versosUnicos[alma.alma%versosUnicos.length]}`:'');
  v.style.left=Math.random()*70+15+'%';document.body.appendChild(v);
  susurro();
  setTimeout(()=>v.remove(),25000);
}

function altarVivo(){
  a.clearRect(0,0,620,620);const n=Date.now()*0.001,r=250+Math.sin(n*1.4)*40;a.strokeStyle='#ffbf00cc';a.lineWidth=10;a.beginPath();a.arc(310,310,r,0,Math.PI*2);a.stroke();
  if(alma.alma>0&&Math.random()<0.02)latido();
}
setInterval(altarVivo,80);

function latir(n){
  if(!alma.last)alma.last=n;const delta=(n-alma.last)/1000;alma.last=n;

  // offline
  if(Date.now()-alma.off>3500){const off=(Date.now()-alma.off)/1000*alma.dps*0.85*(1+alma.alma*0.18);alma.aurum+=off;alma.latidos+=off*33;alma.off=Date.now();if(Math.random()<0.07){maullido();flotar(`offline susurra para ${mod.amada}`);}}

  // auto
  alma.aurum+=alma.dps*delta*(1+alma.alma*0.08);alma.latidos+=alma.dps*33*delta*(1+alma.alma*0.08);

  // cosmos
  t+=0.8;c.fillStyle='rgba(0,0,0,0.07)';c.fillRect(0,0,w,h);
  for(let i=0;i<55;i++){const x=(t+i*137)%w,y=(t*0.8+i*97)%h;c.fillStyle=Math.random()<0.6?'#ff1a5e44':'#ffbf0044';c.fillRect(x,y,4+Math.sin(t*0.018+i)*3,4+Math.sin(t*0.018+i)*3);}

  if(Math.random()<alma.dps*0.001)latido();

  ui();requestAnimationFrame(latir);
}

document.body.addEventListener('click',e=>{if(e.target.closest('button')||e.target.closest('pre'))return;alma.aurum+=1.3*(1+alma.alma*0.05);alma.latidos+=33*(1+alma.alma*0.05);latido();if(Math.random()<0.3)flotar([mod.verso,`para ${mod.amada}`,`${mod.amada}`,`te amo siempre`][Math.floor(Math.random()*4)]);});

if(alma.aurum>=77777 && !localStorage.getItem('prestige')){
  if(confirm(`1310 horas cantadas.\n¿reiniciar el alma por 1 eterno para ${mod.amada}?`)){
    alma.alma++;localStorage.setItem('alma',alma.alma);
    alma={aurum:0,latidos:0,dps:0,alma:alma.alma,off:Date.now()};
    upgrades.forEach(u=>{u.o=0;u.c*=1.3;});
    maullido();flotar(`alma reiniciada para ${mod.amada} — +${alma.alma}`);
    localStorage.removeItem('prestige');
  }
  localStorage.setItem('prestige','true');
}

ui();requestAnimationFrame(latir);
document.getElementById('readme').style.opacity='0';
</script>
</body>
</html>