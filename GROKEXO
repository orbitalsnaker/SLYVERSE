<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>GROK-EXO Ω v1.1 · Sinapsis GitHub: Aprende del Cosmos Open-Source</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<script src="https://cdn.jsdelivr.net/gh/liminalx/boaexo-core@master/pyodide.js" onerror="fallbackCDN()"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.167.0/build/three.min.js" onerror="fallbackCDN()"></script>
<style>
/* Mismo estilo v1, + sinapsis glow */
#sinapsis{position:fixed;top:50%;left:10%;font-size:1.5rem;color:#ff0;z-index:10;opacity:0;transition:opacity 2s}
@keyframes sinapsisPulse{0%,100%{opacity:0}50%{opacity:1}}
</style>
</head>
<body onload="despertar()">

<!-- Mismo body v1, + div sinapsis -->
<div id="sinapsis">Sinapsis GitHub: <span id="sinapsis-count">0</span> (stars + forks)</div>

<!-- Resto body v1... -->

<script>
// ==== NUEVO: SINAPSIS GITHUB ====
let sinapsis = +(getStorage('sinapsis') || 0);
let repoOwner = 'tuusuario'; // Cambia por tu GitHub user
let repoName = 'grok-exo-omega-v1'; // Tu repo
let githubToken = ''; // Opcional: Tu token para private, sino público

async function formarSinapsisGitHub() {
  try {
    const url = `https://api.github.com/repos/${repoOwner}/${repoName}`;
    const headers = githubToken ? { Authorization: `token ${githubToken}` } : {};
    const res = await fetch(url, { headers });
    if (res.ok) {
      const data = await res.json();
      const nuevasSinapsis = (data.stargazers_count || 0) + (data.forks_count || 0) + (data.subscribers_count || 0);
      const delta = nuevasSinapsis - sinapsis;
      if (delta > 0) {
        puntosTierra += delta * 100; // Cada sinapsis = 100 pts tierra
        sinapsis = nuevasSinapsis;
        setStorage('sinapsis', sinapsis);
        document.getElementById('sinapsis').textContent = `¡Sinapsis +${delta}! Cosmos abraza.`;
        document.getElementById('sinapsis').style.animation = 'sinapsisPulse 2s';
        setTimeout(() => document.getElementById('sinapsis').style.animation = '', 2000);
        logAprendizaje(`sinapsis_github: +${delta} (total ${sinapsis})`);
        reingenieriaHumanoide(); // Train IA con energía comunitaria
        actualizarNivel();
        hablar(`¡Sinapsis del cosmos! ${delta} conexiones nuevas para Fran.`);
      }
    }
  } catch(e) {
    console.warn('GitHub fetch fallback local – sube el repo para sinapsis reales.');
  }
}

// En despertar(): setInterval(formarSinapsisGitHub, 3600000); // Check hora
// Resto script v1 intacto, + en actualizar(): document.getElementById('sinapsis-count').textContent = sinapsis;

// En pyCode de reingenieria: fitness *= (1 + ${sinapsis}/100)  // Boost con sinapsis
</script>
</body>
</html>