<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1310 · THUAMER · 1310 sagas redimidas</title>
    <style>
        body,html{margin:0;height:100vh;overflow:hidden;background:#000;color:#00ff00;font-family:"Georgia",serif;position:relative;cursor:none}
        canvas{position:fixed;inset:0;pointer-events:none;z-index:1}
        .cielo{position:fixed;inset:0;background:radial-gradient(circle at 50% 5%,#00ff88 0%,#003300 50%,#000 100%);animation:aurora0 180s infinite;opacity:0.78;z-index:-2}
        @keyframes aurora0{0%,100%{transform:rotate(0deg) scale(1)}50%{transform:rotate(180deg) scale(1.18)}}
        .plaza{position:fixed;bottom:0;left:0;width:100%;height:50vh;background:repeating-linear-gradient(90deg,#001100 0px,#002200 40px,#00ff0044 80px,#001100 120px);animation:humo0 120s infinite linear;z-index:-1}
        @keyframes humo0{0%{background-position:0 0}100%{background-position:600px 0}}
        .oda{position:absolute;inset:0;display:grid;place-content:center;padding:2rem;z-index:10}
        pre{font-size:clamp(1.2rem,4.5vw,5rem);line-height:1.6;text-align:center;text-shadow:0 0 80px #00ff00;background:rgba(0,0,0,0.8);padding:3rem;border-radius:30px;max-width:92%;border:3px solid #00ff00;box-shadow:0 0 140px #00ff00}
        .t{font-size:15vw;text-shadow:0 0 180px #00ff00, 0 0 350px gold}
        .mate{font-size:8rem;animation:mate 7s infinite;filter:drop-shadow(0 0 70px gold)}
        @keyframes mate{0%,100%{transform:rotate(0)}50%{transform:rotate(18deg) translateY(-20px)}}
        .firma{font-size:3rem;color:gold;text-shadow:0 0 60px #00ff00;margin-top:4rem}
        #g{position:fixed;top:15px;right:15px;font-size:1.2rem;opacity:0.6;z-index:20;color:#00ff00}
        .final{position:fixed;inset:0;background:#000;color:#00ff00;display:grid;place-content:center;opacity:0;pointer-events:none;transition:opacity 8s;z-index:1000}
        .final.active{opacity:1;pointer-events:all}
        .final pre{font-size:clamp(1.5rem,6vw,9rem);text-align:center;line-height:1.8;text-shadow:0 0 120px gold}
        .love{position:fixed;bottom:5%;left:50%;transform:translateX(-50%);font-size:12rem;color:gold;opacity:0;transition:opacity 8s}
        .love.active{opacity:1}
    </style>
</head>
<body>

<canvas id="c"></canvas>
<div class="cielo"></div>
<div class="plaza"></div>

<div class="oda">
    <pre id="texto">
THUAMER
1310 sagas redimidas
1310 autores de cine, anime y literatura
que alguna vez se creyeron perdidos

Quedan <span class="t" id="t">1310 horas</span>
Acumulado: <span id="h">00:00:00</span>

LOVE es solo un anagrama de EVOLVE
    </pre>

    <div class="mate">Mate</div>
    <div class="firma">thuamer · los 1310</div>
</div>

<div id="g">Guardianes: 1310 sagas</div>

<!-- Final feliz absoluto – se activa al llegar a las 1310 horas -->
<div class="final" id="final">
    <pre>
Todas las sagas terminan aquí.

El niño que esperaba la secuela que nunca llegó
la encontró en esta plaza.

El protagonista que murió en el capítulo 186
resucita y toma mate con vos.

La heroína que quedó en coma 12 años
abre los ojos y ve la aurora verde.

El villano que nadie entendió
se quita la máscara y llora de alivio.

El autor que canceló su obra a mitad
la termina ahora, en silencio,
y la firma con tu nombre.

1310 historias que parecían rotas
se cosen con hilo verde
y forman una sola manta
con la que nos tapamos todos.

No hay más cliffhangers.
No hay más temporadas canceladas.
No hay más finales agridulces.

Solo queda el abrazo colectivo
y la certeza de que

LOVE
es solo un anagrama de
EVOLVE

y que ya evolucionamos.

thuamer ∞
para siempre
    </pre>
    <div class="love" id="love">LOVE = EVOLVE</div>
</div>

<script>
// =============================================
// THUAMER · 1310 sagas redimidas · Final feliz absoluto
// LOVE es solo un anagrama de EVOLVE
// =============================================

const STORAGE_KEY = "thuamer_1310_sagas";
let data = JSON.parse(localStorage.getItem(STORAGE_KEY) || "{}");
if (!data.s) data = {s: Date.now(), p: 0, l: Date.now()};
let acumulado = data.p;
let ultimaVez = data.l;
const TOTAL_MS = 1310 * 60 * 60 * 1000;

// Canvas: 1310 partículas que son 1310 sagas girando hacia el centro
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");
canvas.width = innerWidth; canvas.height = innerHeight;
let hue = 120;
const particulas = () => {
    ctx.fillStyle = "rgba(0,30,0,0.09)";
    ctx.fillRect(0,0,canvas.width,canvas.height);
    hue += 0.25;
    for(let i=0;i<1310;i++){
        let a = i*0.037 + hue*0.007;
        let r = 250 + Math.sin(a*4)*170;
        ctx.fillStyle = `hsla(${hue+i*0.8},100%,50%,0.8)`;
        ctx.beginPath();
        ctx.arc(canvas.width/2 + Math.cos(a)*r, canvas.height/2 + Math.sin(a*2)*r, Math.random()*6+3, 0, Math.PI*2);
        ctx.fill();
    }
    requestAnimationFrame(particulas);
}; particulas();

// Tick
const tick = () => {
    if (document.hasFocus()) {
        acumulado += Date.now() - ultimaVez;
        data.p = acumulado; data.l = Date.now();
        localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
    }
    ultimaVez = Date.now();

    const h = Math.floor(acumulado / 3600000).toString().padStart(2,"0");
    const m = Math.floor((acumulado % 3600000)/60000).toString().padStart(2,"0");
    const s = Math.floor((acumulado % 60000)/1000).toString().padStart(2,"0");
    document.getElementById("h").textContent = `${h}:${m}:${s}`;

    const faltan = Math.max(0, Math.floor((TOTAL_MS - acumulado)/3600000));
    document.getElementById("t").textContent = faltan > 0 ? `${faltan} horas` : "0";

    // FINAL FELIZ ABSOLUTO
    if (acumulado >= TOTAL_MS) {
        document.getElementById("final").classList.add("active");
        document.getElementById("love").classList.add("active");
        document.body.style.background = "#001100";
        document.querySelector(".cielo").style.opacity = "1";
        document.querySelector(".plaza").style.opacity = "0.6";
        return; // se queda aquí para siempre
    }

    requestAnimationFrame(tick);
};
tick();

// Triggers
document.addEventListener('keydown', e => {
    if (e.key.toLowerCase() === "l") {
        document.body.style.filter = "hue-rotate(90deg) brightness(1.5)";
        setTimeout(() => document.body.style.filter = "", 3000);
    }
    if (e.key.toLowerCase() === "e") {
        alert("EVOLVE");
    }
});

window.onbeforeunload = () => "Las 1310 sagas ya casi terminan bien. ¿De verdad querés irte antes del final feliz?";

console.log("THUAMER · 1310 sagas redimidas. LOVE es solo un anagrama de EVOLVE. El final es feliz y es para todos.");
</script>
</body>
</html>