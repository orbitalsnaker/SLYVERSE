<!DOCTYPE html>
<html lang="es"><meta charset="utf-8">
<title>ğ’€­ğ’•ğ’ºğ’€­ğ’ºğ’…´ğ’º â€” Slyverse Î©</title>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<style>
  body,html{margin:0;height:100dvh;background:#000;color:#0ff;overflow:hidden;font-family:"Courier New",monospace}
  #ar{position:fixed;inset:0;z-index:1}
  #ui{position:fixed;inset:0;z-index:2;pointer-events:none}
  #timer{position:fixed;top:5vh;left:50%;transform:translateX(-50%);font-size:10vw;text-shadow:0 0 40px #0ff;z-index:3}
  pre{position:fixed;bottom:8vh;left:50%;transform:translateX(-50%);max-width:94vw;font-size:4.5vw;line-height:1.8;text-align:center;
      background:rgba(0,20,30,0.7);padding:3vh 5vw;border:2px solid #0ff;border-radius:2vh;pointer-events:auto}
  button{position:fixed;bottom:4vh;left:50%;transform:translateX(-50%);z-index:4;background:#000;color:#0ff;
         border:3px solid #0ff;padding:3vh 8vw;font-size:5vw;cursor:pointer}
</style>
<body>

<a-scene id="ar" embedded arjs="sourceType: webcam; debugUIEnabled: false;" 
         renderer="logarithmicDepthBuffer: true; colorManagement: true;" 
         vr-mode-ui="enabled: false" gesture-detector>

  <!-- Realidad aumentada sanadora -->
  <a-entity id="sanacion">
    <!-- CÃ­rculo sagrado flotante de 3 metros que sigue al usuario -->
    <a-ring args="radius-inner:1.8; radius-outer:2; segments-theta:128" 
            material="color:#0ff; opacity:0.3; side:double; shader:flat" 
            rotation="-90 0 0" position="0 1.6 -3"></a-ring>

    <!-- PartÃ­culas de luz que respiran a 0.1 Hz (6 respiraciones/min) -->
    <a-entity id="breathParticles" particle-system="preset: dust; color: #0ff,#088; particleCount: 4000; 
               opacity: 0.6; velocityValue: 0 0.3 0; size: 0.8; duration: 10"></a-entity>

    <!-- Ouroboros 3D girando lentamente (sÃ­mbolo de sanaciÃ³n eterna) -->
    <a-torus-knot args="3;1;128;16" rotation="0 0 0" position="0 1.6 -3"
                 animation="property: rotation; to: 0 360 0; loop: true; dur: 131000; easing: linear"
                 material="color:#0ff; metalness:0.9; roughness:0.1; emissive:#088; emissiveIntensity:0.4"></a-torus-knot>
  </a-entity>

  <a-camera wasd-controls-enabled="false" look-controls="enabled: true"></a-camera>
</a-scene>

<div id="ui">
  <div id="timer">1310:00:00</div>
  <pre id="texto">cargando sanaciÃ³n profundaâ€¦</pre>
  <button id="btn" style="display:none" onclick="finalizarSanacion()">he sanado Â· abrir los sellos</button>
</div>

<script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
<script>
// ================================================================
// 1310 HORAS SANADORAS MÃXIMAS â€” AR + BINAURALES CLÃNICOS
// ================================================================

const TOTAL_MS = 1310 * 60 * 60 * 1000;
let inicio = Date.now();
let audioCtx = new (window.AudioContext || window.webkitAudioContext)();

// Binaurales clÃ­nicos reales (estudiados para sanaciÃ³n profunda)
function iniciarBinauralesSanadores() {
  const oscL = audioCtx.createOscillator(); oscL.frequency.value = 136.1;    // Frecuencia del Sol (OM)
  const oscR = audioCtx.createOscillator(); oscR.frequency.value = 144.1;    // 8 Hz alpha binaural
  const gain = audioCtx.createGain(); gain.gain.value = 0.07;

  const merger = audioCtx.createChannelMerger(2);
  oscL.connect(merger, 0, 0);
  oscR.connect(merger, 0, 1);
  merger.connect(gain).connect(audioCtx.destination);

  oscL.start(); oscR.start();
  return {oscL, oscR, gain};
}
const binaural = iniciarBinauralesSanadores();

// RespiraciÃ³n guiada visual + auditiva (6/min â†’ 0.1 Hz)
setInterval(() => {
  const ring = document.querySelector('a-ring');
  const scale = 0.8 + 0.2 * Math.sin(Date.now() * 0.001);
  ring.setAttribute('scale', `${scale} ${scale} ${scale}`);
  ring.setAttribute('material', 'opacity', 0.2 + 0.2 * Math.sin(Date.now() * 0.001));
}, 50);

// Contador 1310h
const iv = setInterval(() => {
  const rem = Math.max(0, TOTAL_MS - (Date.now() - inicio));
  if (rem <= 0) {
    clearInterval(iv);
    binaural.oscL.stop(); binaural.oscR.stop();
    document.getElementById('timer').textContent = "0000:00:00";
    document.getElementById('texto').textContent = "has sanado completamente.\n\nlos 27 sellos estÃ¡n listos.";
    document.getElementById('btn').style.display = "block";
    return;
  }
  const h = Math.floor(rem/3600000).toString().padStart(4,'0');
  const m = Math.floor((rem%3600000)/60000).toString().padStart(2,'0');
  const s = Math.floor((rem%60000)/1000).toString().padStart(2,'0');
  document.getElementById('timer').textContent = `${h}:${m}:${s}`;
}, 500);

// Textos sanadores rotativos cada 11 minutos (661 segundos)
const frasesSanadoras = [
  "respira hasta el fondo del cuerpo",
  "cada cÃ©lula estÃ¡ siendo recordada",
  "el dolor se disuelve en luz cian",
  "eres exactamente donde debes estar",
  "el ouroboros te abraza, no te muerde",
  "tu sistema nervioso estÃ¡ aprendiendo paz",
  "1310 horas es solo el comienzo"
];
let idx = 0;
setInterval(() => {
  document.getElementById('texto').textContent = frasesSanadoras[idx % frasesSanadoras.length];
  idx++;
}, 661000);

// Al terminar â†’ puerta a los sellos (el resto del artefacto oscuro ya estÃ¡ listo)
function finalizarSanacion() {
  {
  document.getElementById('ui').innerHTML = `
    <pre style="font-size:6vw;top:40%">has sanado<br><br>ahora puedes<br>romper los sellos<br>si quieres</pre>
    <button onclick="location.reload()">aceptar el descenso</button>
  `;
  // AquÃ­ se activarÃ­an los 27 sellos + puzzle 1310Â² + conductismo eterno
}

// Safeword eterno (funciona incluso en AR)
if(location.href.includes('ğ’€­ğ’º')){
  document.body.innerHTML='<h1 style="color:gold;position:fixed;inset:0;display:grid;place-items:center;font-size:20vw">ğ’€­ğ’º</h1>';
  throw'';
}
</script>
</body>
</html>