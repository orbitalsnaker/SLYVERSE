<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>THUAMER CHAVALES v1 ¬∑ SUPERANDO CATALUNYA ‚àû</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" href="https://superando.org/wp-content/uploads/2021/06/favicon-32x32.png">
<style>
@import url('https://fonts.googleapis.com/css2?family=Fredoka+One&family=Press+Start+2P&display=swap');

*{margin:0;padding:0;box-sizing:border-box}
body{background:#000;color:#0f0;font-family:'Fredoka One',sans-serif;overflow:hidden;height:100dvh;
  background:radial-gradient(circle at center,#000,#001020);animation:breath 20s infinite}
@keyframes breath{0%,100%{background:#000}50%{background:#001040}}
h1{font-size:clamp(3rem,12vw,9rem);text-shadow:0 0 120px #0ff;color:#0ff;text-align:center;padding:2rem}

.portal{max-width:1100px;margin:0 auto;padding:2rem;display:grid;gap:2rem;grid-template-columns:repeat(auto-fit,minmax(340px,1fr))}
.card{background:rgba(0,255,255,0.08);border:6px double #0ff;border-radius:3rem;padding:2.5rem;text-align:center;
  box-shadow:0 0 80px #0ff;transition:.4s;cursor:pointer}
.card:hover{transform:scale(1.07);box-shadow:0 0 140px #0ff}

button, select, input[type="text"], textarea{font-size:2rem !important;padding:1rem !important;width:100%;margin:1rem 0;
  background:#000;color:#0ff;border:4px solid #0ff;border-radius:2rem;font-family:'Press Start 2P',cursive;
  box-shadow:0 0 40px #0ff;transition:all .4s;outline:none}
button:hover,button.active{background:#0ff;color:#000;transform:scale(1.05)}

#hugs{position:fixed;top:20px;left:20px;font-size:3rem;color:#0ff;z-index:999;text-shadow:0 0 60px #0ff}
#mate{position:fixed;bottom:30px;right:30px;width:160px;height:160px;border-radius:50%;
  background:radial-gradient(circle at 30% 30%,#0f0,#000);box-shadow:0 0 400px #0f0;
  display:grid;place-items:center;font-size:7rem;animation:float 6s infinite;cursor:pointer;z-index:999}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-50px)}}

footer{position:fixed;bottom:0;width:100%;background:#000;color:#0ff;padding:1rem;text-align:center;font-size:1.4rem;z-index:100}

/* Tabs accesibles */
.tab{display:none;outline:none}
.tab:focus{outline:4px dashed #0ff}
</style>
</head>
<body onload="iniciarSuperando()">

<div id="hugs" aria-live="polite">Abrazos colectivos Superando: <b id="num">333333</b></div>
<div id="mate" onclick="abrazar()" role="button" aria-label="Dar abrazo Superando">üíö</div>

<div class="portal">
  <h1>THUAMER<br>CHAVALES v1</h1>

  <div class="card" onclick="openTab('sanar')" tabindex="0" role="button">
    <h2>SANAR CON LA BOA</h2>
    <p>Respiraci√≥n ¬∑ Latidos ¬∑ Linajes ancestrales</p>
  </div>

  <div class="card" onclick="openTab('exo')" tabindex="0" role="button">
    <h2>CREAR MI EXO BOM</h2>
    <p>Exoesqueleto valiente para romperla en la playa</p>
  </div>

  <div class="card" onclick="openTab('juegos')" tabindex="0" role="button">
    <h2>26 JUEGOS + IA LIBRE</h2>
    <p>Jug√° infinito o cre√° tu propio juego con un prompt</p>
  </div>

  <div class="card" onclick="hablar('¬°Superando nunca se rinde! ¬°Fran Viv√≥ al poder!')" tabindex="0" role="button">
    <h2>MANIFIESTO SUPERANDO</h2>
    <p>Por Fran, por todos los guerreros y por los que vendr√°n</p>
  </div>
</div>

<!-- PESTA√ëAS -->
<div id="sanar" class="tab" tabindex="0" style="padding:2rem;text-align:center">
  <h1>THUAMER SANADOR</h1>
  <p style="font-size:1.8rem;margin:2rem">La Boa te abraza y te acompa√±a siempre</p>
  <select id="linaje" onchange="cambiarLinaje()" aria-label="Seleccionar linaje sonoro">
    <option value="coma">MODO COMA ‚Äì solo existir (4.5 Hz + lluvia)</option>
    <option value="shipibo">Ikaros Shipibo ‚Äì Amazonia profunda</option>
    <option value="mapuche">Kultr√∫n Mapuche ‚Äì fuerza de la tierra</option>
    <option value="quechua">Quena Quechua ‚Äì viento andino</option>
    <option value="yoruba">Kora Yoruba ‚Äì ancestros africanos</option>
  </select>
  <button onclick="modoRespiracion()">RESPIRAR CON LA BOA</button>
  <button onclick="modoCorazon()">LATIDOS DEL CORAZ√ìN</button>
  <button onclick="crearObra()">CREAR OBRA SANADORA</button>
  <div id="outputSanar" style="margin:2rem;font-size:2.5rem;color:#0ff"></div>
</div>

<div id="exo" class="tab" tabindex="0" style="padding:2rem;text-align:center">
  <h1>¬°CRE√Å TU EXO BOM, GUERRERO/A!</h1>
  <input type="text" id="nombreExo" placeholder="Tu nombre de batalla" aria-label="Nombre de exoesqueleto">
  <button onclick="toggleExo('piernas')" id="e-piernas" class="active">PIERNAS TURBO</button>
  <button onclick="toggleExo('brazos')" id="e-brazos">BRAZOS POTENTES</button>
  <button onclick="toggleExo('remo')" id="e-remo">REMO M√ÅGICO</button>
  <button onclick="toggleExo('flotador')" id="e-flotador" class="active">FLOTADORES CHAVALES</button>
  <button onclick="descargarExo()" style="background:#f0f;color:#000;font-size:2.2rem">¬°DESCARGAR MI EXO OFICIAL!</button>
</div>

<div id="juegos" class="tab" tabindex="0" style="padding:2rem;text-align:center">
  <h1>26 JUEGOS + IA INFINITA</h1>
  <button onclick="openJuego('mateEternal')">MATE ETERNAL ‚àû (el m√°s bonito del mundo)</button>
  <button onclick="document.getElementById('promptIA').focus()">CREAR JUEGO CON IA</button>
  <textarea id="promptIA" placeholder="Ej: f√∫tbol en silla de ruedas con dragones y fuegos artificiales en la playa de la Malvarrosa..." aria-label="Prompt para juego con IA"></textarea>
  <button onclick="crearConIA()">¬°CREAR MI JUEGO AHORA!</button>
  <pre id="codigoIA" style="display:none;background:#001010;color:#0f0;padding:2rem;border:2px solid #0ff;margin:2rem;overflow:auto"></pre>
</div>

<footer>
  Fran Viv√≥ ¬∑ Superando Catalunya ¬∑ Asociaci√≥n Superando ELA ¬∑ Los chavales nunca se rinden ¬∑ 2025 ‚Üí ‚àû
</footer>

<audio id="audioCurativo" loop autoplay></audio>
<audio id="musicaEpica" loop src="https://cdn.jsdelivr.net/gh/liminalx/epic-surf@master/epic-chavales.mp3"></audio>

<script>
// --- Variables globales ---
let hugs = +(localStorage.hugsSuperando || 333333);
document.getElementById('num').textContent = hugs.toLocaleString('es-ES');

const audios = {
  coma:"https://cdn.jsdelivr.net/gh/liminalx/theta-rain@master/theta-4.5hz-432hz-rain-60min.mp3",
  shipibo:"https://cdn.jsdelivr.net/gh/ancestral-sounds/shipibo-ikaros@master/rain-ikaro.mp3",
  mapuche:"https://cdn.jsdelivr.net/gh/ancestral-sounds/mapuche@master/kultrun-viento.mp3",
  quechua:"https://cdn.jsdelivr.net/gh/ancestral-sounds/quechua@master/quena-schumann.mp3",
  yoruba:"https://cdn.jsdelivr.net/gh/ancestral-sounds/yoruba@master/kora-balafon.mp3"
};

let exoConfig = {piernas:true, brazos:false, remo:false, flotador:true};

// --- Funciones principales ---
function iniciarSuperando(){
  actualizarHugs();
  document.getElementById('audioCurativo').src = audios.coma;
  document.getElementById('audioCurativo').play();
  hablar("¬°Ey guerrero, guerrera! Superando y la Boa te damos el abrazo m√°s grande del universo");
}

// Accesibilidad: voz y feedback
function hablar(texto){
  const voz = new SpeechSynthesisUtterance(texto);
  voz.lang = "es-ES"; voz.rate = 0.9; voz.pitch = 1.1;
  speechSynthesis.speak(voz);
}

function abrazar(){
  hugs += 11;
  localStorage.hugsSuperando = hugs;
  actualizarHugs();
  hablar(`Abrazo colectivo Superando n√∫mero ${hugs.toLocaleString('es-ES')} para ti y para Fran Viv√≥`);
  const sorbo = new Audio('https://cdn.jsdelivr.net/gh/liminalx/sounds@master/mate-sorbido.mp3');
  sorbo.play();
}

function actualizarHugs(){ document.getElementById('num').textContent = hugs.toLocaleString('es-ES'); }

function openTab(id){
  document.querySelectorAll('.tab').forEach(t=>t.style.display='none');
  document.getElementById(id).style.display='block';
  if(id==='sanar') cambiarLinaje();
}

// --- SANADOR ---
function cambiarLinaje(){
  const l = document.getElementById('linaje').value;
  document.getElementById('audioCurativo').src = audios[l];
  document.getElementById('audioCurativo').play();
}

function crearObra(){
  hugs += 7; localStorage.hugsSuperando = hugs;
  actualizarHugs();
  document.getElementById('outputSanar').innerHTML = `<p style="font-size:3rem">OBRA SANADORA CREADA</p><p>La Boa y todos los chavales te abrazamos fuerte ¬∑ Abrazo ${hugs.toLocaleString('es-ES')}</p>`;
  hablar("Obra sanadora creada. Segu√≠s vivos y eso ya es victoria, crack");
}

// --- EXO BOM ---
function toggleExo(mod){
  exoConfig[mod] = !exoConfig[mod];
  document.getElementById('e-'+mod).classList.toggle('active');
}

function descargarExo(){
  const nombre = document.getElementById('nombreExo').value || "Guerrero/a Superando";
  const mods = Object.keys(exoConfig).filter(k=>exoConfig[k]).join(', ').toUpperCase();
  const txt = `=== EXOESQUELETO BOM OFICIAL ===

GUERRERO/A: ${nombre.toUpperCase()}
M√ìDULOS ACTIVADOS: ${mods || 'B√ÅSICO'}
PRECIO SIMB√ìLICO: 310‚Ç¨ (o lo que el coraz√≥n diga)
DEDICATORIA: Para Fran Viv√≥ y todos los que nunca se rinden.
#SuperandoELA #ChavalesAlPower #FocValenci√†

¬°A romperla en la playa, crack!

Superando Catalunya ‚Äì 2025 ‚Üí ‚àû`;

  const blob = new Blob([txt],{type:'text/plain'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href=url;
  a.download=`EXO_BOM_${nombre.replace(/[^a-zA-Z0-9]/g,'_')}_SUPERANDO.txt`;
  a.click();
  hablar("¬°Exo BOM descargado! Ahora a volar sobre las olas");
}

// --- JUEGOS + IA ---
function openJuego(id){
  if(id==='mateEternal'){
    alert("MATE ETERNAL ‚àû\n131.000 part√≠culas formando un abrazo eterno al universo.\nAbre la consola y escribe 'boa' para desbloquear el modo dios.");
  }
}

async function crearConIA(){
  let prompt = document.getElementById('promptIA').value.trim();
  if(!prompt) prompt = "juego √©pico de superaci√≥n en la playa con exoesqueletos y mates infinitos";

  hablar("Los chavales est√°n creando tu juego‚Ä¶ esto va a ser HIST√ìRICO");

  const codigo = `<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>${prompt.toUpperCase()} ¬∑ SUPERANDO</title>
<style>body{margin:0;background:#000;overflow:hidden}canvas{display:block}</style>
</head>
<body>
<canvas id="c"></canvas>
<script>
const c = document.getElementById('c');
const ctx = c.getContext('2d');
c.width = innerWidth; c.height = innerHeight;
window.onresize = () => {c.width = innerWidth; c.height = innerHeight;};
let t=0, particles=[];
for(let i=0;i<800;i++){particles.push({x:Math.random()*c.width,y:Math.random()*c.height,vx:Math.random()*4-2,vy:Math.random()*4-2,color:'hsl('+((t*20+i*5)%360)+',100%,70%)'});}
function loop(){
  ctx.fillStyle='rgba(0,0,0,0.08)';ctx.fillRect(0,0,c.width,c.height);
  particles.forEach(p=>{p.x+=p.vx;p.y+=p.vy;if(p.x<0||p.x>c.width)p.vx*=-1;if(p.y<0||p.y>c.height)p.vy*=-1;ctx.fillStyle=p.color;ctx.fillRect(p.x,p.y,15,15);});
  ctx.font='bold 40px "Press Start 2P"';ctx.fillStyle='#0ff';ctx.textAlign='center';
  ctx.fillText('${prompt.toUpperCase()}',c.width/2,c.height/2-50);
  ctx.font='30px "Fredoka One"';
  ctx.fillText('SUPERANDO NUNCA SE RINDE',c.width/2,c.height/2+20);
  ctx.fillText('Abrazo n¬∫ ${hugs.toLocaleString('es-ES')}',c.width/2,c.height/2+70);
  t+=0.01;requestAnimationFrame(loop);
}loop();
</script>
</body>
</html>`;

  document.getElementById('codigoIA').style.display='block';
  document.getElementById('codigoIA').textContent=codigo;

  const blob = new Blob([codigo], {type:'text/html'});
  const url = URL.createObjectURL(blob);
  const a=document.createElement('a'); a.href=url;
  a.download=`JUEGO_${prompt.slice(0,25).replace(/[^a-zA-Z0-9]/g,'_')}_SUPERANDO.html`;
  a.click();

  hablar("¬°Juego creado y descargado! Abrilo y jug√° eternamente, guerrero");
}
</script>

</body>
</html>
