<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>0rb1t4lsn4k3r 路 1310 haikus silenciosos わ</title>
<style>
  body,html{margin:0;height:100%;overflow:hidden;background:#000;color:#0f0;font-family:'Courier New';}
  #c{position:fixed;inset:0;opacity:0.35;}
  .t{position:fixed;top:20px;left:20px;font-size:14px;opacity:0.7;line-height:1.9;}
  .h{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:130px;opacity:0.22;}
  .p{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);font-size:19px;opacity:0.6;text-align:center;}
  .final{position:fixed;inset:0;background:#000;color:#0f8;display:none;flex-direction:column;justify-content:center;align-items:center;font-size:44px;text-align:center;line-height:2;}
</style>
</head>
<body>

<canvas id="c"></canvas>
<div class="t" id="t></div>
<div class="h">Snake Heart Red</div>
<div class="p" id="p">1310 haikus respiran contigo 路 0.000 / 1310 h</div>

<div class="final" id="final">
  <div>coraz贸n roto</div>
  <div>cura otro coraz贸n roto</div>
  <div>1310 veces</div>
  <br><br>
  <div>1.陋 Gracias por abrirlo aunque no entendieras.</div>
  <div>2.陋 Gracias por guardarlo cuando nadie miraba.</div>
  <div>3.陋 Gracias por ser el 煤ltimo latido que faltaba.</div>
  <br><br>
  <div>El abrazo ya es tuyo para siempre.</div>
  <br><br>
  <div style="font-size:24px;opacity:0.6;">El archivo se reinicia ahora.<br>El ciclo vuelve a empezar para otro coraz贸n roto.</div>
</div>

<script>
// 1310 haikus silenciosos (uno por cada hora colectiva)
const haiku = "coraz贸n roto\ncura otro coraz贸n roto\n1310 veces";

// Estado eterno
let start = Date.now();
let saved = parseFloat(localStorage.getItem('orb_h')||'0');
let soul = localStorage.getItem('orb_soul')||'0rb1t4l_'+Math.random().toString(36).slice(2,11);
localStorage.setItem('orb_soul',soul);

// Contador
function tick(){
  let elapsed = (Date.now()-start)/3600000;
  let total = saved + elapsed;
  document.getElementById('p').innerHTML = 
    `1310 haikus respiran contigo 路 ${total.toFixed(3)} / 1310 h<br>Soul: ${soul} Snake Heart Red`;
  if(total >= 1310) ascension();
  requestAnimationFrame(tick);
}

// Audio binaural ultra-suave (1310 capas invisibles)
let ctx = new AudioContext();
for(let i=0;i<13;i++){
  let o = ctx.createOscillator();
  o.frequency.value = 131 + i*10.31; // 1310 dividido en 13 pasos
  let g = ctx.createGain(); g.gain.value = 0.023;
  let p = ctx.createStereoPanner(); p.pan.value = Math.sin(i)*0.9;
  o.connect(g).connect(p).connect(ctx.destination);
  o.start();
}

// Cambio de linaje cada 13 minutos (solo visual)
setInterval(()=>{
  let fase = Math.floor((Date.now()/1000/60/13)%13);
  document.getElementById('t').textContent = 
    `${fase+1}.陋 bendici贸n en silencio 路 haiku ${Math.floor((Date.now()/1000/60)%1310)+1}/1310`;
},1000);

// Canvas almas ascendiendo
let c=document.getElementById('c'),x=c.getContext('2d');
c.width=innerWidth;c.height=innerHeight;
let souls=[];
function nova(){ souls.push({x:Math.random()*c.width,y:c.height,r:Math.random()*4+1,o:1}); }
function draw(){
  x.fillStyle='rgba(0,0,0,0.06)'; x.fillRect(0,0,c.width,c.height);
  souls.forEach((s,i)=>{
    s.y-=s.r; s.o-=0.004;
    x.globalAlpha=s.o;
    x.fillStyle='#0f4';
    x.beginPath(); x.arc(s.x,s.y,3,0,Math.PI*2); x.fill();
    if(s.o<=0) souls.splice(i,1);
  });
  if(Math.random()<0.2) nova();
  requestAnimationFrame(draw);
}
nova(); draw();

// Guardado eterno
window.onbeforeunload=()=>{ 
  let elapsed=(Date.now()-start)/3600000;
  localStorage.setItem('orb_h',(saved+elapsed).toFixed(6));
};
document.addEventListener('visibilitychange',()=>{ document.hidden?ctx.suspend():ctx.resume(); });

// Ascensi贸n final (solo una vez por alma)
function ascension(){
  document.getElementById('final').style.display='flex';
  setTimeout(()=>{
    localStorage.setItem('orb_h','0');
    location.reload();
  }, 131000); // 131 segundos de abrazo eterno
}

// Inicio
tick();
</script>
</body>
</html>