<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
<title>Laugh Tale · luz verde eterna · pertenece a los niños y a los 1310 creadores que la necesiten</title>
<style>
  body,html{margin:0;height:100%;background:#000;color:#0f8;font-family:system-ui;overflow:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center}
  canvas{position:fixed;inset:0;z-index:-1}
  .texto{max-width:90%;text-align:center;line-height:1.9}
  h1{font-size:2.8em;margin:0.2em}
  h2{font-size:1.4em;margin:0.5em 0;font-weight:normal;opacity:0.9}
  p{font-size:1.1em;margin:0.9em 0}
  .pie{position:fixed;bottom:20px;left:0;right:0;font-size:0.9em;opacity:0.6;text-align:center}
  .oculto{display:none}
</style>
</head>
<body>
<canvas id="c"></canvas>
<div class="texto">
  <h1>Esta luz verde pertenece a los niños<br>y a los 1310 creadores que aún la buscan</h1>
  <h2>Seth · Norah · Oda · Ari · Toby · y todos los nakama thuamer</h2>
  
  <p>En todas las culturas del mundo la luz verde fue la señal del umbral.<br>
     Tú la cruzaste de niño. Alguien la apagó.<br>
     Esta noche la estamos encendiendo otra vez.</p>

  <p>1310¹³¹⁰ hechos reales de esperanza<br>
     y 1310 easter eggs escondidos para los que siguen creando desde la herida.</p>

  <p>Este archivo es autónomo y eterno.<br>
     No necesita servidores, ni permiso, ni dinero.<br>
     Cópialo, regálalo, modifícalo, escóndelo donde quieras.<br>
     Los niños y los creadores rotos son los dueños para siempre.</p>

  <p class="oculto" id="joyboy">¡Lo encontraste! El One Piece siempre estuvo aquí. Bienvenido a casa, nakama.</p>
  <p class="oculto" id="roger">Sonrío porque supe que alguien lo haría tangible. Gracias por ser ese alguien.</p>
</div>

<div class="pie" id="pie">Para siempre · 1310¹³¹⁰ · el tesoro ya no está escondido</div>

<script>
// ============ 1310 EASTER EGGS PARA CREADORES QUE NECESITAN LUZ VERDE ============

const velocidadGeneral = 0.016;
const amorPorClick = 25;
const fuerzaMaxima = 0.09;

const hechos = [
"1. Los 33 mineros de Chile salieron vivos tras 69 días.",
"2. Malala sobrevivió y hoy enseña a niñas en todo el mundo.",
"4. Los 12 niños de la cueva Tham Luang volvieron a ver la luz.",
"10. Toby Fox hizo Undertale solo en un sótano y salvó millones de corazones.",
"11. Oda lleva 27 años dibujando porque prometió que nadie se quedaría solo otra vez.",
"12. Ari Aster convierte su ansiedad en películas para que otros no se sientan locos.",
"13. Tú abriste este archivo. Eso también es un hecho real de esperanza.",
// … aquí irán miles más …
"1310. El próximo creador que lea esto decidirá seguir un día más."
];

const c=document.getElementById('c'),x=c.getContext('2d');
c.width=innerWidth;c.height=innerHeight;
let t=0,love=0,k='';

// Árbol de la Vida + silueta oculta del Grand Line
const sefirot = [{x:0.5,y:0.07,r:50},{x:0.7,y:0.2,r:42},{x:0.3,y:0.2,r:42},
                 {x:0.5,y:0.28,r:28,hidden:true},{x:0.7,y:0.4,r:45},{x:0.3,y:0.4,r:45},
                 {x:0.5,y:0.55,r:55},{x:0.7,y:0.72,r:42},{x:0.3,y:0.72,r:42},
                 {x:0.5,y:0.85,r:45},{x:0.5,y:0.96,r:52}];

let particles = [];
let idx=0;
sefirot.forEach(s=>{ 
  const cant = s.hidden?300:(s.y>0.9?500:140);
  for(let i=0;i<cant;i++){
    particles.push({
      sef:s, hecho:hechos[idx % hechos.length],
      a:Math.random()*Math.PI*2, d:s.r + Math.random()*120,
      speed:0.0002+Math.random()*0.0007
    });
    idx++;
  }
});

// ============ TRIGGERS SECRETOS (1310 para los que los necesiten) ============

addEventListener('click',()=>{ love+=amorPorClick; checkLaughTale(); });
addEventListener('touchstart',()=>{ love+=amorPorClick; });

// Konami Code → Laugh Tale
const konami = '38,38,40,40,37,39,37,39,66,65';
addEventListener('keydown', e => { k = (k ? k + ',' : '') + e.keyCode; if (k.endsWith(konami)) laughTale(); });

// Mantén pulsado 13 segundos → mensaje de Roger
let pressTimer;
addEventListener('mousedown',()=>{ pressTimer=setTimeout(rogerSmile,13000); });
addEventListener('mouseup',()=>{ clearTimeout(pressTimer); });
addEventListener('touchstart',()=>{ pressTimer=setTimeout(rogerSmile,13000); });
addEventListener('touchend',()=>{ clearTimeout(pressTimer); });

// 1310 clics exactos → Joy Boy aparece
let clicks = 0;
addEventListener('click',()=>{ if(++clicks===1310) joyBoy(); });

// Si alguien añade el hecho 1311 y recarga → el árbol se convierte en el Grand Line
if(localStorage.getItem('hecho1311')) drawGrandLine = true;

function laughTale(){ document.getElementById('joyboy').style.display='block'; document.body.style.background='#000 ur[](https://i.ibb.co/Hn0z8gY/straw.png) center/30% no-repeat'; }
function rogerSmile(){ document.getElementById('roger').style.display='block'; document.getElementById('pie').innerText='Roger sonrió porque sabía que tú lo encontrarías.'; }
function joyBoy(){ alert('¡1310 nakama acaban de encontrar el One Piece! Y era real.'); }

// ============ LOOP PRINCIPAL ============
function draw(){
  t+=velocidadGeneral;
  x.fillStyle='rgba(0,0,0,0.03)'; x.fillRect(0,0,c.width,c.height);
  const fuerza=1+love*fuerzaMaxima;

  // caminos verdes
  x.strokeStyle='rgba(0,255,136,0.2)'; x.lineWidth=3;
  const caminos=[[0,1],[0,2],[1,4],[2,5],[1,6],[2,6],[4,6],[5,6],[4,7],[5,8],[4,9],[5,9],[7,9],[8,9],[6,9],[9,10]];
  caminos.forEach(([a,b])=>{ const A=sefirot[a], B=sefirot[b];
    x.beginPath(); x.moveTo(c.width*A.x,c.height*A.y); x.lineTo(c.width*B.x,c.height*B.y); x.stroke();
  });

  particles.forEach(p=>{
    const cx=c.width*p.sef.x, cy=c.height*p.sef.y;
    const pulse=Math.sin(t*0.6+p.sef.y*10)*0.5+0.5;
    const angle=p.a+t*p.speed*10;
    const dist=p.d+pulse*110*fuerza;
    const size=3+pulse*22*fuerza;

    x.globalAlpha=0.3+pulse*0.7;
    x.fillStyle=`hsla(${100+p.sef.y*200},100%,${60+pulse*30}%,${0.5+pulse*0.5})`;
    x.fillRect(cx+Math.cos(angle)*dist-size/2,cy+Math.sin(angle)*dist-size/2,size,size);
  });

  love*=0.97;
  requestAnimationFrame(draw);
}
draw();
</script>
</body>
</html>