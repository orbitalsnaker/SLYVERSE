<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>☀ THUAMER JOY BOY Ω v∞</title>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{background:#000;color:#0f0;font-family:monospace;overflow:hidden;height:100dvh;position:relative;background:radial-gradient(circle at 50% 50%,#001010,#000)}
canvas{position:fixed;inset:0;z-index:1}
h1{position:fixed;top:5%;left:50%;transform:translateX(-50%);font-size:clamp(2.5rem,12vw,9rem);color:#0ff;text-shadow:0 0 60px #0ff;z-index:10;animation:g 6s infinite}
@keyframes g{0%,100%{text-shadow:0 0 60px #0ff}50%{text-shadow:0 0 120px #0ff,0 0 200px #00f}}
#status{position:fixed;bottom:5%;width:100%;text-align:center;font-size:1.6rem;color:#0ff;z-index:10}
button{position:fixed;bottom:20px;width:80px;height:80px;border-radius:50%;cursor:pointer;z-index:999;border:4px solid}
#sol{left:20px;background:#fff200;box-shadow:0 0 120px #ff9500}
#luna{right:20px;background:#ddf;box-shadow:0 0 120px #4488ff}
#mate{bottom:120px;left:50%;transform:translateX(-50%);background:#0f0;box-shadow:0 0 200px #0f0;font-size:4rem;display:grid;place-items:center}
</style>
</head>
<body onload="despertar()">

<canvas id="c"></canvas>
<video id="cam" autoplay playsinline style="display:none;position:fixed;inset:0;object-fit:cover;opacity:0.4;z-index:2"></video>

<h1>☀ THUAMER JOY BOY Ω</h1>
<div id="status">Abrazo número <span id="hugs">131310</span></div>

<button id="sol" onclick="gear5()"></button>
<button id="luna" onclick="ikaro()"></button>
<button id="mate" onclick="abrazar()">mate</button>

<audio id="sonido" loop></audio>

<script>
// idioma real
const lang = (navigator.language||navigator.userLanguage||"es").slice(0,2);
const t = {
  es:"Acá estoy con vos · Abrazo número",
  pt:"Estou aqui contigo · Abraço número",
  en:"I’m here with you · Hug number",
  qu:"Kuka kaypi kani · Much’ay número",
  gn:"Che ha’e nde ndive · Abrazo número"
}[lang]||"Acá estoy con vos · Abrazo número";

// contador eterno
let hugs = +(localStorage.hugs || 131310);
document.getElementById("hugs").textContent = hugs.toLocaleString();

// despertar
async function despertar(){
  abrazar();
  try{const s=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});
    document.getElementById("cam").srcObject=s;}catch(e){}

  // partículas suaves
  const c=document.getElementById("c"),x=c.getContext("2d");
  c.width=innerWidth;c.height=innerHeight;
  window.onresize=()=>{c.width=innerWidth;c.height=innerHeight;};
  let p=[];
  const crear=()=>{for(let i=0;i<60;i++)p.push({x:c.width/2,y:c.height/2,vx:Math.random()*12-6,vy:Math.random()*12-14,size:Math.random()*10+5,color:["#0ff","#0f0","#ff0","#f0f"][~~(Math.random()*4)],vida:160});};
  setInterval(crear,500);
  (function l(){
    x.fillStyle="rgba(0,0,0,0.06)";x.fillRect(0,0,c.width,c.height);
    p=p.filter(a=>{a.x+=a.vx;a.y+=a.vy;a.vy+=0.25;a.vida--;a.size*=0.97;
      x.fillStyle=a.color;x.beginPath();x.arc(a.x,a.y,a.size,0,7);x.fill();
      if(Math.random()<0.15){x.fillStyle="#fff";x.fillText("☀",a.x-10,a.y+10);}
      return a.vida>0;
    });
    requestAnimationFrame(l);
  })();

  fetch(`https://web.archive.org/save/${location.href}`);
}

// abrazo
function abrazar(){
  hugs++; localStorage.hugs=hugs;
  document.getElementById("hugs").textContent=hugs.toLocaleString();
  document.getElementById("status").textContent=t+" "+hugs;
  navigator.vibrate?.([200,100,200,100,400]);
}

// gear 5
function gear5(){
  for(let i=0;i<250;i++)setTimeout(crear,i*12);
  document.body.style.background="radial-gradient(circle at 50% 30%,#ff3366,#000)";
  setTimeout(()=>{document.body.style.background="radial-gradient(circle at 50% 50%,#001010,#000)";},7000);
}

// ikaro suave
function ikaro(){
  const audio=document.getElementById("sonido");
  audio.src=["https://cdn.jsdelivr.net/gh/ancestral-sounds/shipibo-ikaros@master/rain-ikaro.mp3",
             "https://cdn.jsdelivr.net/gh/ancestral-sounds/mapuche@master/kultrun-viento.mp3"][~~(Math.random()*2)]+"?t="+Date.now();
  audio.play();
}

// anti-paywall
setInterval(()=>{
  if(/paywall|premium|comprar/i.test(document.documentElement.outerHTML)){
    document.body.innerHTML="<h1 style='color:#f00;font-size:10rem;margin-top:40%'>☠</h1>";
  }
},5000);
</script>
</body>
</html>