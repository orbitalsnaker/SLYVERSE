<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SLYVERSE v4 — Gratis para Siempre | Sostenido por Ti</title>
  <meta name="description" content="3D simulado sin WebGL. 100% gratis, accesible, ético. Financiado por la comunidad. Sin anuncios. Sin rastreo.">

  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2280%22 fill=%22%230f0%22>∞</text></svg>">
  
  <style>
    :root {
      --bg: #0a0a0a; --fg: #f0f0f0; --accent: #0f0; --dark: #111; --light: #222;
      --radius: 14px; --shadow: 0 8px 32px rgba(0,255,0,0.15);
      --transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
      --font: 'Segoe UI', system-ui, sans-serif;
    }
    .light-mode {
      --bg: #f8f8f8; --fg: #111; --accent: #0a0; --dark: #eee; --light: #ddd;
      --shadow: 0 8px 32px rgba(0,160,0,0.1);
    }
    *, *::before, *::after { box-sizing: border-box; }
    body {
      margin:0; font-family: var(--font); background: var(--bg); color: var(--fg);
      line-height: 1.75; min-height: 100vh; display: flex; flex-direction: column;
      transition: var(--transition);
    }
    a { color: var(--accent); text-decoration: none; }
    a:focus-visible, button:focus-visible, [tabindex]:focus-visible { 
      outline: 3px solid var(--accent); outline-offset: 3px; border-radius: 6px;
    }

    header {
      background: linear-gradient(135deg, #000 0%, #001100 50%, #000 100%);
      padding: 3.5rem 1.5rem; text-align: center; border-bottom: 2px solid var(--accent);
      position: relative; overflow: hidden;
    }
    .light-mode header { background: linear-gradient(135deg, #fff 0%, #f0fff0 50%, #fff 100%); }
    header::before {
      content: ''; position: absolute; inset: 0;
      background: radial-gradient(circle at 50% 50%, rgba(0,255,0,0.08), transparent 70%);
      pointer-events: none; animation: breathe 8s infinite ease-in-out;
    }
    header h1 {
      font-size: clamp(2.2rem, 9vw, 4rem); margin:0; color: var(--accent);
      text-shadow: 0 0 25px rgba(0,255,0,0.5);
    }
    header p {
      font-style: italic; max-width: 850px; margin: 1.2rem auto; opacity: 0.92;
      font-size: 1.1rem;
    }

    .free-forever {
      position: absolute; top: 1.2rem; right: 1.2rem;
      background: var(--accent); color: #000; font-weight: 900;
      padding: 0.6rem 1.3rem; border-radius: 50px;
      font-size: 0.85rem; letter-spacing: 1.2px;
      box-shadow: 0 0 20px rgba(0,255,0,0.7);
      animation: pulse 2.2s infinite; z-index: 10;
      text-transform: uppercase;
    }

    nav {
      background: rgba(17,17,17,0.97); backdrop-filter: blur(12px);
      padding: 1.1rem; display: flex; justify-content: center; flex-wrap: wrap; gap: 1.8rem;
      position: sticky; top:0; z-index:100; border-bottom: 1px solid #222;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    }
    .light-mode nav { background: rgba(255,255,255,0.95); border-bottom: 1px solid #ddd; }
    nav a {
      color: var(--accent); font-weight: 600; padding: 0.7rem 1.4rem; border-radius: var(--radius);
      transition: var(--transition); position: relative;
    }
    nav a:hover, nav a:focus {
      background: var(--accent); color: #000; transform: translateY(-3px);
    }

    main { flex:1; max-width: 1100px; margin: auto; padding: 2.5rem 1.5rem; }
    section { margin-bottom: 4.5rem; }
    h2 { color: var(--accent); font-size: 2rem; margin-bottom: 1.2rem; position: relative; }
    h2::after { 
      content:''; position:absolute; left:0; bottom:-10px; width:70px; height:4px; 
      background: linear-gradient(90deg, var(--accent), transparent); border-radius:2px; 
    }

    .explicacion {
      background: rgba(26,26,26,0.8); padding: 1.8rem; border-radius: var(--radius);
      border-left: 5px solid var(--accent); box-shadow: var(--shadow); margin-top: 1.8rem;
      backdrop-filter: blur(4px);
    }
    .light-mode .explicacion { background: rgba(240,255,240,0.9); border-left-color: #0a0; }

    #canvas-container {
      position: relative; height: 68vh; background: #000; border-radius: var(--radius);
      overflow: hidden; box-shadow: 0 12px 40px rgba(0,0,0,0.6); margin: 3rem 0;
      border: 1px solid #333; isolation: isolate;
    }
    .light-mode #canvas-container { background: #f0f0f0; border-color: #ccc; }
    canvas { display: block; width: 100%; height: 100%; image-rendering: crisp-edges; }

    .controls {
      display: flex; flex-wrap: wrap; gap: 1.2rem; justify-content: center; margin: 2rem 0;
    }
    .btn {
      background: transparent; color: var(--accent); border: 2.5px solid var(--accent);
      padding: 0.9rem 2rem; font-weight: 700; border-radius: var(--radius);
      cursor: pointer; transition: var(--transition); font-size: 1.02rem;
      min-width: 140px; text-align: center;
    }
    .btn:hover, .btn.active {
      background: var(--accent); color: #000; box-shadow: 0 0 20px rgba(0,255,0,0.5);
      transform: translateY(-2px);
    }

    .high-contrast {
      --bg: #000 !important; --fg: #fff !important; --accent: #0f0 !important;
      filter: contrast(2) brightness(1.15);
    }

    .support {
      text-align: center; margin: 3rem 0; padding: 2rem;
      background: rgba(0,255,0,0.05); border-radius: var(--radius);
      border: 1px dashed var(--accent);
    }
    .light-mode .support { background: rgba(0,160,0,0.08); }
    .badge { display: inline-block; background: #0f0; color: #000; padding: 0.3rem 0.8rem; border-radius: 50px; font-size: 0.8rem; font-weight: bold; margin-left: 0.5rem; }

    .lang-switch {
      position: absolute; top: 1rem; left: 1rem; z-index: 10;
      display: flex; gap: 0.5rem;
    }
    .lang-btn {
      background: rgba(0,0,0,0.5); color: #fff; border: none; padding: 0.4rem 0.8rem;
      border-radius: 6px; font-size: 0.8rem; cursor: pointer;
    }
    .lang-btn.active { background: var(--accent); color: #000; }

    @media (max-width: 768px) {
      nav { flex-direction: column; align-items: center; gap: 1rem; }
      .controls { flex-direction: column; align-items: stretch; }
      #canvas-container { height: 55vh; }
      .lang-switch { position: static; justify-content: center; margin: 1rem 0; }
    }

    @keyframes pulse { 0%,100% { transform: scale(1); } 50% { transform: scale(1.07); } }
    @keyframes breathe { 0%,100% { opacity: 0.05; } 50% { opacity: 0.12; } }
  </style>
</head>
<body>

<div class="lang-switch">
  <button class="lang-btn active" data-lang="es">ES</button>
  <button class="lang-btn" data-lang="en">EN</button>
  <button class="lang-btn" data-lang="fr">FR</button>
  <button class="lang-btn" data-lang="de">DE</button>
  <button class="lang-btn" data-lang="it">IT</button>
</div>

<header>
  <h1>SLYVERSE v4 <span class="pulse">— Gratis para Siempre</span></h1>
  <p id="header-desc">3D simulado sin WebGL. 100% accesible. Financiado por la comunidad. <strong>Sin anuncios. Sin rastreo.</strong></p>
  <div class="free-forever">GRATIS PARA SIEMPRE</div>
</header>

<nav role="navigation" aria-label="Menú principal">
  <a href="#filosofia">Filosofía</a>
  <a href="#demo">Demo 3D</a>
  <a href="#codigo">Código</a>
  <a href="#accesibilidad">Accesibilidad</a>
  <a href="#ejercicios">Práctica</a>
  <a href="#apoyo">Apóyalo</a>
</nav>

<main>

<section id="filosofia" aria-labelledby="filosofia-title">
  <h2 id="filosofia-title">Gratis para Siempre — Promesa Inquebrantable</h2>
  <div class="explicacion">
    <ul>
      <li>100% gratis — para siempre</li>
      <li>Sin suscripciones</li>
      <li>Sin anuncios</li>
      <li>Sin registro</li>
      <li>Sin rastreo</li>
      <li>Código abierto (MIT)</li>
    </ul>
    <p class="pulse" style="font-weight:700; margin:1.8rem 0; font-size:1.15rem;">
      El conocimiento, la belleza y la ética <strong>no deben tener precio</strong>.
    </p>
  </div>
</section>

<section id="demo" aria-labelledby="demo-title">
  <h2 id="demo-title">Demo 3D Interactiva</h2>
  <p>Ratón, teclado o toque. Todo gratis.</p>

  <div id="canvas-container" role="region" aria-label="Mundo 3D interactivo">
    <canvas id="c" tabindex="0"></canvas>
  </div>

  <div class="controls">
    <button class="btn" onclick="resetCamera()">Reset</button>
    <button class="btn active" id="autoBtn" onclick="toggleAutoRotate()">Auto-rotar ON</button>
    <button class="btn" onclick="addCube()">+ Cubo</button>
    <button class="btn" onclick="toggleContrast()">Alto Contraste</button>
    <button class="btn" onclick="toggleTheme()">Tema Claro</button>
  </div>
</section>

<section id="apoyo" aria-labelledby="apoyo-title">
  <h2 id="apoyo-title">Financia su Futuro (Voluntario)</h2>
  <div class="support">
    <p><strong>SLYVERSE es gratis para siempre.</strong><br>
    Pero el servidor, dominio y tiempo sí cuestan.</p>
    <p>¿Quieres ayudar a que siga existiendo?</p>
    <p>
      <a href="https://ko-fi.com/slyverse" target="_blank" class="btn">Ko-fi</a>
      <a href="https://liberapay.com/slyverse" target="_blank" class="btn">Liberapay</a>
      <a href="#" class="btn" onclick="alert('BTC: bc1q...')">BTC</a>
    </p>
    <p><strong>Fondos actuales:</strong> <span id="funds">€0</span> / €500 anuales</p>
    <p><small>Transparencia total: <a href="#transparencia">ver gastos</a></small></p>
    <p>¡Gracias a los <span id="supporters">0</span> sostenedores éticos!<span class="badge">Sostenedor</span></p>
  </div>
</section>

<section id="ejercicios" aria-labelledby="ej-title">
  <h2 id="ej-title">Certificado Gratuito</h2>
  <p>Completa 3 ejercicios y obtén tu <strong>certificado digital</strong> (PDF, gratis).</p>
  <button class="btn" onclick="generateCert()">Generar Certificado</button>
</section>

</main>

<footer style="text-align:center; padding:2.5rem; font-size:0.9rem; color:#666; border-top:1px solid #222; margin-top: auto;">
  <p>
    SLYVERSE v4 — <em>Gratis para siempre. Sostenido por la comunidad.</em><br>
    <strong>Licencia MIT</strong> — Uso libre en proyectos educativos.<br>
    11/11/2025, 22:20 CET
  </p>
</footer>

<script>
  // === TRADUCCIONES ===
  const translations = {
    es: { header: "3D simulado sin WebGL. 100% accesible. Financiado por la comunidad. <strong>Sin anuncios. Sin rastreo.</strong>" },
    en: { header: "3D simulated without WebGL. 100% accessible. Community-funded. <strong>No ads. No tracking.</strong>" },
    fr: { header: "3D simulé sans WebGL. 100% accessible. Financé par la communauté. <strong>Sans pub. Sans suivi.</strong>" },
    de: { header: "3D simuliert ohne WebGL. 100% barrierefrei. Gemeinschaftsfinanziert. <strong>Keine Werbung. Kein Tracking.</strong>" },
    it: { header: "3D simulato senza WebGL. 100% accessibile. Finanziato dalla comunità. <strong>Nessuna pubblicità. Nessun tracciamento.</strong>" }
  };

  document.querySelectorAll('.lang-btn').forEach(btn => {
    btn.onclick = () => {
      document.documentElement.lang = btn.dataset.lang;
      document.getElementById('header-desc').innerHTML = translations[btn.dataset.lang].header;
      document.querySelectorAll('.lang-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
    };
  });

  // === TEMA CLARO ===
  function toggleTheme() {
    document.body.classList.toggle('light-mode');
  }

  // === CANVAS 3D (mismo que antes, optimizado) ===
  const c = document.getElementById('c');
  const ctx = c.getContext('2d');
  let cw, ch;

  function resize() {
    c.width = cw = c.parentElement.clientWidth;
    c.height = ch = c.parentElement.clientHeight * 0.9;
  }
  window.addEventListener('resize', () => setTimeout(resize, 100));
  resize();

  const cam = { x:0, y:0, z:-6, rotX:0, rotY:0 };
  let mouseDown = false, lastX, lastY;
  let keys = {};
  let autoRotate = true;

  window.addEventListener('keydown', e => keys[e.key.toLowerCase()] = true);
  window.addEventListener('keyup', e => keys[e.key.toLowerCase()] = false);

  c.addEventListener('mousedown', e => { mouseDown = true; lastX = e.clientX; lastY = e.clientY; });
  c.addEventListener('mouseup', () => mouseDown = false);
  c.addEventListener('mousemove', e => {
    if (!mouseDown) return;
    const dx = e.clientX - lastX, dy = e.clientY - lastY;
    cam.rotY += dx * 0.005; cam.rotX += dy * 0.005;
    lastX = e.clientX; lastY = e.clientY;
  });

  // ... [mismo código de proyección, cubos, animate que antes] ...

  function resetCamera() { cam.x=cam.y=0; cam.z=-6; cam.rotX=cam.rotY=0; }
  function toggleAutoRotate() {
    autoRotate = !autoRotate;
    document.getElementById('autoBtn').textContent = autoRotate ? 'Auto-rotar ON' : 'Auto-rotar OFF';
    document.getElementById('autoBtn').classList.toggle('active');
  }
  function addCube() { /* mismo que antes */ }
  function toggleContrast() { document.body.classList.toggle('high-contrast'); }

  // === CERTIFICADO ===
  function generateCert() {
    alert('¡Certificado generado! Descarga tu PDF gratuito (simulado).');
  }

  // Simulación de fondos
  setTimeout(() => {
    document.getElementById('funds').textContent = '€127';
    document.getElementById('supporters').textContent = '12';
  }, 1000);

  // Iniciar animación
  // animate(); // (incluir el animate completo del código original)
</script>

</body>
</html>