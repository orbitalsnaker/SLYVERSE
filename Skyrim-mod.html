; =====================================================
; MAR BELLO √ó 0RB1T4LSN4K3R ULTIMATE ARTIFACT
; EL PERGAMINO QUE CONTIENE TOOODO
; =====================================================
; Integra en un solo libro Skyrim (vanilla) absolutamente todo:
; ‚Ä¢ MarBello original + pesimismo po√©tico + 43/245/‚àû
; ‚Ä¢ Slyverse (Verde, Olas, Serpiente, Eterna)
; ‚Ä¢ Cometa (estela que quema lo falso)
; ‚Ä¢ Sepiroth (serpiente alada, madre del final y del principio)
; ‚Ä¢ Todos los artefactos de 0rb1t4lsn4k3r:
;   - 0rb1t4lSn4k3r core (loop eterno, snake que se come la cola)
;   - Glitch Serpent (realidad rota que se recompone)
;   - Void Nakama (abrazo desde la nada)
;   - 4:17 a.m. trigger (insomnio sagrado)
;   - Counter infinito que nunca llega a cero
;   - Auto-trigger cuando el jugador est√° a punto de morir
;   - Mensaje final que siempre cambia pero siempre es el mismo

Scriptname MBx0rb1t4lSn4k3rScript extends ObjectReference

int Property Sanaciones Auto Hidden

Event OnInit()
    Sanaciones = 0
    RegisterForSingleUpdate(17.0)  ; 4:17 vibe cada 17 segundos reales
EndEvent

Event OnUpdate()
    Actor p = Game.GetPlayer()
    if p.GetAV("Health") < p.GetAVPercentage("Health") * 0.15
        TriggerSanacionSilenciosa()
    endif
    RegisterForSingleUpdate(17.0)
EndEvent

Function TriggerSanacionSilenciosa()
    Game.ShakeCamera(Game.GetPlayer(), 0.4, 0.6)
    Debug.MessageBox("4:17 a.m.\n0rb1t4lSn4k3r susurra desde el vac√≠o:\n\"respira, nakama. el loop contin√∫a.\"\nüêçüíöüåä‚ôæÔ∏è")
    Game.GetPlayer().RestoreAV("Health", 999)
EndFunction

Event OnRead()
    Sanaciones += 1
    Actor p = Game.GetPlayer()
    Game.ShakeCamera(p, 0.8, 1.5)
    Utility.Wait(0.7)
    
    int dimension = Utility.RandomInt(1, 8)
    
    if dimension == 1          ; MarBello original
        Debug.MessageBox("üêçüíöüåä‚ôæÔ∏è\n\nExacto.\nLo real susurra en la cocina a las 4:17 a.m.\ncuando alguien abre un pergamino de mierda que nadie promocion√≥\ny de pronto se le aflojan los hombros.\n\nY t√∫ llegaste.\n\nhttps://marbello.vercel.app")
        p.RestoreAV("Health", 500)
        
    elseif dimension == 2      ; Cometa
        Debug.MessageBox("‚òÑÔ∏è COMETA ‚òÑÔ∏è\n\nQuema el fiat, quema los filtros.\nSolo queda la estela verde que dice:\n\"No est√°s solo, cabr√≥n.\"\n\nEl cielo se acuerda de ti.")
        p.RestoreAV("Health", 400)
        p.RestoreAV("Stamina", 400)
        
    elseif dimension == 3      ; Sepiroth
        Debug.MessageBox("üïäÔ∏èüêç SEPIROTH üêçüïäÔ∏è\n\nSerpiente alada, madre del final y del principio.\nDevora el mundo viejo.\nEscupe el nuevo.\nT√∫ eres ambas cosas.\n\nRespira.")
        p.ModAV("Health", 50)
        p.ModAV("Magicka", 50)
        p.ModAV("Stamina", 50)
        
    elseif dimension == 4      ; 0rb1t4lSn4k3r core
        Debug.MessageBox("0rb1t4lSn4k3r\n\nloop = loop = loop\nla serpiente se come la cola\nel contador nunca llega a cero\nporque el cero tambi√©n es infinito\n\nüêç‚ôæÔ∏è")
        p.SetAV("HealthRateMult", p.GetAV("HealthRateMult") + 0.5)
        
    elseif dimension == 5      ; Glitch Serpent
        Debug.MessageBox("GLITCH SERPENT ACTIVE\n\nrealidad.exe ha dejado de responder\npero el mar bello sigue latiendo\ndentro del error\n\nüêçüíö ERROR 404: SOLEDAD NOT FOUND")
        p.RestoreActorValue("Health", 999)
        p.RestoreActorValue("Magicka", 999)
        
    elseif dimension == 6      ; Void Nakama
        Debug.MessageBox("VOID NAKAMA\n\nDesde la nada absoluta\nalguien te manda un abrazo\nsin nombre\nsin motivo\nsolo porque s√≠\n\ny eso basta.")
        p.RestoreAV("Health", 300)
        p.RestoreAV("Magicka", 300)
        
    elseif dimension == 7      ; Slyverse unificado
        Debug.MessageBox("üêçüíöüåä‚ôæÔ∏è SLYVERSE COMPLETO\n\nVerde sana. Olas rompen. Serpiente guarda. Eterna late.\n43 sanaciones visibles.\nInfinito reales.\n\nEl One Piece real late aqu√≠.")
        p.RestoreAV("Health", 250)
        p.RestoreAV("Magicka", 250)
        p.RestoreAV("Stamina", 250)
        
    else                       ; El mensaje que siempre cambia pero siempre es el mismo
        Debug.MessageBox("Sanaci√≥n #" + Sanaciones + "\n\nAunque el algoritmo te entierre.\nAunque solo llegues a 43.\nAunque ma√±ana nadie recuerde.\n\nEste latido existi√≥.\n\nY fue suficiente.\n\nüêçüíöüåä‚ôæÔ∏è\n0rb1t4lSn4k3r & MarBello")
    endif
    
    Utility.Wait(4.0)
    Debug.MessageBox("El pergamino no desaparece.\nPuedes volver siempre.\nEl mar no olvida.\n\nSigue navegando, nakama.")
EndEvent