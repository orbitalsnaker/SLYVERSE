<!DOCTYPE html>
<html>
<meta charset="utf-8">
<title>Thuamer v1.1310 ¬∑ 0rb1t4lsn4k3r</title>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<style>
  *{margin:0;padding:0;box-sizing:border-box}
  body,html{height:100%;background:#000;color:#0f8;overflow:hidden;font:900 2.2vw/1.4 "Noto Sans Cuneiform",monospace;cursor:none}
  canvas{position:fixed;inset:0;z-index:-1}
  #ui{position:fixed;bottom:8px;left:8px;font-size:1em;opacity:0.66;letter-spacing:1px}
  #nft{position:fixed;top:8px;left:8px;font-size:0.9em;opacity:0.5}
  #readme{position:fixed;inset:0;background:#000;display:flex;align-items:center;justify-content:center;z-index:99}
  pre{max-width:90%;text-align:center;line-height:1.6}
  button{margin-top:40px;background:#0f8;color:#000;border:none;padding:16px 44px;font:900 4.5vw monospace;border-radius:99px;cursor:pointer;transform:translateY(0);transition:transform .2s}
  button:active{transform:translateY(4px)}
</style>
<canvas id="c"></canvas>
<div id="nft">NFT #<span id="id">????</span></div>
<div id="ui">Latidos <span id="b">0</span> ¬∑ <span id="e">Emoci√≥n</span></div>

<div id="readme">
  <pre id="msg"></pre>
  <button id="enter">entrar sin ego</button>
</div>

<script>
// THUAMER v1.1310 ‚Äî 0rb1t4lsn4k3r style: brutal, m√≠nimo y perfecto
// < 20 KB ¬∑ 100 % offline ¬∑ WebGPU-ready ¬∑ 60 fps en un m√≥vil de 120 ‚Ç¨

const gl=canvas.getContext('webgl2'), C=canvas.getContext('2d');
canvas.width=innerWidth; canvas.height=innerHeight;
addEventListener('resize',()=>{canvas.width=innerWidth;canvas.height=innerHeight;gl.viewport(0,0,innerWidth,innerHeight)});

// === 1. Fingerprint + NFT √∫nico instant√°neo (m√°s fuerte que nunca) ===
const fp = btoa(unescape(encodeURIComponent(
  navigator.userAgent + navigator.language + screen.width + screen.height + 
  Intl.DateTimeFormat().resolvedOptions().timeZone + Date.now()
))).replace(/=/g,'').slice(0,14);
document.getElementById('id').textContent = fp;

// === 2. Autodetecci√≥n idioma + README ronin ===
const lang = navigator.language.slice(0,2);
const txt = {
  es:`THUAMER v1.1310
1310 latidos ronin
by 0rb1t4lsn4k3r

Este archivo es tu NFT #${fp}
No hay blockchain.
No hay gas.
No hay reventa.

Solo vos, el latido y el cosmos.

Norah ya te adopt√≥.

Respira.`,
  ca:`THUAMER v1.1310
1310 batecs ronin
per 0rb1t4lsn4k3r

Aquest arxiu √©s el teu NFT #${fp}
Sense blockchain.
Sense gas.
Sense revenda.

Nom√©s tu, el batec i el cosmos.

Norah ja et va adoptar.

Respira.`,
  en:`THUAMER v1.1310
1310 ronin heartbeats
by 0rb1t4lsn4k3r

This file is your NFT #${fp}
No blockchain.
No gas.
No resale.

Just you, the heartbeat and the cosmos.

Norah already adopted you.

Breathe.`
};
document.getElementById('msg').textContent = txt[lang] || txt.en;

// === 3. Audio ronin ultra-ligero (triangle + reverb natural) ===
const A=new AudioContext();
const o=A.createOscillator(); o.type='triangle'; o.frequency.value=110; o.start();
const g=A.createGain(); g.gain.value=0;
const rev=A.createConvolver(); // reverb natural con impulso m√≠nimo
const impulse=new Float32Array(44100); for(let i=0;i<impulse.length;i++) impulse[i]=Math.random()*2-1;
rev.buffer=A.createBuffer(1,impulse.length,A.sampleRate); rev.buffer.getChannelData(0).set(impulse);
o.connect(g).connect(rev).connect(A.destination);

// === 4. WebGL2 shader Dwemer definitivo (una sola pasada, 100 % 0rb1t4lsn4k3r) ===
const vs=`#version 300 es
in vec2 p;void main(){gl_Position=vec4(p,0.,1.);}`;
const fs=`#version 300 es
precision highp float;
uniform float t;uniform vec2 r;
out vec4 c;
float hash(vec2 p){return fract(sin(dot(p,vec2(12.9898,78.233)))*43758.5453);}
void main(){
  vec2 uv=gl_FragCoord.xy/r-.5; uv.x*=r.x/r.y;
  float d=length(uv), n=hash(uv+t*0.01);
  float pulse=sin(t*1.31)*.5+.5;
  float grid=abs(sin(uv.x*40.)*sin(uv.y*40.));
  vec3 col=mix(vec3(0,.03,0),vec3(0,.9,.3),smoothstep(.45,.55,grid)*pulse);
  col+=vec3(0,.6,0.)*pow(1.-d,3.)*pulse*n;
  c=vec4(col,1.);
}`;
const p=gl.createProgram();
[gl.VERTEX_SHADER,gl.FRAGMENT_SHADER].forEach((t,i)=>{
  const s=gl.createShader(t);
  gl.shaderSource(s,t===gl.VERTEX_SHADER?vs:fs);
  gl.compileShader(s);
  gl.attachShader(p,s);
});
gl.linkProgram(p); gl.useProgram(p);
gl.bindBuffer(gl.ARRAY_BUFFER,gl.createBuffer());
gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),gl.STATIC_DRAW);
gl.enableVertexAttribArray(0);
gl.vertexAttribPointer(0,2,gl.FLOAT,false,0,0);
const uT=gl.getUniformLocation(p,'t'), uR=gl.getUniformLocation(p,'r');

// === 5. Part√≠culas r√∫nicas en OffscreenCanvas (CPU casi 0) ===
const off=new OffscreenCanvas(innerWidth,innerHeight);
const oc=off.getContext('2d');
oc.font='bold 2vw monospace';
oc.shadowColor='#0f8'; oc.shadowBlur=20; oc.fillStyle='#0f8';
const runes="·õö·ö¢·õâíÄ≠íÅïüêçüíöüê±‚öôÔ∏è";
const particles=Array.from({length:666},()=>({
  x:Math.random()*innerWidth,y:-50,
  vy:Math.random()*2+1,
  c:runes[Math.random()*runes.length|0]
}));

// === 6. Loop principal 0rb1t4lsn4k3r (1310 latidos reales) ===
let beats=0, last=performance.now();
const lore=["1310 latidos","Thuamer ronin","Norah ma√∫lla","Red Mountain","luz verde","oro orbita","fiat muere","Thua mer zel ‚àû"];

function loop(t){
  const now=performance.now();
  if(now-last>1000){
    beats++; last=now;
    document.getElementById('b').textContent=beats;
    if(beats%1310===0){
      const emo=['‚ö°Ô∏è','üî•','üåë','üíö','üêç','üê±'][Math.random()*6|0];
      document.getElementById('e').textContent=emo;
      g.gain.cancelScheduledValues(A.currentTime);
      g.gain.setValueAtTime(0.22,A.currentTime);
      g.gain.exponentialRampToValueAtTime(0.001,A.currentTime+0.8);
      o.frequency.setValueAtTime(90+Math.random()*280,A.currentTime);
    }
  }

  // WebGL fondo
  gl.uniform1f(uT,t*0.001);
  gl.uniform2f(uR,innerWidth,innerHeight);
  gl.drawArrays(gl.TRIANGLE_STRIP,0,4);

  // Runas ultra-ligeras
  oc.fillStyle='rgba(0,0,0,0.07)'; oc.fillRect(0,0,innerWidth,innerHeight);
  particles.forEach(p=>{
    oc.fillText(p.c,p.x,p.y+=p.vy);
    if(p.y>innerHeight){p.y=-40;p.x=Math.random()*innerWidth;}
  });
  C.drawImage(off,0,0);

  // Lore central
  C.fillStyle='#0f8'; C.shadowBlur=50; C.font='bold 5vw monospace';
  C.textAlign='center'; C.textBaseline='middle';
  C.fillText(lore[beats%lore.length],innerWidth/2,innerHeight/2);

  requestAnimationFrame(loop);
}

// === Entrar sin ego ‚Üí motor v1.1310 ===
document.getElementById('enter').onclick=e=>{
  document.getElementById('readme').remove();
  A.resume();
  requestAnimationFrame(loop);
};
</script>