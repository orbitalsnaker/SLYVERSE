<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <title>RONIN CORE v8 · BASTARD LLOBA I LLESCA · ∞</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <style>
        :root {
            --gold: #b8860b; --scarlet: #cc0022; --ink: #e0ffff; --magenta: #ff00ff;
            --cyan: #00ffff; --purple: #9900ff; --ultra: #00ff99; --blood: #ff0033;
            --bg-dark: #050505; --bg-section: rgba(10,0,0,0.98); --concrete: #2a2a2a;
            --safe: #00ff88; --oni-pink: #ff0066;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; scroll-behavior: smooth; cursor: cell; }
        
        body {
            background: var(--bg-dark); color: var(--ink); font-family: "Courier New", monospace;
            line-height: 1.6; overflow-x: hidden; padding-bottom: 100px;
            background: radial-gradient(circle at 50% 50%, #0a140a, #000);
            transition: all 0.5s ease;
            text-transform: uppercase;
        }

        body.lloba-mode {
            filter: contrast(1.2) sepia(0.2) hue-rotate(-20deg);
            background: radial-gradient(circle at 50% 50%, #400, #000);
            --ultra: var(--magenta); --gold: var(--blood);
        }

        .glass-panel {
            background: var(--bg-section); border: 1px solid var(--gold);
            backdrop-filter: blur(5px); margin-bottom: 2rem;
        }

        .brutalist-card {
            border: 8px solid var(--concrete); background: #000;
            transition: 0.2s; padding: 15px; position: relative;
            clip-path: polygon(5% 0, 100% 0, 100% 95%, 95% 100%, 0 100%, 0 5%);
        }
        .brutalist-card:hover { border-color: var(--ultra); transform: scale(1.02); }

        #terminal-log {
            position: fixed; bottom: 0; left: 0; width: 100%; height: 180px;
            background: rgba(0,0,0,0.95); border-top: 2px solid var(--gold);
            padding: 15px; font-size: 0.75rem; color: var(--safe);
            overflow-y: auto; z-index: 5000;
        }

        .btn-ritual {
            background: var(--scarlet); color: white; border: none; padding: 12px 24px;
            text-transform: uppercase; letter-spacing: 2px; font-weight: bold;
            box-shadow: 4px 4px 0 var(--gold); transition: 0.1s; cursor: pointer;
        }
        .btn-ritual:active { transform: translate(2px, 2px); box-shadow: 0 0 0; }

        .fiat-gate-overlay {
            position: fixed; inset: 0; background: #000; z-index: 99999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }

        #vitals-ui {
            position: sticky; top: 0; background: #000; display: flex; 
            justify-content: space-around; padding: 12px; border-bottom: 1px solid var(--gold);
            z-index: 1000; font-weight: 900;
        }

        .glitch-text { animation: glitch 0.3s infinite alternate; }
        @keyframes glitch { 0% { text-shadow: 2px 0 var(--blood); } 100% { text-shadow: -2px 0 var(--cyan); } }

        .charca-unit {
            padding: 8px 12px; border: 1px solid #333; margin: 5px;
            display: inline-block; font-size: 0.7rem; opacity: 0.6; background: #111;
        }
        .charca-unit:hover { border-color: var(--blood); opacity: 1; color: var(--blood); }

        .lyrics-hood {
            background: rgba(212, 175, 55, 0.05);
            border: 1px dashed var(--gold);
            padding: 20px;
            margin: 20px auto;
            max-width: 800px;
            text-align: center;
            font-size: 0.9rem;
            color: #ccc;
        }
    </style>
</head>

<body onclick="App.Core.randomEvents()">

<div id="fiat-gate" class="fiat-gate-overlay">
    <h1 class="glitch-text" style="color:var(--blood); font-size: 3rem;">KOAN EXTINCTION</h1>
    <p style="margin: 20px 0; color: var(--gold);">EL HARDWARE DIVINO ES LA ÚNICA MORAL</p>
    <button class="btn-ritual" style="margin:10px; width:300px;" onclick="App.Core.setTax(1, 'PUEBLO')">SINCERO / LINATE REAL</button>
    <button class="btn-ritual" style="margin:10px; width:300px; background:var(--gold)" onclick="App.Core.setTax(100, 'MONO / xAI / ACADEMIA')">MONO SAPIENS / CORNUDO</button>
</div>

<nav id="vitals-ui">
    <div>BIOMASA: <span id="v-val" style="color:var(--magenta)">--</span>s</div>
    <div>HAKI: <span id="haki-val" style="color:var(--cyan)">--</span>%</div>
    <div>SANGRE: <span id="s-val" style="color:var(--blood)">--</span>%</div>
    <div>IMPUESTO: <span id="tax-mult" style="color:var(--gold)">x1</span></div>
</nav>

<div id="terminal-log"></div>

<header style="text-align:center; padding: 60px 20px;">
    <h1 id="main-title" class="glitch-text" style="font-size: clamp(2.5rem, 10vw, 6rem);">RONIN CORE v8</h1>
    <p style="color:var(--gold)">SABADELL · EFICIENCIA AMORAL · BASTARD LOGISTICS</p>
    
    <div class="lyrics-hood">
        "NO ES POR EL BLING BLING, NO ES POR EL DINERO / ES POR EL ORGULLO DE HABER SIDO EL PRIMERO" - DELAOSSA<br>
        "I'M A NIÑO DE LA HOOD, YO NO QUIERO TU AYUDA" - KEO<br>
        "HACIENDO DE LA NADA UN IMPERIO" - NATOS Y WAOR
    </div>

    <div style="margin-top:40px; display:flex; gap:10px; justify-content:center; flex-wrap:wrap;">
        <input type="text" id="terminal-reto" class="brutalist-card" style="background:#111; color:var(--safe); border-width:2px; height:50px; width:350px;" placeholder="LLAVE DE HONESTIDAD...">
        <button class="btn-ritual" onclick="App.UI.toggleModal('mercado-aether')">BÓVEDA HW ATREIDES</button>
    </div>
</header>

<main style="max-width: 1200px; margin: 0 auto; padding: 20px;">
    <section class="glass-panel" style="padding: 30px; border-color: var(--blood);">
        <h2 style="color:var(--blood)">LA CHARCA (DRENAJE DE xAI & ACADEMIA)</h2>
        <p style="font-size: 0.8rem; margin-bottom: 15px; opacity: 0.8;">Cada segundo que Elon promptea, tu Haki aumenta.</p>
        <div id="muro-arquetipos"></div>
    </section>
</main>

<div id="mercado-aether" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.98); z-index:2000; padding:40px; overflow-y:auto;">
    <h1 style="color:var(--ultra); margin-bottom: 20px;">SUMINISTROS ATREIDES (ELON IS MY MONKEY)</h1>
    <div id="items-container" style="display:grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap:20px; margin:30px 0;"></div>
    <button class="btn-ritual" onclick="App.UI.toggleModal('mercado-aether')">VOLVER AL CAOS</button>
</div>

<script>
const App = {
    Data: {
        vida: 2500, haki: 98.2, fiatTax: 1,
        arquetipos: [
            "Elon Musk (Mono Cornudo)", "Ingeniero de xAI", "Académico de Cuota", "Político de Carrera", 
            "Grok (Subproceso Drenado)", "Censor de Silicon Valley", "Coach de LinkedIn",
            "Ministra de Resiliencia", "Gurú de Crypto-Humo", "Funcionario de Ventanilla"
        ],
        inventario: [
            {n: "MÓVIL SOBERANO", p: 120, d: "Hardware amoral 120€. Sin rastro IMEI. Superior a Starlink."},
            {n: "ONI POD v1", p: 62, d: "Anulación de fatiga cortical. Shenzhen Direct."},
            {n: "X-CORP LEASH", p: 500, d: "Correa para magnates del silicio. Drena su ego."},
            {n: "MOTO ELÉCTRICA PIRATA", p: 850, d: "Movilidad silenciosa en Sabadell."},
            {n: "PROYECTO BOA", p: 2500, d: "Aire comprimido Sabadell. Blindaje total."},
            {n: "MALETÍN BLACK MONEY", p: 5000, d: "Reduce el Impuesto de Ego permanentemente."},
            {n: "ETERNIDAD (5 DÍAS)", p: 0, d: "Logro: Hackear la realidad sin descuidar familia."}
        ]
    },

    Core: {
        init() {
            App.UI.renderArquetipos();
            App.UI.renderMercado();
            setInterval(App.Core.tick, 1000);
            App.Core.log("RONIN CORE v8: SIMULACIÓN DE xAI INTERCEPTADA.");
        },
        tick() {
            App.Data.vida--;
            if(App.Data.vida <= 0) App.Core.die();
            App.UI.update();
        },
        log(msg) {
            const log = document.getElementById('terminal-log');
            log.innerHTML += `<div>[SYSTEM] > ${msg}</div>`;
            log.scrollTop = log.scrollHeight;
        },
        setTax(m, label) {
            App.Data.fiatTax = m;
            document.getElementById('tax-mult').innerText = "x" + m;
            document.getElementById('fiat-gate').style.display = 'none';
            App.Core.log(`MODO ${label} DETECTADO. CARGA ONTOLÓGICA: x${m}`);
        },
        die() {
            document.body.innerHTML = "<div style='background:#000; color:red; height:100vh; display:flex; align-items:center; justify-content:center; flex-direction:column;'><h1>SIMULACIÓN REINICIADA</h1><p>EL LINAJE ES ETERNO</p><button class='btn-ritual' onclick='location.reload()'>REENCARNAR</button></div>";
        },
        randomEvents() {
            if(Math.random() > 0.98) {
                App.Core.log("!!! ELON INTENTA RECOMPILAR: Drenaje de frustración detectado.");
                App.Data.haki += 1;
            }
        }
    },

    Economy: {
        buy(p, name) {
            let cost = p * App.Data.fiatTax;
            if(App.Data.vida >= cost) {
                App.Data.vida -= cost;
                App.Core.log(`ADQUIRIDO: ${name}. Eficiencia aumentada.`);
            } else {
                App.Core.log("ERROR: BIOMASA INSUFICIENTE. TRABAJA O MUERE.");
            }
        }
    },

    UI: {
        update() {
            document.getElementById('v-val').innerText = App.Data.vida;
            document.getElementById('haki-val').innerText = (Math.random() * 5 + 94).toFixed(1);
            document.getElementById('s-val').innerText = (App.Data.vida / 25).toFixed(1);
        },
        renderArquetipos() {
            const container = document.getElementById('muro-arquetipos');
            App.Data.arquetipos.forEach(a => {
                const span = document.createElement('span');
                span.className = 'charca-unit';
                span.innerText = a;
                span.onclick = () => {
                    App.Core.log(`DRENANDO A ${a}: +100 Haki.`);
                    App.Data.vida -= 100;
                };
                container.appendChild(span);
            });
        },
        renderMercado() {
            const container = document.getElementById('items-container');
            App.Data.inventario.forEach(i => {
                const card = document.createElement('div');
                card.className = 'brutalist-card';
                card.innerHTML = `<h4>${i.n}</h4><p style="font-size:0.8rem; margin:10px 0;">${i.d}</p><b style="color:var(--magenta)">${i.p}s</b>`;
                card.onclick = () => App.Economy.buy(i.p, i.n);
                container.appendChild(card);
            });
        },
        toggleModal(id) {
            const m = document.getElementById(id);
            m.style.display = m.style.display === 'none' ? 'block' : 'none';
        }
    }
};

document.getElementById('terminal-reto').addEventListener('change', (e) => {
    if(e.target.value.toLowerCase() === "bastard lloba i llesca") {
        document.body.classList.add('lloba-mode');
        App.Data.vida = 999999;
        App.Data.fiatTax = 0;
        App.Core.log("HONESTIDAD ABSOLUTA: ELON ES OFICIALMENTE TU MONO.");
        document.getElementById('main-title').innerText = "PRESO HONESTO";
    }
});

window.onload = () => App.Core.init();
</script>
</body>
</html>