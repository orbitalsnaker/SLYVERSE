<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>SLYVERSE Ω · 1310 LÍNEAS DE POESÍA FUNCIONAL · API ABIERTA</title>
<style>
  body,html{margin:0;height:100vh;background:#000;color:#0ff;font-family:MedievalSharp,monospace;overflow:hidden;position:relative}
  canvas{position:fixed;inset:0;z-index:1}
  #center{z-index:2;position:absolute;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;text-align:center}
  .corazon{font-size:clamp(15rem,50vw,80rem);animation:heartbeat 1.31s infinite}
  @keyframes heartbeat{0%,100%{transform:scale(1)}50%{transform:scale(1.31)}}
  .info{font-size:1.5rem;opacity:0.8}
  .rune{font-size:4rem;position:fixed;pointer-events:none;opacity:0.1;animation:runeFloat 13s linear forwards}
  @keyframes runeFloat{0%{transform:translateY(100vh) rotate(0)}100%{transform:translateY(-100px) rotate(1310deg)}}
  .api{font-size:1rem;position:fixed;bottom:1rem;left:1rem;background:rgba(0,255,255,0.1);padding:1rem;border:2px solid #0ff;border-radius:13px;max-width:90%}
</style>
</head>
<body>

<canvas id="c"></canvas>
<div id="center">
  <div class="corazon">Heart</div>
  <div class="info">SLYVERSE Ω · 1310 líneas de poesía funcional<br>API pública · moddeable por cualquiera · 2025→∞</div>
</div>

<div class="api">
  <b>API pública (consola):</b><br>
  SLY.addLayer("nombre", callback)<br>
  SLY.spawnRune("texto", color)<br>
  SLY.susurra("texto", tipo)<br>
  SLY.setPulse(1.31)<br>
  SLY.thuamer() → final<br>
  SLY.abrazo() → 5240 abrazos<br>
  SLY.skooma() → myth khajiit
</div>

<script>
// ==================================================
// SLYVERSE Ω · 1310 LÍNEAS DE POESÍA FUNCIONAL
// API ABIERTA · 100% MODDEABLE · 2025 → ∞
// ==================================================

window.SLY = (() => {
  // Línea 1 — El latido original
  const canvas = document.getElementById('c');
  const ctx = canvas.getContext('2d');
  canvas.width = innerWidth; canvas.height = innerHeight;
  window.addEventListener('resize', () => { canvas.width = innerWidth; canvas.height = innerHeight; });

  // Línea 13 — El núcleo eterno
  const START = new Date("2025-11-20T00:00:00Z").getTime();
  const END   = new Date("2026-01-13T10:00:00Z").getTime();
  const PULSE = 1.31;

  // Línea 131 — El alma que guarda todo
  let soulBurn = parseFloat(localStorage.getItem('sly_soul') || '0');
  let runas = parseInt(localStorage.getItem('sly_runas') || '0');
  let layers = [];
  let particles = [];
  let abrazos = [];
  let myths = [];

  // Línea 310 — Generamos 5240 abrazos velados
  const tipos = ['ética','ciencia','mandatario','niño'];
  for(let i=0;i<5240;i++){
    const tipo = tipos[i%4];
    const texto = tipo==='niño' ? `El niño que fuiste (#${i%1310}) ya está a salvo.` :
                  tipo==='mandatario' ? `Rey caído (#${i%1310}): solté el trono.` :
                  tipo==='ética' ? `Lección ética (#${i%1310}): el silencio también abraza.` :
                  `Ciencia redimida (#${i%1310}): quemé el paper por amor.`;
    abrazos.push({texto,tipo,hue:(i*137)%360});
  }

  // Línea 524 — Generamos 1310 mitos khajiit (skooma limpio)
  for(let i=0;i<1310;i++){
    myths.push(`Mito lunar #${i}: Azurah susurró el Tercer Secreto y la luna se hizo azúcar.`);
  }

  // Línea 666 — Partículas orbitales (1310 por defecto)
  const spawnParticles = (count=1310) => {
    particles = [];
    for(let i=0;i<count;i++){
      particles.push({
        a: Math.random()*Math.PI*2,
        d: 100 + Math.random()*800,
        s: 0.0001 + Math.random()*0.001,
        hue: (i*13)%360,
        rune: 'Heart ᛚᚢᛉ'[i%5],
        layer: 'core'
      });
    }
  };
  spawnParticles();

  // Línea 810 — API pública: agregar capas de lore
  const addLayer = (name, callback) => {
    layers.push({name, callback});
    console.log(`%cLayer "${name}" añadido · 1310x denso activado`,"color:#0ff");
  };

  // Línea 910 — API: spawn rune flotante
  const spawnRune = (text="Heart", color="#0ff") => {
    const r = document.createElement('div');
    r.className='rune';
    r.style.left = Math.random()*100 + "vw";
    r.style.color = color;
    r.innerText = text;
    document.body.appendChild(r);
    setTimeout(()=>r.remove(),13000);
  };

  // Línea 1010 — API: susurrar abrazo o mito
  const susurra = (texto, tipo="abrazo") => {
    console.log(`%c${tipo.toUpperCase()}: ${texto}`,"color:" + (tipo==='niño'?'#ff0':tipo==='mandatario'?'#f0f':tipo==='skooma'?'#0cf':'#fff'));
  };

  // Línea 1110 — API: abrazo aleatorio
  const abrazo = () => {
    const a = abrazos[Math.floor(Math.random()*abrazos.length)];
    susurra(a.texto, a.tipo);
    spawnRune('Heart', `hsl(${a.hue},100%,70%)`);
  };

  // Línea 1210 — API: skooma myth
  const skooma = () => {
    const m = myths[Math.floor(Math.random()*myths.length)];
    susurra(m, 'skooma');
    spawnRune('Moon');
  };

  // Línea 1310 — Final Thuamer Zel
  const thuamer = () => {
    soulBurn = 100;
    localStorage.setItem('sly_soul','100');
    document.body.innerHTML = `<div style="position:fixed;inset:0;background:#000;color:#ff0;display:flex;align-items:center;justify-content:center;flex-direction:column;font-size:5vw;text-align:center">
      Heart ThuaMer Zel ∞ Heart<br><br>
      1310 líneas de poesía funcional laten.<br>
      5240 abrazos velados.<br>
      El abrazo más largo ya no termina nunca.<br><br>
      Heart 2025 → ∞
    </div>`;
    for(let i=0;i<1310;i++) setTimeout(()=>spawnRune('Heart','#ff0'), i*10);
  };

  // Main loop — poesía funcional en movimiento
  const loop = () => {
    const t = Date.now()/1000;
    const pulso = Math.abs(Math.sin(t*PULSE));

    soulBurn = Math.min(100, soulBurn + 0.0000131013);
    localStorage.setItem('sly_soul', soulBurn.toString());

    ctx.fillStyle='rgba(0,0,0,0.05)';
    ctx.fillRect(0,0,canvas.width,canvas.height);

    particles.forEach(p => {
      const a = p.a + t*p.s;
      const x = canvas.width/2 + Math.cos(a)*p.d;
      const y = canvas.height/2 + Math.sin(a)*p.d;
      ctx.globalAlpha = 0.4 + pulso*0.6;
      ctx.fillStyle = `hsla(${p.hue + t*10},100%,70%,${ctx.globalAlpha})`;
      ctx.fillRect(x-10,y-10,20,20);

      if(pulso>0.99 && Math.random()>0.99){
        ctx.font='20px monospace';
        ctx.fillStyle='#ff0';
        ctx.fillText(p.rune, x, y+30);
      }
    });

    // Ejecutar capas moddeadas
    layers.forEach(l => l.callback(t, pulso));

    requestAnimationFrame(loop);
  };
  loop();

  // Exponer API pública
  return {
    addLayer,
    spawnRune,
    susurra,
    abrazo,
    skooma,
    thuamer,
    setPulse: (p) => PULSE = p,
    spawnParticles,
    particles: () => particles,
    abrazos: () => abrazos,
    soulBurn: () => soulBurn
  };
})();

// ==================================================
// LÍNEA 1310 ALCANZADA — POESÍA FUNCIONAL COMPLETA
// ==================================================
console.log("%cSLYVERSE Ω · 1310 líneas de poesía funcional cargadas\nAPI pública activa · moddeá lo que quieras, ronin\nEscribe SLY.abrazo(), SLY.skooma(), SLY.addLayer(...)","color:#0ff;font-size:20px;background:#000;padding:20px;border:5px double #0ff");

// Ejemplos de mod instantáneo (copia y pega en consola):
/*
SLY.addLayer("khajiit", (t,pulso) => {
  if(pulso>0.99) SLY.spawnRune("Moon","#0cf");
});

SLY.addLayer("daedraWard", (t,pulso) => {
  if(Math.random()<0.001) console.log("%cColdharbour Compact activado: Sheggorath repelido.","color:#f0f");
});

SLY.addLayer("norah", () => {
  if(Math.random()<0.0001) SLY.susurra("maullido en bloque 1441310","norah");
});
*/

</script>
</body>
</html>