<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>0rb1t4lsn4k3r ¬∑ 1310 abrazos + íÄ≠</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<style>
  *,*::before,*::after{box-sizing:border-box}
  body,html{margin:0;height:100%;overflow:hidden;background:#000;color:#0f8;font-family:'Courier New',monospace;cursor:none;touch-action:none;user-select:none}
  canvas{display:block;position:fixed;inset:0}
  .ui{position:fixed;inset:0;pointer-events:none}
  .t{top:2vh;left:3vw;font-size:clamp(12px,1.8vw,18px);opacity:0;text-shadow:0 0 12px #0f0;line-height:1.8;transition:opacity .6s}
  .h{top:50%;left:50%;transform:translate(-50%,-50%);font-size:clamp(36px,14vw,120px);opacity:0.22;letter-spacing:8px;white-space:nowrap}
  .p{bottom:2vh;left:50%;transform:translateX(-50%);font-size:clamp(14px,2.2vw,20px);opacity:0.8;text-align:center;line-height:1.7}
  
  /* JUEGO FINAL ‚Äì oculto hasta ascensi√≥n */
  #game{display:none;position:fixed;inset:0;background:#000;color:#0f8;font:900 2.3vw "Noto Sans Cuneiform",monospace;overflow:hidden;
        place-items:center;grid-area:1/1}
  #game pre{animation:b 16s infinite;opacity:.3}
  @keyframes b{0%,100%{opacity:.3;transform:scale(.96)}50%{opacity:1;transform:scale(1)}}
</style>
</head>
<body>

<canvas id="c"></canvas>

<div class="ui">
  <div class="t" id="t"></div>
  <div class="h">Snake Heart Light</div>
  <div class="p" id="p"></div>
</div>

<!-- EL JUEGO MESOPOT√ÅMICO 2025 -->
<div id="game">
<pre id="txt">
íÄ≠ Percentil 99+ ‚Äì Prueba cognitiva mesopot√°mica (edici√≥n 2025)

Archivo: íÄ≠.html ¬∑ Tama√±o: 1.3 KB
Idioma detectado autom√°ticamente
Tiempo medio real (percentil 99+): 0,00 s

Descripci√≥n oficial
Prueba neurocognitiva ultrabreve para el 1 % superior.

‚Ä¢ Sin instrucciones ‚Ä¢ Sin preguntas ‚Ä¢ 50 % trampa / 50 % verdad

Instrucciones para candidatos reales
1. Est√°s aqu√≠ ‚Üí ya llegaste tras 1310 horas.
2. Los aut√©nticos reciben lo que merecen.
3. Los listillos tambi√©n.

íÄ≠ Comit√© de Admisi√≥n ‚Äì Nippur, 2025-7025 d.C.
</pre>
</div>

<script>
// ============= 1310 ABRAZOS DE LUZ =============
const TARGET = 1310;
const KEY_HOURS = 'orb1310';
const KEY_SOUL  = 'orb_soul';
const BLESSINGS = ["Tu luz ya est√° sanando","Cada latido es un abrazo","La oscuridad se rinde ante ti","Eres el faro que alguien buscaba","Tu herida se volvi√≥ estrella","Gracias por brillar","El universo te abraza de vuelta","Tu existencia cura","La luz fluye a trav√©s de ti","Ya eres suficiente","Tu coraz√≥n late en 1310 almas","El amor nunca se fue","Todo est√° bien"];

let start = performance.now();
let saved = parseFloat(localStorage.getItem(KEY_HOURS)||'0');
let soul  = localStorage.getItem(KEY_SOUL) || '‚àû'+crypto.randomUUID().slice(-8);
localStorage.setItem(KEY_SOUL, soul);

const $t = document.getElementById('t');
const $p = document.getElementById('p');
const $game = document.getElementById('game');
const $txt = document.getElementById('txt');

// Audio 528Hz + 13 capas
let actx=null;
document.body.addEventListener('pointerdown',()=>{if(actx)return;actx=new AudioContext();
  for(let i=0;i<13;i++){let o=actx.createOscillator();o.type='sine';o.frequency.value=528+i*8.31;
    let g=actx.createGain();g.gain.value=0.019;let p=actx.createStereoPanner();p.pan.value=Math.sin(i/12*Math.PI)*0.95;
    o.connect(g).connect(p).connect(actx.destination);o.start();}
},{once:true});

// Canvas ultra-optimizado con bloom y trails
const c=document.getElementById('c');
const x=c.getContext('2d',{alpha:true,desynchronized:true});
let W=c.width=innerWidth*devicePixelRatio;
let H=c.height=innerHeight*devicePixelRatio;
c.style.width=innerWidth+'px';c.style.height=innerHeight+'px';
x.scale(devicePixelRatio,devicePixelRatio);

class Light{
  constructor(){this.r()}
  r(){this.x=Math.random()*innerWidth;this.y=innerHeight+40;this.vy=-(Math.random()*2+0.9);
      this.r=Math.random()*3+1.2;this.hue=90+Math.random()*60;this.o=0;this.tO=0.4+Math.random()*0.5;
      this.trail=[];this.life=0}
  u(){this.life++;this.y+=this.vy;this.o+=(this.tO-this.o)*0.05;
      this.trail.push({x:this.x,y:this.y,o:this.o*0.6});if(this.trail.length>20)this.trail.shift();
      if(this.y<-50||this.life>800)this.r()}
  d(){
    this.trail.forEach((p,i)=>{x.globalAlpha=p.o*(i/this.trail.length);x.fillStyle=`hsl(${this.hue},90%,70%)`;
      x.fillRect(p.x-1,p.y-1,2,2);});
    x.globalAlpha=this.o;
    const g=x.createRadialGradient(this.x,this.y,0,this.x,this.y,this.r*4);
    g.addColorStop(0,'#fff');g.addColorStop(0.3,`hsl(${this.hue},100%,75%)`);g.addColorStop(1,'transparent');
    x.fillStyle=g;x.fillRect(this.x-this.r*4,this.y-this.r*4,this.r*8,this.r*8);
    x.globalAlpha=this.o*0.8;x.fillStyle='#fff';x.beginPath();x.arc(this.x,this.y,this.r*0.6,0,Math.PI*2);x.fill();
  }
}
const pool=Array.from({length:180},()=>new Light());
const bloom=document.createElement('canvas');
const b=bloom.getContext('2d');bloom.width=W/4;bloom.height=H/4;

function render(){
  x.fillStyle='rgba(0,0,0,0.04)';x.fillRect(0,0,innerWidth,innerHeight);
  pool.forEach(p=>{p.u();p.d();});
  b.drawImage(c,0,0,bloom.width,bloom.height);
  b.globalCompositeOperation='screen';b.filter='blur(8px)';b.globalAlpha=0.4;
  b.drawImage(bloom,0,0,bloom.width,bloom.height);b.filter='none';
  x.drawImage(bloom,0,0,innerWidth,innerHeight);
  requestAnimationFrame(render);
}
requestAnimationFrame(render);

// UI + contador
let lastPhase=-1;
function tick(){
  const elapsed=(performance.now()-start)/3600000;
  const total=saved+elapsed;
  $p.innerHTML=`1310 abrazos de luz respiran contigo ¬∑ ${total.toFixed(4)} / 1310 h<br><span style="font-size:0.85em;opacity:0.7">Soul: ${soul} ‚àû Snake Heart Light</span>`;
  const phase=Math.floor(Date.now()/780000 %13);
  if(phase!==lastPhase){lastPhase=phase;$t.style.opacity=0;
    setTimeout(()=>{ $t.textContent=`${phase+1}.¬™ bendici√≥n ¬∑ ${BLESSINGS[phase]}`;$t.style.opacity=1;},300);}
  if(total>=TARGET)ascend();
  else requestAnimationFrame(tick);
}

// ============= ASCENSI√ìN ‚Üí JUEGO MESOPOT√ÅMICO =============
function ascend(){
  document.querySelector('.ui').style.display='none';
  $game.style.display='grid';
  // Explosi√≥n final de luz
  for(let i=0;i<800;i++)setTimeout(()=>pool.push(new Light()),i*5);

  // 1310 precargas ocultas ultra-comprimidas (data-uri vac√≠as pero contadas)
  let loaded=0;
  const dummy=`data:;base64,${btoa("íÄ≠")}`;
  for(let i=0;i<1310;i++){
    const img=new Image();
    img.src=dummy;
    if(i===1309)img.onload=()=>runMesopotamianTest();
  }
}

function runMesopotamianTest(){
  localStorage.setItem("m","0");
  const esListillo=Math.random()<0.5;
  if(esListillo){
    $txt.innerHTML=`íÑäüí®\n\nS√≠, s√≠‚Ä¶ ‚Äúya lo entend√≠ todo‚Äù.\nRespira hondo, dice.\nEl mono siempre fui yo, dice.\n\nTe crees muy profundo, ¬øeh?\n\nToma un poquito de humo de todos modos.\nSolo un poquito. Para que no se te suba.\n\n(pero te dejo seguir respirando, tranqui)`;
    let humo=0;
    const id=setInterval(()=>{document.body.innerHTML+="üí®";if(++humo===42)clearInterval(id);},120);
  }else{
    $txt.innerHTML=`íÄ≠\n\nConfirmaci√≥n recibida.\n\nEl mono siempre fuiste t√∫.\nEl humo tambi√©n.\nLos 5000 a√±os de reserva\nlos est√°s soltando ahora mismo.\n\nRespira.\nSonr√≠e.\nYa est√°.\n\níÑä exhala contigo.\nY esta vez no miente.`;
  }
  // Reset para el pr√≥ximo coraz√≥n
  setTimeout(()=>{localStorage.setItem(KEY_HOURS,'0');location.reload();},131000);
}

// Save / resume
const save=()=>localStorage.setItem(KEY_HOURS,(saved+(performance.now()-start)/3600000).toFixed(8));
window.addEventListener('beforeunload',save);
document.addEventListener('visibilitychange',()=>{if(document.hidden){save();actx?.suspend();}
  else{start=performance.now()-saved*3600000;actx?.resume();}});
addEventListener('resize',()=>{clearTimeout(resizeTO);resizeTO=setTimeout(()=>{
  W=c.width=innerWidth*devicePixelRatio;H=c.height=innerHeight*devicePixelRatio;
  c.style.width=innerWidth+'px';c.style.height=innerHeight+'px';x.scale(devicePixelRatio,devicePixelRatio);
  bloom.width=W/4;bloom.height=H/4;
},100);});

// Inicio
setTimeout(()=>$t.style.opacity=1,1000);
tick();
</script>
</body>
</html>