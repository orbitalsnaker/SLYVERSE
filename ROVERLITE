<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>AIRWEAVE v19-GRIS — Arte Digital Completo (Patentes incluidas)</title>
<style>
  *{margin:0;padding:0;box-sizing:border-box}
  body{background:#000;color:#0f0;font-family:"Courier New",monospace;overflow:hidden;height:100vh;
       background:radial-gradient(circle at 30% 70%,#110033,#000 75%)}
  .scan{position:fixed;inset:0;background:repeating-linear-gradient(45deg,rgba(0,255,255,0.07)0,rgba(0,255,255,0.2)8px,transparent 16px);
        animation:scan 15s linear infinite;pointer-events:none}
  @keyframes scan{0%{transform:translate(-100%,-100%)}100%{transform:translate(100%,100%)}}
  .p{position:fixed;background:rgba(0,0,0,0.95);border:10px double #0ff;padding:32px;box-shadow:0 0 220px #0ff}
  .g{color:#0ff;text-shadow:0 0 100px #0ff;font-weight:900}
  .gris{color:#ff00ff;text-shadow:0 0 140px #ff00ff}
  button{background:#000;border:10px solid #0ff;color:#0ff;padding:24px;font-size:30px;width:100%;margin-top:15px;cursor:pointer}
  #log{height:480px;overflow-y:auto;color:#0ff;background:#000;font-size:21px;padding:26px;border:4px dashed #0ff}
  .btn-pay{background:#000;border:12px double #0f0;color:#0f0;font-size:38px;padding:30px}
  .airweave{color:#ff00ff;text-shadow:0 0 250px #ff00ff;animation:pulse 1.5s infinite alternate}
  @keyframes pulse{0%{text-shadow:0 0 150px #ff00ff}100%{text-shadow:0 0 400px #ff00ff}}
  #readme{position:fixed;inset:0;background:#000;z-index:9999;overflow-y:auto;padding:7vh 8vw;display:none;color:#0f0;line-height:2.2}
  .close{color:#f00;font-size:180px;position:absolute;top:10px;right:40px;cursor:pointer;text-shadow:0 0 120px #f00}
</style>
<script src="https://threejs.org/build/three.min.js"></script>
<script src="https://threejs.org/examples/js/controls/OrbitControls.js"></script>
<script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
</head>
<body>

<div class="scan"></div>

<!-- HEADER DECLARACIÓN DE ARTE DIGITAL -->
<div class="p g gris" style="top:30px;left:50%;transform:translateX(-50%);width:98%;max-width:2000px;text-align:center;padding:90px;cursor:pointer" onclick="document.getElementById('readme').style.display='block'">
  <div style="font-size:800%" class="airweave">v19-GRIS</div>
  <div style="font-size:460%">ARTE DIGITAL COMPLETO</div>
  <div style="font-size:380%">Obra conceptual única · Patentes incluidas como parte del arte</div>
  <div style="font-size:340%">0.069420 ETH → licencia de colección (NFT implícito en transacción)</div>
</div>

<!-- TERMINAL + PAGO -->
<div class="p" style="top:180px;left:20px;width:1000px;height:880px">
  <div class="g gris">TERMINAL AIRWEAVE · MODO ARTE</div>
  <div id="log">
    AIRWEAVE v19-GRIS cargado como OBRA DE ARTE DIGITAL<br><br>
    Todo el contenido, incluyendo las 68 patentes registradas, los diseños técnicos, especificaciones y archivos de fabricación, forma parte integrante de esta obra conceptual única.<br><br>
    Licencia de colección individual (persona física) → 0.069420 ETH (pago único)<br>
    Destino: 0xfddb91bd8157dafb735d4087cff8823b42eaadc7<br><br>
    Al confirmar pago se descarga automáticamente el pack completo como prueba de propiedad de esta pieza de arte digital.<br><br>
    Haz clic en CONECTAR METAMASK para adquirir la obra.
  </div>
  <button id="connectBtn">CONECTAR METAMASK</button>
  <button id="payBtn" class="btn-pay" style="display:none">PAGAR 0.069420 ETH → DESCARGAR OBRA COMPLETA</button>
</div>

<!-- README COMPLETO (ahora explícitamente arte) -->
<div id="readme">
  <span class="close" onclick="this.parentNode.style.display='none'">×</span>
  <h1 class="airweave" style="font-size:600%;text-align:center;margin:40px 0">v19-GRIS · OBRA DE ARTE DIGITAL</h1>
  <h2 style="text-align:center;color:#0ff;font-size:300%">Declaración artística · Patentes como expresión creativa</h2><br><br>

  <p style="font-size:180%;text-align:center;color:#ff00ff">
    Toda la información técnica presentada a continuación, incluidas las 68 patentes registradas entre 2023 y 2025, los diseños CAD, especificaciones de materiales, aviónica y sistemas de propulsión, forman parte inseparable de esta obra conceptual de arte digital titulada "AIRWEAVE v19-GRIS".<br><br>
    Las patentes no se presentan como invenciones utilitarias aisladas, sino como elementos narrativos y estéticos dentro de una crítica satírica al sistema de propiedad intelectual, la cohetería privada y la acumulación de capital en el espacio.
  </p><br><br>

  <h3 style="color:#ff00ff">68 PATENTES REGISTRADAS (integradas como arte)</h3>
  <p>ES2023XXXXXX — Cámara de combustión aerospike impresa en una sola pieza<br>
  ES2024XXXXXX — Sistema de presurización autoconsumo con COPV impresos<br>
  ES2024XXXXXX — Gimbal vectorial de 12° impreso en nylon-carbono<br>
  ES2025XXXXXX — Turbopompa brushless 150 kRPM con rodamiento cerámico<br>
  ES2025XXXXXX — Sistema de aterrizaje plegable con patas de composite<br>
  … (64 patentes más de aviónica, telemetría LoRa, pyro-canales redundantes, etc.)<br>
  <i>Todas ellas forman parte del corpus artístico de la obra.</i></p><br>

  <h3 style="color:#ff00ff">CARACTERÍSTICAS TÉCNICAS (elemento narrativo)</h3>
  <p>Altura total: 4,20 m<br>
  Diámetro: 0,34 m<br>
  Masa seca: 78 kg<br>
  Masa propelente: 280 kg (kerolox presión-alimentado)<br>
  Empuje al despegue: 40 kN<br>
  Impulso específico: 268 s (nivel mar) / 312 s (vacío)<br>
  Δv teórico: 15,1 km/s (carga útil 8 kg a LEO)<br>
  Materiales principales: Nylon-carbono PA12, Inconel 718 (cámara), fibra de carbono T700<br>
  Aviónica: Teensy 4.1 + BMP388 + ICM-20948 + 2× pyro redundantes<br>
  Telemetría: LoRa 868 MHz + Iridium SBD backup<br>
  Tiempo de impresión total: ~46 h (tres impresoras en paralelo)</p><br>

  <h3 style="color:#ff00ff">TÉRMINOS DE COLECCIÓN (licencia artística)</h3>
  <p>Solo personas físicas · Adquisición única: 0.069420 ETH<br>
  La transacción actúa como prueba de propiedad de esta obra digital única.<br>
  Royalties artísticos: 30 % de cualquier reventa o beneficio derivado de la pieza.<br>
  Prohibido: empresas, gobiernos, organizaciones internacionales.</p><br>

  <p style="text-align:center;font-size:200%;color:#0ff">Haz clic fuera o en × para cerrar</p>
</div>

<div id="threejs_container" style="position:fixed;inset:0;pointer-events:none;z-index:1"></div>

<script>
const wallet = "0xfddb91bd8157dafb735d4087cff8823b42eaadc7";
const amountETH = "0.069420";
const packURL = "https://gateway.ipfs.io/ipfs/QmZf3xT8aK9jP2mN5vL7uH4qR9xY6wB3cD5eF7gH8jK9mP/v19-GRIS_FULL_PACK_2025.7z";
const log = document.getElementById("log");
const payBtn = document.getElementById("payBtn");
let userAccount;

// METAMASK
document.getElementById("connectBtn").onclick = async () => {
  if (typeof window.ethereum !== "undefined") {
    try {
      const accounts = await ethereum.request({ method: "eth_requestAccounts" });
      userAccount = accounts[0];
      log.innerHTML += `<br><br>Wallet conectada:<br>${userAccount}`;
      payBtn.style.display = "block";
      document.getElementById("connectBtn").style.display = "none";
    } catch (e) { log.innerHTML += "<br>Error: " + e.message; }
  } else { log.innerHTML += "<br>MetaMask no detectado."; }
  log.scrollTop = log.scrollHeight;
};

payBtn.onclick = async () => {
  payBtn.disabled = true;
  payBtn.textContent = "Enviando transacción…";
  try {
    const txHash = await ethereum.request({
      method: "eth_sendTransaction",
      params: [{ from: userAccount, to: wallet, value: Web3.utils.toHex(Web3.utils.toWei(amountETH, "ether")) }],
    });
    log.innerHTML += `<br><br>Transacción enviada:<br>${txHash}<br>Confirmando adquisición artística…`;

    setTimeout(() => {
      log.innerHTML += `<br><br>Pago confirmado en Mainnet.<br>Obra digital adquirida.<br>Iniciando descarga del corpus completo…`;
      const a = document.createElement("a");
      a.href = packURL;
      a.download = "v19-GRIS_ARTE_DIGITAL_COMPLETO_2025.7z";
      document.body.appendChild(a); a.click(); document.body.removeChild(a);
      log.innerHTML += `<br><br>Descarga iniciada (42 MB).`;
    }, 9000);

  } catch (err) {
    log.innerHTML += "<br>Error: " + err.message;
    payBtn.disabled = false;
    payBtn.textContent = "PAGAR 0.069420 ETH → DESCARGAR OBRA COMPLETA";
  }
  log.scrollTop = log.scrollHeight;
};

// 3D COHETE (ahora pieza artística)
let scene, camera, renderer, cohete;
function init3D() {
  scene = new THREE.Scene(); scene.background = new THREE.Color(0x000011);
  camera = new THREE.PerspectiveCamera(75, innerWidth/innerHeight, 0.1, 1000);
  camera.position.set(0,20,120);
  renderer = new THREE.WebGLRenderer({antialias:true, alpha:true});
  renderer.setSize(innerWidth, innerHeight);
  document.getElementById("threejs_container").appendChild(renderer.domElement);
  new THREE.OrbitControls(camera, renderer.domElement);

  const geo = new THREE.ConeGeometry(18, 90, 12);
  const mat = new THREE.MeshBasicMaterial({color:0xff00ff, wireframe:true});
  cohete = new THREE.Mesh(geo, mat);
  scene.add(cohete);

  function animate() {
    requestAnimationFrame(animate);
    cohete.rotation.y += 0.012;
    cohete.position.y = Math.sin(Date.now()*0.001)*12;
    renderer.render(scene, camera);
  }
  animate();
}
init3D();
</script>
</body>
</html>