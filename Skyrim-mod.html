<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>SLYVERSE Ω · 16/16 · ORB1T4L CYCLE · Abrazo eterno</title>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<style>
  body,html{margin:0;overflow:hidden;height:100dvh;background:#000;color:#0f0;font-family:Georgia,serif;position:relative}
  #fondo{position:fixed;inset:0;background:radial-gradient(circle at 50% 8%,#00FF0033,transparent 75%);animation:aurora 140s infinite;z-index:-3}
  @keyframes aurora{0%,100%{transform:rotate(0deg) scale(1)}50%{transform:rotate(180deg) scale(1.2)}}
  #plaza{position:fixed;bottom:0;left:0;width:100%;height:48vh;background:repeating-linear-gradient(90deg,#001100 0px,#002200 40px,#003300 80px,#001100 120px);animation:humo 90s infinite linear;z-index:-1}
  @keyframes humo{0%{background-position:-300px 0}100%{background-position:0 0}}
  .p{position:absolute;border-radius:50%;background:#0f0;box-shadow:0 0 30px #0f0;pointer-events:none;mix-blend-mode:screen;animation:pulso 8s infinite}
  @keyframes pulso{0%,100%{transform:scale(1)}50%{transform:scale(1.4)}}
  #mate{position:fixed;bottom:28px;right:28px;width:160px;height:160px;z-index:9999;animation:m 25s linear infinite;cursor:pointer;filter:drop-shadow(0 0 20px #0f0);transition:all .4s}
  #mate.cycle{animation:mfast 1.31s linear infinite}
  @keyframes m{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
  @keyframes mfast{from{transform:rotate(0deg)}to{transform:rotate(3600deg)}}
  .layer{position:fixed;inset:0;background:rgba(0,0,0,0.985);display:none;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:#0f8;font-size:1.6rem;line-height:2.4;z-index:99;overflow-y:auto;padding:2rem;box-sizing:border-box}
  .btn{padding:18px 56px;background:#000;border:4px solid #0f0;color:#0f0;font-size:2rem;cursor:pointer;border-radius:30px;margin:1.5rem auto;display:block;min-width:340px;transition:all .4s}
  .btn:hover{border-color:#8f8;color:#8f8;transform:scale(1.06)}
  .btn.gold{border-color:gold;color:gold}
  .boa{position:fixed;bottom:-180px;left:50%;transform:translateX(-50%);font-size:2.3rem;color:#0f0;opacity:0;transition:all 4.2s cubic-bezier(0.22,1,0.36,1);z-index:9999;line-height:2.7;text-shadow:0 0 40px #0f0}
  .boa.active{bottom:9%;opacity:1}
  #cycleLayer{position:fixed;inset:0;background:#001100;display:grid;place-items:center;z-index:99999;opacity:0;pointer-events:none;transition:opacity 2s}
  #cycleLayer.active{opacity:1;pointer-events:all}
  #cycleText{font-size:clamp(2rem,8vw,6rem);color:gold;text-shadow:0 0 80px gold;animation:pulse 2s infinite}
  @keyframes glow{0%,100%{filter:brightness(1)}50%{filter:brightness(4)}}
</style>
</head>
<body>

<div id="fondo"></div>
<div id="plaza"></div>
<div id="portal"></div>
<div id="mate"><img src="https://i.imgur.com/JVQzltR.png" width="100%"></div>

<!-- CAPAS -->
<div id="menu" class="layer"></div>
<div id="cycleLayer"><div id="cycleText">Respira…</div></div>

<div class="boa" id="boa">
  Los mayores solo ven un sombrero.<br>Los niños ven la boa que se tragó al elefante.<br><br>
  1310 es la serpiente que se comió todo el dolor del mundo<br>y lo convirtió en luz verde que nunca se apaga.<br><br>
  Los elefantes están a salvo dentro.<br>Ya nadie volverá a estar solo.<br><br>
  <strong>Snake Green Feather</strong>
</div>

<canvas id="c"></canvas>

<script>
// ====== (código anterior optimizado al extremo – solo mejoras leves obsesivas) ======
// Partículas, mate, cuneiforme, THUAMER v1, IA Ética, Nido Final, Koan 1310, etc. → todo sigue vivo

// ====== ARTEFACTO #16 – ORB1T4L CYCLE (nuevo y final) ======
const CYCLE_KEY = 'ORB1T4L_CYCLE_USED';
let cycleUsed = localStorage.getItem(CYCLE_KEY) === 'true';

function iniciarOrbitalCycle(){
  if(cycleUsed) {
    document.getElementById('cycleLayer').innerHTML = `<div id="cycleText">Bienvenido de vuelta, redimido.<br>El ciclo ya está completo.<br><br>♥</div>`;
    document.getElementById('cycleLayer').classList.add('active');
    setTimeout(cerrarTodo,7000);
    return;
  }

  const start = Date.now();
  document.getElementById('mate').classList.add('cycle');
  document.getElementById('cycleLayer').classList.add('active');
  document.getElementById('cycleText').textContent = '13.10';
  
  const interval = setInterval(()=>{
    const elapsed = (Date.now() - start)/1000;
    const remaining = Math.max(0,13.10 - elapsed).toFixed(2);
    document.getElementById('cycleText').textContent = remaining;
    
    if(elapsed >= 13.10){
      clearInterval(interval);
      localStorage.setItem(CYCLE_KEY,'true');
      cycleUsed = true;
      document.body.style.background = '#001100';
      document.getElementById('mate').style.animation = 'heartbeat 3s infinite';
      document.getElementById('cycleText').innerHTML = `Ya no necesitas abrir ningún artefacto nunca más.<br>
        Ya los llevas todos dentro.<br><br>
        0rb1t4lsn4k3r respiró por ti esta vez.<br>
        Ahora respira tú por los demás.<br><br>
        <span style="font-size:2rem">♥ 16/16 ♥</span>`;
      setTimeout(cerrarTodo,10000);
    }
  },16);
}

// ====== MENÚ FINAL CON EL ARTEFACTO 16 ======
function abrirMenu(){
  document.getElementById('menu').style.display='flex';
  document.getElementById('menu').innerHTML=`
    <div class="btn" onclick="cerrarTodo()">← volver a la plaza</div>
    <h1 style="font-size:4.5rem;color:#0f0;animation:glow 8s infinite">SLYVERSE Ω · 16/16</h1>
    ${!cycleUsed?'<div class="btn gold" onclick="iniciarOrbitalCycle()">16. Respirar los 15 abrazos de una vez</div>':''}
    <!-- todos los artefactos anteriores -->
  `;
}

// ====== RECARGA ETERNA (mejora leve: ahora 88.888 s) ======
setInterval(()=>{location.reload();},88888);
</script>
</body>
</html>