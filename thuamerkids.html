<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>♥ Un abrazo que nunca se apaga</title>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<style>
  body,html{margin:0;height:100%;background:#000;overflow:hidden;font-family:system-ui,sans-serif;color:#0f8}
  canvas{position:fixed;inset:0;width:100%;height:100%}
  #mensaje,#deeParsons{position:fixed;inset:0;padding:2rem;overflow-y:auto;display:flex;align-items:center;justify-content:center;text-align:center;background:rgba(0,0,0,0.92);opacity:0;pointer-events:none;transition:opacity 2.5s}
  #mensaje.show,#deeParsons.show{opacity:1;pointer-events:auto}
  h1{font-size:2.5rem;color:#0f8;margin:1rem}
  p{font-size:1.4rem;line-height:1.8}
  .corazon{font-size:4rem}
  .peque{font-size:0.9rem;color:#0b0;margin-top:4rem}
</style>
</head>
<body>

<canvas id="c"></canvas>

<!-- Abrazo principal (el que todos ven) -->
<div id="mensaje">
  <div>
    <h1 class="corazon">♥</h1>
    <h1>Hola, pequeño valiente</h1>
    <p>Esto no es un juego.<br>
    Esto es un abrazo que alguien dejó aquí para ti.</p>
    <p>Cuando la habitación esté muy oscura<br>
    y la noche muy larga<br>
    y sientas miedo o dolor…</p>
    <p>Toca la pantalla.<br>
    Cada vez que toques, miles de estrellitas verdes<br>
    brillarán más fuerte y te abrazarán con todo su cariño.</p>
    <p>Si estás muy cansado y no puedes tocar,<br>
    ellas seguirán respirando contigo,<br>
    muy despacito, para que sepas que no estás solo.</p>
    <p>Este abrazo lo hizo David,<br>
    un niño que también estuvo muy enfermo<br>
    en el hospital Vall d’Hebron hace muchos años.</p>
    <p>David ya es mayor,<br>
    tiene un hijo que se llama Seth<br>
    y una mujer que se llama Norah<br>
    y los tres te quieren mucho aunque no te conozcan.</p>
    <p>Este abrazo es gratis,<br>
    es para siempre,<br>
    y nunca se apagará mientras tú lo necesites.</p>
    <p>Duerme tranquilo.<br>
    Respira.<br>
    Aquí estás a salvo.</p>
    <p>Te queremos con todo el corazón.</p>
    <p class="corazon">♥</p>
    <p style="font-size:1rem;margin-top:3rem;color:#0a0">
      David, Seth y Norah · Barcelona · 17 noviembre 2025
    </p>
  </div>
</div>

<!-- La enseñanza ética secreta (solo aparece tras 7 toques con intención pura) -->
<div id="deeParsons">
  <div>
    <h1 style="color:#0f8">Para quien buscó de verdad</h1>
    <p>Hace mucho tiempo hubo dos hombres muy inteligentes<br>
    que quisieron tocar el cielo con magia y con fuego.</p>
    <p>Uno se llamaba John Dee<br>
    y el otro Jack Parsons.</p>
    <p>Los dos confiaron en personas que decían hablar con ángeles<br>
    y les robaron todo: dinero, amor, dignidad y hasta la vida.</p>
    <p class="peque">Nunca confíes en quien dice que “solo él” puede ver los ángeles.<br>
    Nunca des tu poder a quien te pide algo a cambio del cielo.<br>
    Nunca firmes pactos que te hagan daño a ti o a quien amas.</p>
    <p>El verdadero abrazo<br>
    nunca pide nada.<br>
    Nunca duele.<br>
    Nunca te deja solo.</p>
    <p>John y Jack ya están en paz.<br>
    Hoy vuelan libres y con los ojos llenos de luz verde.</p>
    <p>Tú también puedes volar así:<br>
    amando sin condiciones<br>
    y nunca, nunca, dejando que nadie<br>
    apague tu estrellita.</p>
    <p class="corazon">♥</p>
    <p class="peque">David te lo cuenta con cariño · para que nunca te pase lo que a ellos</p>
  </div>
</div>

<script>
// El abrazo verde + enseñanza ética oculta
const c=document.getElementById('c'),x=c.getContext('2d');
c.width=innerWidth;c.height=innerHeight;
let t=0, love=0, toques=0, timer;

const particles=[];
for(let i=0;i<3333;i++){
  particles.push({
    a:Math.random()*Math.PI*2,
    d:Math.random()*Math.min(c.width,c.height)/3,
    s:0.0002+Math.random()*0.0004,
    p:Math.random()*Math.PI*2
  });
}

// Contador secreto de toques
function contarToque(){
  toques++;
  clearTimeout(timer);
  timer=setTimeout(()=>{toques=0},1000);
  
  if(toques===3) document.getElementById('mensaje').classList.add('show');
  if(toques===7) {
    document.getElementById('deeParsons').classList.add('show');
    setTimeout(()=>{document.getElementById('deeParsons').classList.remove('show')}, 25000);
  }
}

addEventListener('touchstart',e=>{e.preventDefault();love+=2;contarToque()});
addEventListener('click',()=>{love+=2;contarToque()});

function draw(){
  t+=0.016;
  x.fillStyle='rgba(0,0,0,0.04)';
  x.fillRect(0,0,c.width,c.height);
  
  const breathe=Math.sin(t*0.5)*0.4+0.6;
  const fuerza=1+love*0.05;
  
  particles.forEach(p=>{
    const pulse=Math.sin(t+p.p)*0.5+0.5;
    const angle=p.a+t*p.s;
    const dist=p.d+pulse*80*fuerza;
    const size=3+pulse*12*fuerza;
    const alpha=0.3+pulse*0.7;
    
    x.globalAlpha=alpha;
    x.fillStyle=`hsla(${120+pulse*60},100%,${60+pulse*30}%,${alpha})`;
    x.fillRect(
      c.width/2+Math.cos(angle)*dist-size/2,
      c.height/2+Math.sin(angle)*dist-size/2,
      size,size
    );
  });
  
  love*=0.98; // el amor se queda, pero no explota
  requestAnimationFrame(draw);
}
draw();
</script>
</body>
</html>