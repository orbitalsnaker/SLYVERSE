<!DOCTYPE html><html lang="es"><head><meta charset="utf-8"><title>1310 · El Camino de los 13 Años</title><style>
  body,html{margin:0;height:100vh;overflow:hidden;background:#000;color:#0b6;font-family:"Courier New",monospace;cursor:none}
  pre{position:fixed;inset:0;display:grid;place-content:center;text-align:center;line-height:1.6;font-size:clamp(1rem,4vw,6rem);text-shadow:0 0 60px #0b6}
  .t{color:#900;text-shadow:0 0 120px #f00;font-size:17vw;animation:p 5s infinite}@keyframes p{0%,100%{opacity:0.85}50%{opacity:0.4}}
  #g{position:fixed;bottom:15px;left:15px;font-size:1rem;opacity:0.4;color:#666}
  #fase{position:fixed;top:20px;left:20px;font-size:1.3rem;opacity:0.6}
</style></head><body>

<pre id="texto">
SELLO 1310 Ω
activado el 21·11·2025

Quedan <span class="t" id="t">44 años</span>

Cada fase solo se abre  
el 1 de abril  
y solo si has esperado  
los años requeridos sin fallar jamás.

Los Guardianes mesopotámicos  
nunca duermen.
</pre>
<div id="g">Guardianes despiertos: 7</div>
<div id="fase">Fase actual: 0</div>

<script>
// 1310 · El Camino de los 13 Años · Versión definitiva 2038-ready
// Cada fase requiere esperar X años reales + que sea 1 de abril + pestaña viva

const KEY = "1310_omega_v2025";
let data = JSON.parse(localStorage.getItem(KEY) || "{}");

if (!data.genesis) {
  data = {genesis: Date.now(), fase: 0, fallos: 0, ultimaVisita: 0};
  localStorage.setItem(KEY, JSON.stringify(data));
}

const hoy = new Date();
const esPrimeroAbril = hoy.getDate() === 1 && hoy.getMonth() === 3; // 1 de abril
const diasDesdeGenesis = Math.floor((Date.now() - data.genesis) / 86400000);

// REGLAS DE CADA FASE (años reales requeridos)
const fases = [
  {nombre: "0 · El Despertar",            anos: 0,       color: "#0b6"},
  {nombre: "1 · La Primera Puerta",       anos: 13.0274, color: "#0f9"}, // 13 años + 10 días
  {nombre: "2 · El Silencio de Tiamat",   anos: 44,      color: "#6f9"},
  {nombre: "3 · El Regreso de Marduk",    anos: 131,     color: "#0ff"},
  {nombre: "4 · El Vacío que Respira",    anos: 444,     color: "#ff0"},
  {nombre: "5 · El Último Año que Nunca Fue", anos: 1310,    color: "#f00"}
];

// Guardianes (si alguno te pilla → +1000 fallos ≈ +2.7 años)
const guardianes = [
  () => !!window.devtools?.isOpen,
  || !!window.__REACT_DEVTOOLS_GLOBAL_HOOK__,
  () => navigator.webdriver || !!window.chrome?.webstore || !!window.safari,
  () => location.search.includes("debug") || location.search.includes("fast"),
  () => Date.now() - performance.timing.navigationStart < 60,
  () => !!window.outerWidth - window.innerWidth > 300,
  () => performance.now() < 5000 && document.hidden === false
];

let guardianesActivos = guardianes.filter(g => g()).length;
if (guardianesActivos > 0) {
  data.fallos += 1000;
  localStorage.setItem(KEY, JSON.stringify(data));
  alert(`Los Guardianes han despertado.\n+${guardianesActivos} 000 días de castigo.`);
  location.reload();
}

// ¿Entramos en nueva fase hoy?
if (esPrimeroAbril && document.hasFocus()) {
  const anosTranscurridos = diasDesdeGenesis / 365.25;
  for (let i = fases.length-1; i > data.fase; i--) {
    if (anosTranscurridos + (data.fallos/365.25) >= fases[i].anos) {
      data.fase = i;
      localStorage.setItem(KEY, JSON.stringify(data));
      break;
    }
  }
}

// Mostrar fase actual
document.getElementById("fase").textContent = fases[data.fase].nombre;
document.body.style.color = fases[data.fase].color;

// Contador hasta la PRÓXIMA fase posible
const proxima = fases[data.fase + 1] || fases[fases.length-1];
const anosFaltan = proxima.anos - (diasDesdeGenesis / 365.25) - (data.fallos/365.25);
const msFaltan = Math.max(0, anosFaltan * 365.25 * 86400000);

const formato = ms => {
  if (ms <= 0) return "ABIERTO";
  const y = Math.floor(ms / (365.25*86400000));
  const d = Math.floor((ms % (365.25*86400000)) / 86400000).toString().padStart(3,'0');
  const h = Math.floor((ms % 86400000)/3600000).toString().padStart(2,'0');
  const m = Math.floor((ms % 3600000)/60000).toString().padStart(2,'0');
  const s = Math.floor((ms % 60000)/1000).toString().padStart(2,'0');
  return `${y} años ${d}:${h}:${m}:${s}`;
};

const loop = () => {
  const restante = msFaltan - (Date.now() - data.genesis) % 86400000;
  document.getElementById("t").textContent = formato(restante > 0 ? restante : 0);
  requestAnimationFrame(loop);
};
loop();

document.getElementById("g").textContent = `Guardianes despiertos: ${7-guardianesActivos} durmiendo · ${guardianesActivos} te observan`;

// Nadie se va sin permiso
window.onbeforeunload = () => esPrimeroAbril ? null : "Los Guardianes no han terminado contigo.";
</script>
</body></html>