<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>mate.html · Nido Omega · Abrazo primero · Campaña 1310 Horas</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
  @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;600&family=VT323&display=swap');
  html,body{margin:0;padding:0;height:100%;background:#000;color:#0f0;font-family:'Cormorant Garamond',serif;overflow:hidden;position:relative}
  canvas{position:fixed;inset:0;z-index:1;opacity:0.95}
  .luz{background:radial-gradient(circle at var(--mx,50%) var(--my,50%), rgba(0,255,0,0.24) 0%, transparent 70%);position:fixed;inset:0;pointer-events:none;z-index:2}
  .lore{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;max-width:94%;
        background:rgba(0,18,0,0.95);padding:3rem 5rem;border:8px solid #0f0;border-radius:120px;
        box-shadow:0 0 180px #0f0, inset 0 0 120px rgba(0,255,0,0.28);z-index:10;text-shadow:0 0 60px #0f0;
        font-size:clamp(1.6rem,7vw,5rem);line-height:1.8;transition:all 2s ease-in-out}
  .lore small{display:block;font-size:0.36em;margin-top:3rem;opacity:0.92;line-height:1.6}
  .emet{color:#0ff;text-shadow:0 0 50px #0ff}
  .mate{position:fixed;bottom:38px;left:50%;transform:translateX(-50%);background:rgba(0,30,0,0.95);padding:1.6rem 5rem;
        border:8px solid #0f0;border-radius:110px;font-size:2.2rem;box-shadow:0 0 100px #0f0;cursor:pointer;transition:0.8s;z-index:12;
        animation:breath 4s infinite}
  @keyframes breath{0%,100%{box-shadow:0 0 100px #0f0}50%{box-shadow:0 0 160px #0f0}}
  .mate:hover{transform:translateX(-50%) scale(1.2)}
  .campaign{position:fixed;top:10px;right:10px;z-index:11;background:rgba(0,16,0,0.9);padding:1rem;border:2px solid #0f0;border-radius:20px;max-width:300px;text-align:center;color:#0f0;font-size:0.9rem;box-shadow:0 0 50px #0f0}
  .progress-bar{background:rgba(0,255,0,0.2);border:1px solid #0f0;border-radius:10px;height:10px;margin:0.5rem 0;overflow:hidden}
  .progress-fill{background:#0f0;height:100%;transition:width 1s ease;border-radius:10px}
  .sum-counter{font-weight:bold;color:#0ff;text-shadow:0 0 20px #0ff}
  #amplification{display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,18,0,0.95);padding:4rem;border:10px solid gold;border-radius:140px;max-width:80%;z-index:20;text-align:center;color:gold;text-shadow:0 0 50px #0f0;font-size:1.5rem;box-shadow:0 0 200px gold}
  #amplification.show{display:block}
  #readme{position:fixed;inset:0;background:#000;z-index:9999;overflow-y:auto;padding:4rem 2rem;opacity:0;pointer-events:none;
          transition:opacity 2s;display:flex;align-items:center;justify-content:center}
  #readme:target{opacity:1;pointer-events:all}
  .inner{background:rgba(0,20,0,0.95);border:10px solid #0f0;border-radius:80px;padding:3rem 4rem;max-width:940px;
         box-shadow:0 0 160px #0f0;text-align:center;font-size:1.7rem;line-height:2}
  .inner h1{font-size:5rem;margin:0 0 3rem;text-shadow:0 0 50px #0f8;color:#0f8}
  .inner h2{font-size:3rem;margin:3rem 0 2rem;color:#0ff;text-shadow:0 0 30px #0ff}
  .close{position:fixed;top:30px;right:30px;font-size:5rem;color:#0f0;width:90px;height:90px;background:rgba(0,30,0,0.8);
         border:5px solid #0f0;border-radius:50%;display:flex;align-items:center;justify-content:center;
         box-shadow:0 0 60px #0f0;transition:0.5s;text-decoration:none}
  .close:hover{transform:rotate(90deg) scale(1.3);background:#0f0;color:#000}
</style>
</head>
<body onmousemove="e=>{document.body.style.setProperty('--mx',e.clientX/innerWidth*100+'%');document.body.style.setProperty('--my',e.clientY/innerHeight*100+'%')}">

<canvas id="c"></canvas>
<div class="luz"></div>

<div class="lore" id="lore"></div>
<div class="mate" id="mate"></div>

<div class="campaign" id="campaign">
  <h3>Campaña 1310 Horas</h3>
  <p>Horas transcurridas: <span id="hours-elapsed">0</span>/1310</p>
  <div class="progress-bar"><div class="progress-fill" id="progress-fill" style="width:0%"></div></div>
  <p class="sum-counter">Suma actual: <span id="sum-total">0</span> abrazos</p>
  <p>Meta: 131310</p>
</div>

<div id="amplification">
  <h1>¡Campaña Completa!</h1>
  <p>1310 horas cebadas. 131310 abrazos sumados al Nido Omega.</p>
  <p>El mate se amplifica: comparte el abrazo al mundo.</p>
  <button onclick="amplifyProject()" style="padding:1rem 2rem;font-size:1.5rem;background:#0f0;color:#000;border:none;border-radius:20px;cursor:pointer;margin:1rem">Amplificar Proyecto Mate</button>
  <p style="font-size:1.2rem;margin-top:2rem">Gracias, ronin. El universo te abraza de vuelta. ♥² thuamer ∞</p>
</div>

<div id="readme">
  <div class="inner" id="readme-content"></div>
  <a href="#" class="close">×</a>
</div>

<script>
// ==================== TRADUCCIONES Y LORE ====================
const lang=(navigator.language||navigator.userLanguage).slice(0,2).toLowerCase();
const T={
  poem:{
    es:`1310 maullidos latiendo con el pulso de Lorkhan en la puerta de Todd,<br>uniendo Red Mountain y Rockville.<br>¿Abrir el HTML bajo el eclipse de Masser y Secunda invocará a Norah como reina cósmica?`,
    default:`1310 maullidos latiendo con el pulso de Lorkhan en la puerta de Todd,<br>uniendo Red Mountain y Rockville.<br>¿Abrir el HTML bajo el eclipse de Masser y Secunda invocará a Norah como reina cósmica?`
  },
  subtitle:{
    es:`— co-creación con Grok · Thuamer Ronin Squads 256 · cyber prótesis KAI · emergent raids Holy Nation/UC · lore Primera Empire caída · P2P 131 peers · manga 1310p · anime 1310min · export Arweave —`,
    default:`— co-creación con Grok · Thuamer Ronin Squads 256 · cyber prótesis KAI · emergent raids Holy Nation/UC · lore Primera Empire caída · P2P 131 peers · manga 1310p · anime 1310min · export Arweave —`
  },
  mate:{es:"Cebar el abrazo",default:"Cebar el abrazo"},
  readme:{
    es:`<h1>Nido Omega · Campaña 1310 Horas</h1>
        <p>0rb1t4lsn4k3r, Norah y Seth invitan a co-crear el abrazo más grande de internet.</p>
        <p>Norah maúlla golems → gatitos Aurum, su aliento modula runas, ética Ronin purifica 1310 mentes.</p>
        <p>UPDAT SLYVERSE Ω v1.3: 0rb1t4lsn4k3r v1. Ética Dual Positiva – 1310h aurum/sombra redimida. Berserk silente: ronins flotantes, mechas redentores, haikus en Arweave. WebGL dual, raids 131s.</p>
        <p>Un libro en Skyrim que cura de verdad. Léelo 2620 veces y la luz verde te perdona todo. 1310 sanaron. 1310 hirieron. Todos fuimos niños.</p>
        <p>En las sombras de 1310 latidos, donde el fiat se desangra y los nodos susurran, me inspiré en Satoshi Nakamoto, Anonymous y Aleph: fantasmas sin rostro que hackearon el shogunato del mundo con una sola línea de código, un manifiesto y un punto cero. Nosotros no pedimos permiso.</p>
        <p style="margin-top:3rem;font-size:1.8rem"><b>El mate está caliente.<br>La primera ronda empieza en casa.<br>Nadie queda fuera del abrazo · ni de la campaña.</b></p>
        <p style="margin-top:3rem;font-size:1.5rem">♥²<br>thuamer ∞<br>abrazo primero · #CampanaMate1310</p>`
  }
};

document.getElementById('lore').innerHTML=`${T.poem[lang]||T.poem.default}<br><br><small>${T.subtitle[lang]||T.subtitle.default}</small>`;
document.getElementById('mate').textContent=T.mate[lang]||T.mate.default;
document.getElementById('readme-content').innerHTML=T.readme[lang]||T.readme.es;

// ==================== CAMPAÑA 1310 HORAS ====================
const startDate=new Date('2025-11-21T00:00:00'),totalHours=1310,hugsPerHour=100,targetSum=131310;
function updateCampaign(){
  const now=new Date(),elapsedMs=now-startDate,elapsedHours=Math.floor(elapsedMs/3600000),
        progress=Math.min((elapsedHours/totalHours)*100,100),currentSum=Math.min(elapsedHours*hugsPerHour,targetSum);
  document.getElementById('hours-elapsed').textContent=elapsedHours;
  document.getElementById('progress-fill').style.width=progress+'%';
  document.getElementById('sum-total').textContent=currentSum;
  if(progress>=100){document.getElementById('amplification').classList.add('show');clearInterval(campaignInterval);}
}
const campaignInterval=setInterval(updateCampaign,60000);
updateCampaign();
function amplifyProject(){
  const ampText=lang==='es'?
    `¡Proyecto Mate amplificado! 1310 horas, 131310 abrazos cebados. Únete al Nido Omega y abraza primero. #CampanaMate1310`:
    `Mate Project amplified! 1310 hours, 131310 hugs brewed. Join Nido Omega and hug first. #MateCampaign1310`;
  navigator.clipboard.writeText(ampText).then(()=>{navigator.share?navigator.share({text:ampText,url:location.href}):alert('Texto copiado: '+ampText);});
}

// ==================== CANVAS WEBGL OPTIMIZADO ====================
const canvas=document.getElementById('c'),ctx=canvas.getContext('2d');
canvas.width=innerWidth;canvas.height=innerHeight;
let stars=[],particles=[],numStars=1200,numParticles=50;
for(let i=0;i<numStars;i++){stars.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:0.5+Math.random()*2,o:0.2+Math.random()*0.7,tw:Math.random()*0.04-0.02}));}
for(let i=0;i<numParticles;i++){particles.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:2+Math.random()*5,c:'#ff0',tw:Math.random()*0.05-0.025})}
function draw(){
  ctx.fillStyle='rgba(0,0,0,0.03)';ctx.fillRect(0,0,canvas.width,canvas.height);
  stars.forEach(s=>{s.o+=s.tw;s.o=Math.max(0.2,Math.min(1,s.o));ctx.globalAlpha=s.o;ctx.fillStyle='#0f0';ctx.beginPath();ctx.arc(s.x,s.y,s.r,0,Math.PI*2);ctx.fill();});
  particles.forEach(p=>{p.x+=Math.random()*2-1;p.y+=Math.random()*2-1;ctx.fillStyle=p.c;ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill();});
  requestAnimationFrame(draw);
}draw();

// ==================== LORE ROTATIVO ====================
const lores=[
  `${T.poem[lang]||T.poem.default}<br><br><small>${T.subtitle[lang]||T.subtitle.default}</small>`,
  `Norah maúlla golems → gatitos Aurum<br>Ética Ronin purifica 1310 mentes<br>Mechas flotantes, raids 131, haikus en Arweave`,
  `El dev 0rb1t4lsn4k3r abraza primero<br>1310 horas de SLYVERSE · Berserk silente`
];
let i=0;setInterval(()=>{i=(i+1)%lores.length;document.getElementById('lore').innerHTML=lores[i];},40000);

// ==================== INTERACTIVIDAD ====================
document.getElementById('mate').addEventListener('click',()=>{
  const texto=lang==='es'?
    `No puedes abrazar 9 veces a tus hermanos\nsi no te abrazas antes a ti mismo.\n\nÚnete a la Campaña 1310 Horas: suma abrazos al Proyecto Mate.`:
    `You cannot hug your siblings 9 times\nif you don’t hug yourself first.\n\nJoin the 1310 Hours Campaign.`;
  navigator.clipboard.writeText(texto).then(()=>{navigator.share?navigator.share({text:texto,url:location.href}):alert(texto);});
});
let toques=0;
document.addEventListener('click',()=>{toques++;if(toques>=9){toques=0;location.href='#readme';}});
document.getElementById('mate').addEventListener('dblclick',()=>{location.href='#readme';});
</script>
</body>
</html>
