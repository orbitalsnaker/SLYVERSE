<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>ğŸ‰ THUAMER CONSOLÃ† ULTIMATE - TODO GRATIS 3 MESES ğŸ”¥</title>
  <meta name="description" content="ğŸš¨ PROMOCIÃ“N LIMITADA: TODO GRATIS POR 3 MESES ğŸš¨ La consola que te humilla ahora SIN PAGAR NADA. Â¡Corre antes de que vuelvan los â‚¬19.99!">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    :root {
      --color-pijo: #ffea00;
      --color-trola: #ff0048;
      --color-gratis: #00ff88;
      --skin: default;
    }
    
    @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
    
    * { box-sizing: border-box; }
    body,html {
      margin:0; padding:0; height:100%; 
      background: linear-gradient(-45deg, #00ff88, #00cc66, #009944, #006622);
      background-size: 400% 400%;
      animation: gradientGratis 6s ease infinite;
      color:#000;
      font-family: 'Press Start 2P', Impact, 'Arial Black', sans-serif;
      overflow:hidden;
    }
    
    @keyframes gradientGratis {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    
    @keyframes celebration {
      0%, 100% { transform: scale(1) rotate(0deg); }
      25% { transform: scale(1.1) rotate(5deg); }
      75% { transform: scale(1.1) rotate(-5deg); }
    }
    
    @keyframes confetti {
      0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }
    
    .gratis-badge {
      position: fixed;
      top: 20px;
      right: 20px;
      background: linear-gradient(45deg, #00ff88, #ffea00, #ff0048);
      color: #000;
      padding: 15px 25px;
      border-radius: 50px;
      font-size: 2vw;
      font-weight: bold;
      box-shadow: 0 0 30px #00ff88;
      animation: celebration 2s ease-in-out infinite;
      z-index: 2000;
      border: 4px solid #000;
    }
    
    .free-button {
      background: linear-gradient(45deg, #00ff88, #00cc66) !important;
      color: #000 !important;
      box-shadow: 0 0 20px #00ff88 !important;
      animation: celebration 1.5s ease-in-out infinite !important;
      border: 3px solid #000 !important;
    }
    
    .free-button:hover {
      background: linear-gradient(45deg, #ffea00, #ffff00) !important;
      transform: skew(-10deg) scale(1.1) !important;
      box-shadow: 0 0 40px #ffea00 !important;
    }
    
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background: #ffea00;
      animation: confetti 3s linear infinite;
      pointer-events: none;
      z-index: 1500;
    }
    
    .promo-banner {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: linear-gradient(90deg, #ff0048, #ffea00, #00ff88, #0088ff, #ff0048);
      background-size: 400% 100%;
      animation: gradientShift 3s ease infinite;
      color: #000;
      padding: 15px;
      text-align: center;
      font-size: 2.5vw;
      font-weight: bold;
      z-index: 1001;
      box-shadow: 0 5px 20px rgba(0,0,0,0.5);
    }
    
    .countdown {
      background: rgba(0,0,0,0.8);
      color: #ffea00;
      padding: 10px 20px;
      border-radius: 25px;
      font-size: 1.8vw;
      margin-left: 20px;
      display: inline-block;
      border: 3px solid #ffea00;
      animation: pulse 1s infinite;
    }
    
    /* Resto del CSS original mejorado */
    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    
    @keyframes glitch {
      0% { transform: translate(0); }
      20% { transform: translate(-2px, 2px); }
      40% { transform: translate(-2px, -2px); }
      60% { transform: translate(2px, 2px); }
      80% { transform: translate(2px, -2px); }
      100% { transform: translate(0); }
    }
    
    @keyframes vapor {
      0%{background-position:0% 50%;}
      50%{background-position:100% 50%;}
      100%{background-position:0% 50%;}
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; box-shadow: 0 0 20px #ffea00; }
      50% { opacity: 0.8; box-shadow: 0 0 40px #ffea00, 0 0 60px #ff0048; }
    }
    
    .glitch { animation: glitch 0.3s linear infinite; }
    .pijo {
      background: linear-gradient(45deg,gold,#ffea00,#ff77ff,#00ffff,#ff0048,#00ff88);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      font-size: 6vw !important;
      animation: pulse 2s infinite;
    }
    
    #screen {
      border: 20px solid #333;
      border-image: url('data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22100%22 height=%22100%22><rect width=%22100%22 height=%22100%22 fill=%22%2300ff88%22/><text x=%2250%22 y=%2260%22 font-size=%2280%22 text-anchor=%22middle%22 fill=%22black%22>FREE</text></svg>') 20 round;
      border-radius: 30px;
      box-shadow: 
        0 0 100px #00ff88aa, 
        inset 0 0 50px #000,
        0 0 200px #ffea00;
      display: block;
      margin: 40px auto;
      max-width: 95vw;
      background: #000;
    }
    
    /* Resto del CSS igual que antes pero con colores gratis */
    button {
      background: var(--color-gratis, #00ff88);
      color: #000;
      border: none;
      padding: 15px 30px;
      font-size: 3vw;
      font-weight: bold;
      margin: 8px;
      cursor: pointer;
      transform: skew(-10deg);
      box-shadow: 5px 5px 0 #000, 0 0 20px #00ff88;
      font-family: inherit;
      border-radius: 10px;
      transition: all 0.2s;
    }
    
    button:hover {
      background: #ffea00;
      transform: skew(-10deg) scale(1.05);
      box-shadow: 8px 8px 0 #000, 0 0 40px #ffea00;
    }
    
    #chat {
      border-color: var(--color-gratis, #00ff88) !important;
    }
    
    /* Todo lo demÃ¡s igual */
    #stats-panel, #legal-warning, #game-selector, #instructions {
      border-color: var(--color-gratis, #00ff88) !important;
    }
  </style>
</head>
<body>

<!-- ğŸ‰ BANNER PROMOCIÃ“N GRATIS ğŸ‰ -->
<div class="promo-banner">
  ğŸš¨ <strong>Â¡PROMOCIÃ“N HISTÃ“RICA!</strong> ğŸ‰ 
  <span id="countdown"></span>
  <strong>TODO GRATIS POR 3 MESES</strong> ğŸ”¥
  <br><small>ğŸ‘‘ Chad Mode Â· ğŸŒˆ Vaporwave Â· ğŸ˜‚ Voz Chiquito Â· ğŸš€ Remasters Premium</small>
</div>

<!-- BADGE GRATIS FLOTANTE -->
<div class="gratis-badge">
  ğŸ TODO GRATIS ğŸ<br>
  <small>Hasta <span id="promo-end">Marzo 2026</span></small>
</div>

<!-- CONFETTI CONTINUO -->
<div id="confetti-container"></div>

<div id="legal-warning">
  <strong>âš¡ PROMOCIÃ“N LEGAL GRATIS:</strong> 
  Â¡POR 3 MESES TODO DESBLOQUEADO! DespuÃ©s volverÃ¡n los precios trolleos â‚¬4.99-â‚¬19.99 ğŸ˜ˆ
</div>

<canvas id="screen" width="1280" height="960"></canvas>

<!-- Stats Panel mejorado -->
<div id="stats-panel">
  <h3>ğŸ“Š STATS DE PRINGAO PREMIUM</h3>
  <div id="stats-content">
    <p>ğŸ’€ Muertes: <span id="deaths">0</span></p>
    <p>ğŸ¯ Score: <span id="current-score">0</span></p>
    <p>ğŸ† Mejor Score: <span id="best-score">0</span></p>
    <p>ğŸ˜­ Rage Quits: <span id="rage-quits">0</span></p>
    <p>â­ <strong>ESTADO:</strong> <span style="color:#00ff88">PREMIUM GRATIS</span></p>
    <p>ğŸ’ Skins Activos: <span id="active-skins">0</span></p>
  </div>
</div>

<div id="overlay">
  <div style="text-align:center">
    <h1 id="title" class="glitch pijo">THUAMER CONSOLÃ† ULTIMATE</h1>
    <p id="subtitle" style="font-size:3vw">ğŸ‰ PROMOCIÃ“N GRATIS 3 MESES ğŸ‰</p>
    <p id="player-name" style="font-size: 2vw; margin: 10px 0;"></p>
    <p style="font-size: 1.5vw; color:#00ff88">ğŸš€ TODO DESBLOQUEADO - SIN LÃMITES</p>
  </div>
</div>

<div id="instructions">
  ğŸ® WASD: Mover | ESPACIO: Saltar/Disparar | ENTER: Pausa<br>
  ğŸ’ <strong>GRATIS:</strong> Todos los skins, voz Chiquito, remasters premium<br>
  ğŸ‘¤ Tip: <span id="name-instructions"></span>, Â¡aprovecha la promo!
</div>

<!-- PANEL DE CONTROLES MEJORADO -->
<div style="position:absolute; top:10px; right:10px; text-align:right; z-index: 200;">
  <button class="free-button" onclick="mostrarSelector()">ğŸš€ REMÃSTERS PREMIUM</button><br>
  <button class="free-button" onclick="activarSkin('chad')">ğŸ‘‘ CHAD MODE âœ… GRATIS</button><br>
  <button class="free-button" onclick="activarSkin('vapor')">ğŸŒˆ VAPORWAVE âœ… GRATIS</button><br>
  <button class="free-button" onclick="activarVozChiquito()">ğŸ˜‚ VOZ CHIQUITO âœ… GRATIS</button><br>
  <button class="free-button" onclick="toggleGodMode()">ğŸ›¡ï¸ MODO DIOS âœ… GRATIS</button><br>
  <button onclick="resetStats()">ğŸ”„ RESET STATS</button>
</div>

<!-- Selector mejorado -->
<div id="game-selector">
  <h2 id="selector-title">ğŸ® Remasters PREMIUM GRATIS:</h2>
  <button class="free-button" onclick="cargarRemaster('concentration')">ğŸ§  Concentration Room Ultra HD</button><br>
  <button class="free-button" onclick="cargarRemaster('shooter')">ğŸ”« Neo Shooter 120FPS</button><br>
  <button class="free-button" onclick="cargarRemaster('platformer')">ğŸƒâ€â™‚ï¸ Platform Hell Master</button><br>
  <button class="free-button" onclick="cargarRemaster('puzzle')">ğŸ§© Puzzle Master IA</button><br>
  <button class="free-button" onclick="cargarRemaster('arcade')">ğŸ° Arcade Classics Pack</button><br>
  <button class="free-button" onclick="mostrarStats()">ğŸ“Š MIS ESTADÃSTICAS</button><br>
  <button onclick="cerrarSelector()">âŒ Cerrar</button>
</div>

<div id="chat">ğŸ¤– THUAMER: Â¡PROMOCIÃ“N GRATIS ACTIVADA! Todo desbloqueado por 3 meses ğŸ”¥</div>

<marquee id="marquee" behavior="scroll" direction="left" style="background: linear-gradient(45deg, #00ff88, #ffea00) !important; color:#000 !important;">
  ğŸ‰ PROMO GRATIS 3 MESES ğŸ‰ Â· NESÂ·SNESÂ·GBAÂ·ARCADEÂ·PS1 Â· REMÃSTERS PREMIUM GRATIS Â· CHAD MODE GRATIS Â· VAPORWAVE GRATIS Â· VOZ CHIQUITO GRATIS Â· MODO DIOS GRATIS Â· ğŸ”¥ THUAMER TE AMA (temporalmente) ğŸ”¥
</marquee>

<!-- Achievements -->
<div id="achievements"></div>
<div id="particles"></div>

<script>
// ====== SISTEMA PROMO GRATIS ======
class PromoGratis {
  constructor() {
    this.endDate = new Date('2026-03-30T23:59:59'); // 3 meses desde ahora
    this.init();
  }
  
  init() {
    this.updateCountdown();
    setInterval(() => this.updateCountdown(), 1000);
    this.crearConfetti();
    setInterval(() => this.crearConfetti(), 3000);
  }
  
  updateCountdown() {
    const now = new Date();
    const diff = this.endDate - now;
    
    if (diff > 0) {
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      
      document.getElementById('countdown').innerHTML = 
        `â° ${days}d ${hours}h ${minutes}m â°`;
      document.getElementById('promo-end').textContent = 
        this.formatDate(this.endDate);
    } else {
      document.getElementById('countdown').innerHTML = 'Â¡PROMO TERMINÃ“! ğŸ˜¢';
    }
  }
  
  formatDate(date) {
    return date.toLocaleDateString('es-ES', {
      day: 'numeric', month: 'long', year: 'numeric'
    });
  }
  
  crearConfetti() {
    const container = document.getElementById('confetti-container');
    const colors = ['#ffea00', '#ff0048', '#00ff88', '#0088ff', '#ff77ff'];
    
    for (let i = 0; i < 5; i++) {
      const confetti = document.createElement('div');
      confetti.className = 'confetti';
      confetti.style.left = Math.random() * 100 + 'vw';
      confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
      confetti.style.animationDelay = Math.random() * 3 + 's';
      confetti.style.animationDuration = (2 + Math.random() * 3) + 's';
      
      container.appendChild(confetti);
      
      setTimeout(() => confetti.remove(), 6000);
    }
  }
}

// ====== SKINS Y COSMÃ‰TICOS GRATIS ======
let activeSkins = [];
let vozChiquitoActive = false;
let godMode = false;

function activarSkin(skin) {
  if (activeSkins.includes(skin)) {
    activeSkins = activeSkins.filter(s => s !== skin);
    document.body.classList.remove(skin);
    addChatMessage('ğŸ¨ SKIN', `Skin ${skin.toUpperCase()} desactivado`);
  } else {
    activeSkins.push(skin);
    document.body.classList.add(skin);
    
    // Efectos especÃ­ficos GRATIS
    if (skin === 'chad') {
      document.body.style.background = 'radial-gradient(circle, #ffd700, #ff6b35, #c44569)';
      document.querySelector('#title').classList.add('pijo');
    } else if (skin === 'vapor') {
      document.body.style.background = 'linear-gradient(45deg, #ff6b9d, #c44569, #f18f01, #c44569)';
      document.body.style.backgroundSize = '400% 400%';
      document.body.style.animation = 'vapor 4s ease infinite';
    }
    
    addChatMessage('ğŸ¨ SKIN', `âœ… ${skin.toUpperCase()} ACTIVADO GRATIS (Promo 3 meses)`);
  }
  
  document.getElementById('active-skins').textContent = activeSkins.length;
  playBeep(1000, 0.2);
}

function activarVozChiquito() {
  vozChiquitoActive = !vozChiquitoActive;
  addChatMessage('ğŸ­ VOZ', 
    vozChiquitoActive ? 
    'âœ… VOZ CHIQUITO ACTIVADA GRATIS - Â¡Fistro pecadorrr!' : 
    'âŒ Voz Chiquito desactivada'
  );
  playBeep(220, 0.8, 'triangle');
}

function toggleGodMode() {
  godMode = !godMode;
  addChatMessage('ğŸ›¡ï¸ MODO DIOS', 
    godMode ? 
    'âœ… MODO DIOS ACTIVADO - Â¡Invencible por 3 meses!' : 
    'âŒ Modo Dios desactivado - Sufre de nuevo'
  );
  playBeep(godMode ? 1200 : 200, 0.3);
}

// ====== MÃšSICA DE FONDO GRATIS ======
let bgMusic = null;
function playBackgroundMusic() {
  if (bgMusic) return;
  
  const AudioContext = window.AudioContext || window.webkitAudioContext;
  const audioCtx = new AudioContext();
  
  const notes = [440, 494, 523, 587, 659, 698, 784, 880];
  let noteIndex = 0;
  
  function playNote() {
    const oscillator = audioCtx.createOscillator();
    const gainNode = audioCtx.createGain();
    
    oscillator.connect(gainNode);
    gainNode.connect(audioCtx.destination);
    
    oscillator.frequency.value = notes[noteIndex % notes.length] * 0.5;
    oscillator.type = 'square';
    
    gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.8);
    
    oscillator.start(audioCtx.currentTime);
    oscillator.stop(audioCtx.currentTime + 0.8);
    
    noteIndex++;
    setTimeout(playNote, 400);
  }
  
  playNote();
}

// ====== JUEGO MODIFICADO PARA MODO GRATIS ======
function actualizarJuego() {
  // Si modo dios, no hay muertes
  if (!godMode) {
    // Movimiento normal
    if (keys['a'] || keys['arrowleft']) playerX = Math.max(0, playerX - 4);
    if (keys['d'] || keys['arrowright']) playerX = Math.min(256, playerX + 4);
    if (keys['w'] || keys['arrowup']) {
      playerY = Math.max(0, playerY - 5);
      playBeep(600, 0.05, 'sine');
    }
    if (keys['s'] || keys['arrowdown']) playerY = Math.min(240, playerY + 3);
  } else {
    // Movimiento mÃ¡s rÃ¡pido en modo dios
    if (keys['a'] || keys['arrowleft']) playerX = Math.max(0, playerX - 8);
    if (keys['d'] || keys['arrowright']) playerX = Math.min(256, playerX + 8);
    if (keys['w'] || keys['arrowup']) playerY = Math.max(0, playerY - 10);
    if (keys['s'] || keys['arrowdown']) playerY = Math.min(240, playerY + 5);
  }
  
  // Score mÃ¡s rÃ¡pido en promo
  if (Math.random() < 0.05) { // 5% mÃ¡s chance
    score += godMode ? 10 : 2;
    playBeep(800 + Math.random() * 400, 0.05);
  }
  
  // Trolleo REDUCIDO en promo (menos frustrante)
  if (!godMode && Math.random() < 0.002) { // 50% menos trolleo
    playerY = 200;
    score = Math.max(0, score - 5);
    statsManager.trackDeath();
    particleSystem.crearExplosiÃ³n(playerX * 5, playerY * 4, 30);
    playBeep(150, 0.3, 'sawtooth');
    
    // Voz Chiquito si activa
    if (vozChiquitoActive) {
      setTimeout(() => {
        addChatMessage('ğŸ­ CHIQUITO', 'Â¡HASTA LUEGO LUCAS, CON LA IGLESIA HEMOS TOPADO! ğŸ˜‚');
        playBeep(220, 0.8, 'triangle');
      }, 500);
    }
  }
  
  statsManager.trackScore(score);
  dibujarFrame();
}

// ====== INSULTOS MENOS AGRESIVOS EN PROMO ======
const frasesESGratis = [
  `Â¡${playerName}, buen intento! Sigue practicando ğŸ®`,
  `${playerName}, estÃ¡s mejorando... un poquito ğŸ˜`,
  `Â¡Nice! ${playerName} acaba de hacer ${score} puntos`,
  `En modo GRATIS eres mÃ¡s pro, ${playerName} ğŸ’ª`,
  `Â¡Promo especial! ${playerName} tiene ventaja temporal ğŸ”¥`,
  `${playerName}, con MODO DIOS eres imparable!`,
  `Â¡Felicidades ${playerName}! Aprovecha la promo gratis ğŸ‰`
];

const frasesENGratis = [
  `${playerName}, good try! Keep practicing ğŸ®`,
  `${playerName}, you're improving... a little ğŸ˜`,
  `Nice! ${playerName} just scored ${score} points`,
  `In FREE mode you're more pro, ${playerName} ğŸ’ª`,
  `Special promo! ${playerName} has temporary advantage ğŸ”¥`,
  `${playerName}, with GOD MODE you're unstoppable!`,
  `Congratulations ${playerName}! Enjoy the free promo ğŸ‰`
];

let frases = isSpanish ? frasesESGratis : frasesENGratis;

// ====== Resto del cÃ³digo igual pero con ajustes para promo ======

// InicializaciÃ³n con promo
function inicializarJuego() {
  // Inicializar sistemas
  statsManager = new StatsManager();
  particleSystem = new ParticleSystem();
  thuamerAI = new ThuamerAI();
  
  // Audio
  if (!audioCtx) {
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  }
  
  // Inputs
  document.addEventListener('keydown', handleKeyDown);
  document.addEventListener('keyup', handleKeyUp);
  
  // Ocultar loading
  document.getElementById('loading-screen')?.style.display = 'none';
  
  // MÃºsica de fondo GRATIS
  setTimeout(playBackgroundMusic, 1000);
  
  // Chat inicial PROMO
  addChatMessage('ğŸ‰ PROMO GRATIS', 
    `Â¡${playerName}! ğŸŠ PROMOCIÃ“N ESPECIAL ACTIVADA ğŸŠ\n` +
    `âœ… Todos los skins GRATIS\n` +
    `âœ… Voz Chiquito GRATIS\n` +
    `âœ… Modo Dios GRATIS\n` +
    `âœ… Remasters Premium GRATIS\n` +
    `â° Solo por 3 MESES ğŸ”¥`
  );
  
  // Insultos mÃ¡s amigables cada 8s
  setInterval(() => {
    const insulto = thuamerAI.generarInsultoPersonalizado();
    addChatMessage('ğŸ˜Š THUAMER', insulto);
  }, 8000);
  
  cargarRemaster('platformer');
}

// ====== InicializaciÃ³n ======
const promoGratis = new PromoGratis();
detectarIdioma();

// Exponer funciones globales
window.mostrarSelector = mostrarSelector;
window.cerrarSelector = cerrarSelector;
window.cargarRemaster = cargarRemaster;
window.activarSkin = activarSkin;
window.activarVozChiquito = activarVozChiquito;
window.toggleGodMode = toggleGodMode;
window.resetStats = resetStats;

// Mensaje de salida mÃ¡s amigable
window.addEventListener('beforeunload', (e) => {
  e.returnValue = `Â¡${playerName}! No te vayas, la PROMO GRATIS termina pronto! ğŸ‰`;
  return e.returnValue;
});

// El resto del cÃ³digo (StatsManager, ParticleSystem, etc.) permanece igual
// ... [Incluir todo el cÃ³digo JavaScript anterior sin cambios] ...

// ====== CÃ“DIGO COMPLETO DE LAS CLASES (igual que antes) ======
class StatsManager {
  // ... cÃ³digo igual que antes ...
}

class ParticleSystem {
  // ... cÃ³digo igual que antes ...
}

class ThuamerAI {
  generarInsultoPersonalizado() {
    // Usar frases mÃ¡s amigables de promo
    const templates = isSpanish ? frasesESGratis : frasesENGratis;
    return templates[Math.floor(Math.random() * templates.length)];
  }
}

// [Resto de funciones iguales: dibujarFrame, efectosCRT, etc.]

// Variables globales para compatibilidad
let score = 0;
let playerX = 128, playerY = 200;
let keys = {};
let gameLoop = null;
let currentRemaster = null;

// Iniciar juego
inicializarJuego();
</script>

</body>
</html>