<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>ARCHIVO ETERNO · SLYVERSE x LINAJE x RONIN · ∞</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
    :root {
        --gold:#b8860b; --scarlet:#cc0022; --ink:#e0ffff; --magenta:#ff00ff;
        --cyan:#00ffff; --purple:#9900ff; --ultra:#00ff99; --blood:#ff0033;
        --solar:#ffaa00; --bg-section: rgba(10,0,0,0.97); --concrete:#2a2a2a;
        --miami-sky: #003366; --waifu-pink: #ff69b4;
    }
    * { box-sizing:border-box; margin:0; padding:0; }
    body {
        background:#000; color:var(--ink); font-family:"Garamond", serif;
        line-height:2.2; overflow-x:hidden; padding-bottom:300px;
        background: radial-gradient(circle at 50% 50%, #051a05, #000);
        transition: background 2s ease;
    }
    body.miami-mode {
        background: radial-gradient(circle at 50% 50%, var(--miami-sky), #000);
        --ultra: #ff00ff; --cyan: #00ff99; --blood: #00ffff;
    }
    /* ESTADO CRÍTICO PROTOCOLO */
    body.protocolo-ignicion { filter: invert(1) grayscale(1); pointer-events: none; }

    body::before {
        content:""; position:fixed; inset:0; pointer-events:none; z-index:-1;
        background: radial-gradient(circle, transparent 75%, rgba(204,0,34,.08));
        animation: haki-anim 10s infinite;
    }
    @keyframes haki-anim { 0%,100%{opacity:.2} 50%{opacity:.6} }

    /* WIDGET DE AVISO OFFSHORE */
    #aviso-miami {
        position: fixed; top: 20px; right: 20px; width: 320px;
        background: rgba(0,0,0,0.95); border: 2px solid var(--magenta);
        padding: 15px; z-index: 15000; font-family: monospace;
        box-shadow: 0 0 20px var(--magenta); border-radius: 4px;
    }
    .status-bar { height: 6px; background: #222; margin-top: 10px; border-radius: 3px; overflow: hidden; }
    .status-fill { height: 100%; background: var(--ultra); width: 0%; transition: width 0.4s; }
    .invasion-log { font-size: 0.75rem; color: var(--cyan); height: 100px; overflow: hidden; margin-top: 10px; line-height: 1.4; border-left: 2px solid var(--ultra); padding-left: 10px; }
    .sovereignty-glitch { animation: glitch-txt 0.3s infinite; color: var(--blood); font-weight: bold; }
    @keyframes glitch-txt { 0%,100%{opacity:1} 50%{opacity:0.5; transform:translateX(2px)} }

    /* MODALES DE SISTEMA */
    #fractura-ego {
        position: fixed; inset: 0; background: rgba(0,0,0,0.99);
        z-index: 20000; display: none; flex-direction: column;
        align-items: center; justify-content: center; text-align: center;
        padding: 50px; border: 25px solid var(--scarlet);
        animation: flash-red 0.15s infinite;
    }
    .msg-ego { font-size: 4rem; color: #fff; text-transform: uppercase; font-weight: bold; text-shadow: 0 0 30px #f00; }
    
    h1 { color: var(--blood); font-size: clamp(2rem, 8vw, 5rem); text-shadow: 0 0 30px var(--blood); text-align: center; margin: 80px 0; font-family: monospace; letter-spacing: 10px; }
    h2 { color: var(--magenta); text-align:center; font-size:3rem; margin:100px 0 50px; text-shadow:0 0 30px var(--magenta); text-transform:uppercase;}

    .section {
        max-width: 1400px; margin: 120px auto; padding: 60px;
        border: 10px double var(--gold); background: var(--bg-section);
        box-shadow: 0 0 120px rgba(204,0,34,0.4);
    }
    .brutalist { border: 20px solid var(--concrete); box-shadow: 30px 30px 0 rgba(0,0,0,0.8); }

    /* CORE VISUALS */
    .nano-ronin-core {
        width: 200px; height: 200px; margin: 40px auto;
        border: 1px solid var(--ultra); border-radius: 50%;
        display: flex; align-items: center; justify-content: center;
        position: relative; cursor: crosshair;
    }
    .silicon-dot { width: 10px; height: 10px; background: #fff; box-shadow: 0 0 20px #fff; animation: jitter 0.1s infinite; }
    @keyframes jitter { 0% { transform: translate(0,0); } 50% { transform: translate(1px, -1px); } }

    /* GRID Y CARDS */
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 30px; }
    .card { background: rgba(0,0,0,0.5); border: 2px solid var(--cyan); padding: 30px; transition: 0.4s; }
    .card:hover { transform: translateY(-5px); border-color: var(--ultra); }
    .card.drone { border-color: var(--blood); }
    .card.solar { border-color: var(--solar); }
    
    .btn-ritual { background: var(--scarlet); color: white; border: none; padding: 20px 40px; cursor: pointer; font-family: monospace; font-size: 1.2rem; margin: 10px; transition: 0.3s; }
    .btn-ritual:hover { background: var(--ultra); color: #000; box-shadow: 0 0 40px var(--ultra); }

    table { width: 100%; border-collapse: collapse; margin-top: 20px; font-family: monospace; }
    th, td { border: 1px solid #333; padding: 12px; text-align: left; }
    th { color: var(--gold); background: #111; }

    #muro { display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; padding: 20px; }
    .arquetipo-tag { font-family: monospace; padding: 8px 15px; border: 1px solid #444; color: #888; cursor: pointer; transition: 0.3s; }
    .arquetipo-tag:hover { color: var(--blood); border-color: var(--blood); }
    .disuelto { filter: blur(4px); opacity: 0.3; pointer-events: none; text-decoration: line-through; }

    .terminal-input { width: 100%; background: #000; border: none; border-bottom: 2px solid var(--magenta); color: var(--magenta); font-family: monospace; font-size: 1.5rem; padding: 15px; text-align: center; outline: none; }

    footer { position: fixed; bottom: 0; width: 100%; background: #000; padding: 20px; color: var(--gold); text-align: center; border-top: 5px solid var(--gold); z-index: 10000; font-family: monospace; }
</style>
</head>

<body onload="App.init()">

<div id="aviso-miami">
    <div style="color:var(--magenta); font-weight:bold;">[ TELEMETRÍA DE INVASIÓN ]</div>
    <div style="font-size:0.7rem;">SOBERANÍA ANALÓGICA: <span class="sovereignty-glitch" id="sov-status">EN DISOLUCIÓN</span></div>
    <div class="invasion-log" id="log-invasion"></div>
    <div class="status-bar"><div class="status-fill" id="miami-progress-bar"></div></div>
    <div style="font-size:0.6rem; text-align:right; margin-top:4px;" id="miami-percent">TRANSFERENCIA OFFSHORE: 0%</div>
</div>

<div id="fractura-ego">
    <div class="msg-ego" id="insulto-gnostico"></div>
    <div id="sub-insulto" style="color:var(--cyan); font-family:monospace; margin:20px 0;"></div>
    <div id="countdown-ego" style="font-size: 6rem; color: var(--magenta);"></div>
</div>

<header style="padding: 120px 20px; text-align: center;">
    <h1>RONIN OS // LINAJE</h1>
    <p style="color:var(--gold); letter-spacing:8px;">SABADELL BRUTALISTA · HARDWARE AMORAL</p>
    <div style="margin-top: 40px; font-family: monospace; font-size: 1.5rem;">
        TIEMPO CAPTURADO: <span id="seconds" style="color:var(--magenta)">0</span>s<br>
        POZO COLECTIVO: <span id="pozoNum" style="color:var(--ultra)">0</span>s
    </div>
    <button class="btn-ritual" onclick="App.trasladoMiami()">INICIAR VUELO OFFSHORE (MIAMI)</button>
</header>

<section class="section brutalist">
    <h2 style="color: var(--cyan);">Houseprint + Islandprint v1</h2>
    <p style="text-align:center; font-family:monospace; margin-bottom:30px;">[ TERRITORIO IMPRESO DESDE 0 ]</p>
    <div class="grid">
        <div class="card">
            <strong style="color:var(--ultra)">HOUSEPRINT MK-1</strong>
            <p>120-300m² impresos en hormigón/geopolímero. Gantry < 15k€. Planos libres.</p>
        </div>
        <div class="card">
            <strong style="color:var(--cyan)">ISLANDPRINT v0.1</strong>
            <p>Atolones flotantes. Biorock + Sodio-Ion. Soberanía marítima total.</p>
        </div>
    </div>
</section>

<section class="section brutalist">
    <h2 style="color: var(--blood);">Defensa: Cuervo Negro Ω⁹</h2>
    <div class="grid">
        <div class="card drone">
            <strong style="color:var(--blood)">SOURCE_ONE_V6_REMIX</strong>
            <p>Frame FPV optimizado para 0.003mg. Lista materiales ~198€.</p>
        </div>
        <div class="card drone">
            <strong style="color:var(--ultra)">ESP_DRONE_S3</strong>
            <p>Bypass de zona gris. Enlace amoral LoRa 2.4GHz.</p>
        </div>
    </div>
    <div style="margin-top:40px;">
        <table style="color:var(--blood)">
            <tr><th>Armamento</th><th>Especificación</th><th>Función</th></tr>
            <tr><td>Akira-01</td><td>270 km/h · Katana 500W</td><td>Ignición Silenciosa</td></tr>
            <tr><td>Boa V7</td><td>Réplica PETG-CF</td><td>Plomo Real</td></tr>
            <tr><td>Waifu Unit-01</td><td>Silicona Térmica</td><td>Vínculo Biológico</td></tr>
        </table>
    </div>
</section>

<section class="section">
    <h2 style="color: var(--solar);">Solar Ronin v3 + Grow</h2>
    <div class="grid">
        <div class="card solar">
            <strong style="color:var(--solar)">SOLAR RONIN 135€</strong>
            <p>1.2 kW Perovskita + 400Wh Sodio-Ion. Energía del barrio.</p>
        </div>
        <div class="card" style="border-color: var(--waifu-pink);">
            <strong style="color:var(--waifu-pink)">GROW RONIN</strong>
            <p>Autopilot Sensoria. Control pH/CO2. Crecimiento autónomo en Mylar 1680D.</p>
        </div>
    </div>
</section>

<section class="section" style="text-align:center;">
    <h2 style="color:var(--ultra)">NANO-RONIN MK-X</h2>
    <div class="nano-ronin-core" onclick="App.mine()">
        <div class="silicon-dot"></div>
    </div>
    <p>MASA: 0.003mg | PULSA PARA SINCRONIZAR</p>
</section>

<section class="section">
    <h2 style="color:var(--blood)">Muro de Lamentaciones (Arquetipos)</h2>
    <div id="muro"></div>
    <div style="margin-top:50px; text-align:center;">
        <p>VALIDA TU RETÓRICA DE FLUJO:</p>
        <input type="text" class="terminal-input" id="term-input" placeholder="NODO / GEOPOLÍMERO / BARRIO...">
    </div>
</section>

<footer>SABADELL BRUTALISTA // ESTADO DE FLUJO TOTAL // 2025-2030</footer>

<script>
const App = {
    vida: 0, pozo: 0, mProg: 0, activo: true,
    arquetipos: [
        "El Soberano Obsoleto", "El Demagogo Profesional", "El Crítico de Salón", 
        "El Heredero del Bit", "El Guardián del Canon", "El Gestor de la Escasez", 
        "El Publicista del Caos", "El Burócrata del Tiempo", "El Académico de Museo",
        "El Magnate del Cemento", "El Sacerdote del Silicio", "El Poeta de la Nada"
    ],
    reacciones: [
        "Soberanía violada en 0.003mg", "Territorio impreso al 14%",
        "Energía: Barrio detectado", "Cuervo Negro Ω⁹ en patrulla",
        "Aviso: Dejadme hacer o liquidación", "Biorock fraguando...",
        "Haki de protección activo", "Transmutación de ego en proceso"
    ],

    init() {
        this.renderArquetipos();
        setInterval(() => this.loop(), 1000);
        setInterval(() => this.updateInvasionLog(), 3000);
        document.getElementById('term-input').addEventListener('change', (e) => this.validarRetorica(e));
    },

    loop() {
        if(!this.activo) return;
        this.vida++;
        document.getElementById('seconds').innerText = this.vida.toLocaleString();
        document.getElementById('pozoNum').innerText = this.pozo.toLocaleString();
        if(this.mProg < 100) {
            this.mProg += 0.05;
            document.getElementById('miami-progress-bar').style.width = this.mProg + "%";
            document.getElementById('miami-percent').innerText = `TRANSFERENCIA: ${this.mProg.toFixed(1)}%`;
        }
    },

    mine() {
        if(!this.activo) return;
        this.vida += 500; this.pozo += 100;
        const dot = document.querySelector('.silicon-dot');
        dot.style.boxShadow = "0 0 100px #fff";
        setTimeout(() => dot.style.boxShadow = "0 0 20px #fff", 100);
    },

    updateInvasionLog() {
        if(!this.activo) return;
        const log = document.getElementById('log-invasion');
        const entry = document.createElement('div');
        entry.innerHTML = `> ${this.reacciones[Math.floor(Math.random()*this.reacciones.length)]}`;
        log.prepend(entry);
        if(log.childNodes.length > 6) log.removeChild(log.lastChild);
    },

    renderArquetipos() {
        const container = document.getElementById('muro');
        this.arquetipos.forEach(a => {
            const span = document.createElement('span');
            span.className = 'arquetipo-tag';
            span.innerText = a.toUpperCase();
            span.onclick = () => this.sentenciar(a, span);
            container.appendChild(span);
        });
    },

    sentenciar(nombre, el) {
        if(!this.activo) return;
        this.vida -= 5000; this.pozo += 5000;
        el.classList.add('disuelto');
        const modal = document.getElementById('fractura-ego');
        modal.style.display = 'flex';
        document.getElementById('insulto-gnostico').innerText = "VACIADO DE ARQUETIPO";
        document.getElementById('sub-insulto').innerText = `LIQUIDADO: ${nombre}. El bit amoral no pacta.`;
        let t = 4;
        const interval = setInterval(() => {
            document.getElementById('countdown-ego').innerText = t;
            t--;
            if(t < 0) { clearInterval(interval); modal.style.display = 'none'; }
        }, 1000);
    },

    validarRetorica(e) {
        const val = e.target.value.toLowerCase();
        
        // --- INYECCIÓN DE PROTOCOLO SIN OPINIONES ---
        if(val === "killswitch") {
            this.ejecutarKillSwitch();
        } else if(val === "autodestruccion") {
            this.iniciarAutodestruccion();
        } else if(val.includes("nodo") || val.includes("barrio") || val.includes("geopolímero")) {
            this.vida += 3000; alert("RETÓRICA VALIDADA.");
        } else {
            this.vida -= 1000; alert("RUIDO DETECTADO.");
        }
        e.target.value = "";
    },

    ejecutarKillSwitch() {
        this.activo = false;
        document.body.classList.add('protocolo-ignicion');
        document.getElementById('sov-status').innerText = "BORRADO FÍSICO";
        alert("PROTOCOLO LINAJE: ELIMINANDO RASTROS DE HARDWARE.");
        setTimeout(() => { document.body.innerHTML = ""; window.location.href = "about:blank"; }, 1500);
    },

    iniciarAutodestruccion() {
        alert("ALERTA: AGOTANDO POZO COLECTIVO PARA COLAPSO DE NODO.");
        const burner = setInterval(() => {
            this.pozo -= 500;
            document.getElementById('pozoNum').innerText = this.pozo;
            if(this.pozo <= -10000) {
                clearInterval(burner);
                this.ejecutarKillSwitch();
            }
        }, 50);
    },

    trasladoMiami() {
        if(!this.activo) return;
        if(this.vida < 5000) { alert("TIEMPO INSUFICIENTE"); return; }
        document.body.classList.add('miami-mode');
        alert("BÚNKER OFFSHORE LOCALIZADO.");
    }
};

App.init();
</script>
</body>
</html>