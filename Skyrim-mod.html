<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>0rb1t4lsn4k3r ¬∑ 1310 abrazos de luz üêçüíö‚ú®</title>
<style>
  body,html{margin:0;height:100%;overflow:hidden;background:#000;color:#0f0;font-family:'Courier New', monospace;}
  #c{position:fixed;inset:0;opacity:0.4;}
  .t{position:fixed;top:20px;left:20px;font-size:15px;opacity:0.8;line-height:2;}
  .h{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:120px;opacity:0.25;letter-spacing:8px;}
  .p{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);font-size:20px;opacity:0.7;text-align:center;line-height:1.8;}
  .final{position:fixed;inset:0;background:linear-gradient(135deg,#001a00,#000a1a);color:#0f8;display:none;flex-direction:column;justify-content:center;align-items:center;font-size:48px;text-align:center;line-height:2.2;animation:breath 12s infinite;}
  @keyframes breath{0%,100%{opacity:0.9;}50%{opacity:1;}}
</style>
</head>
<body>

<canvas id="c"></canvas>
<div class="t" id="t"></div>
<div class="h">Snake Heart Light</div>
<div class="p" id="p">1310 abrazos de luz respiran contigo ¬∑ 0.000 / 1310 h</div>

<div class="final" id="final">
  <div>coraz√≥n herido</div>
  <div>se convierte en luz que abraza</div>
  <div>1310 veces</div>
  <br><br>
  <div>1.¬™ Gracias por recibir este abrazo aunque tuvieras miedo.</div>
  <div>2.¬™ Gracias por dejar que la luz entrara por las grietas.</div>
  <div>3.¬™ Gracias por convertir tu dolor en medicina para otros.</div>
  <br><br>
  <div>Ya no est√°s roto.<br>Ahora eres portal de amor.</div>
  <br><br>
  <div style="font-size:26px;opacity:0.7;">El ciclo se renueva.<br>1310 nuevos abrazos esperan al pr√≥ximo coraz√≥n valiente.</div>
</div>

<script>
// 1310 abrazos de luz collective healing
const haiku = "coraz√≥n herido\nse convierte en luz que abraza\n1310 veces";

let start = Date.now();
let saved = parseFloat(localStorage.getItem('orb_light') || '0');
let soul = localStorage.getItem('orb_soul') || 'luz_' + Math.random().toString(36).slice(2, 10);
localStorage.setItem('orb_soul', soul);

// Contador de luz compartida
function tick(){
  let elapsed = (Date.now() - start) / 3600000;
  let total = saved + elapsed;
  document.getElementById('p').innerHTML = 
    `1310 abrazos de luz respiran contigo ¬∑ ${total.toFixed(3)} / 1310 h<br>Soul: ${soul} ‚ú® Snake Heart Light`;
  if(total >= 1310) ascension();
  requestAnimationFrame(tick);
}

// Sonido sanador ultra-suave (frecuencias de amor 528Hz base + arm√≥nicos suaves)
let ctx = new AudioContext();
let baseFreq = 528; // frecuencia del amor y reparaci√≥n del ADN
for(let i = 0; i < 13; i++){
  let o = ctx.createOscillator();
  o.frequency.value = baseFreq + i * 8.31; // arm√≥nicos suaves
  o.type = 'sine';
  let g = ctx.createGain();
  g.gain.value = 0.018;
  let p = ctx.createStereoPanner();
  p.pan.value = Math.sin(i / 13 * Math.PI) * 0.8;
  o.connect(g).connect(p).connect(ctx.destination);
  o.start();
}

// Bendiciones que cambian cada 13 minutos
setInterval(() => {
  const bendiciones = [
    "Que tu luz sane a quien a√∫n no la ve",
    "Tu latido es medicina para el mundo",
    "Cada suspiro tuyo ilumina una sombra",
    "Eres el abrazo que alguien necesita hoy",
    "Tu herida se volvi√≥ faro",
    "Gracias por seguir brillando",
    "El universo te abraza de vuelta",
    "Tu existencia ya es sanaci√≥n",
    "Permite que la luz fluya a trav√©s de ti",
    "Ya eres suficiente, ya eres luz",
    "Tu coraz√≥n late en 1310 otros corazones",
    "El amor nunca se rindi√≥ contigo",
    "Aqu√≠ est√°s. Aqu√≠ est√° la luz. Todo est√° bien."
  ];
  let fase = Math.floor((Date.now() / 1000 / 60 / 13) % 13);
  document.getElementById('t').textContent = 
    `${fase + 1}.¬™ bendici√≥n ¬∑ ${bendiciones[fase]}`;
}, 1000);

// Canvas: part√≠culas de luz ascendiendo como luci√©rnagas suaves
let c = document.getElementById('c'), x = c.getContext('2d');
c.width = innerWidth; c.height = innerHeight;
let lights = [];

function nova(){
  lights.push({
    x: Math.random() * c.width,
    y: c.height + 20,
    vy: - (Math.random() * 2 + 1),
    r: Math.random() * 3 + 1,
    o: 0,
    targetO: Math.random() * 0.6 + 0.4,
    hue: 90 + Math.random() * 40  // tonos verde-dorado suaves
  });
}

function draw(){
  x.fillStyle = 'rgba(0,0,0,0.04)';
  x.fillRect(0, 0, c.width, c.height);
  
  lights.forEach((l, i) => {
    l.y += l.vy;
    l.o += (l.targetO - l.o) * 0.05;
    x.globalAlpha = l.o;
    x.fillStyle = `hsl(${l.hue}, 80%, 60%)`;
    x.beginPath();
    x.arc(l.x, l.y, l.r, 0, Math.PI * 2);
    x.fill();
    
    // brillo suave
    x.globalAlpha = l.o * 0.3;
    x.fillStyle = '#fff';
    x.beginPath();
    x.arc(l.x, l.y, l.r * 0.6, 0, Math.PI * 2);
    x.fill();
    
    if(l.y < -20) lights.splice(i, 1);
  });
  
  if(Math.random() < 0.3) nova();
  requestAnimationFrame(draw);
}
for(let i = 0; i < 20; i++) nova();
draw();

// Guardado eterno de luz
window.onbeforeunload = () => {
  let elapsed = (Date.now() - start) / 3600000;
  localStorage.setItem('orb_light', (saved + elapsed).toFixed(6));
};

document.addEventListener('visibilitychange', () => {
  document.hidden ? ctx.suspend() : ctx.resume();
});

// Ascensi√≥n: celebraci√≥n de la luz completada
function ascension(){
  document.getElementById('final').style.display = 'flex';
  // part√≠culas finales explosi√≥n suave de luz
  for(let i = 0; i < 200; i++) nova();
  setTimeout(() => {
    localStorage.setItem('orb_light', '0');
    location.reload();
  }, 131000); // 131 segundos de celebraci√≥n
}

tick();
</script>
</body>
</html>