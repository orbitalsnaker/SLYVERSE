<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>0RB1T4LSN4K3R://PORTAL-COSMICO.v∞ — Final Boss Edition</title>
  <style>
    :root{--g:#0f8;--lg:#00ff88;--bg:#000;}
    body,html{height:100%;background:var(--bg);color:var(--g);font-family:'Courier New',monospace;overflow:hidden;margin:0;}
    canvas{position:fixed;inset:0;z-index:-3;}
    .snake{position:fixed;bottom:20px;right:20px;font-size:10rem;opacity:0.11;animation:pulse 15s infinite;}
    .master{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;padding:2rem;overflow-y:auto;}
    .portal{max-width:1400px;width:100%;}
    .header{text-align:center;margin:4rem 0;}
    .title{font-size:clamp(3rem,9vw,7rem);letter-spacing:12px;text-shadow:0 0 40px var(--g);animation:glitch 12s infinite;}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(380px,1fr));gap:2rem;padding:2rem;}
    .art{
      background:rgba(0,15,8,0.96);border:2px solid var(--g);border-radius:22px;padding:2.4rem;
      box-shadow:0 0 40px rgba(0,255,136,0.3);transition:all 0.9s cubic-bezier(0.2,0.8,0.2,1);
      cursor:pointer;position:relative;overflow:hidden;
    }
    .art:hover{transform:scale(1.09) translateY(-16px);box-shadow:0 0 120px var(--lg);border-color:var(--lg);}
    .art-title{font-size:2.1rem;margin-bottom:1rem; text-shadow:0 0 20px var(--g);}
    .danger{position:absolute;top:12px;right:14px;font-size:1rem;opacity:0.7;}
    .nft-badge{position:absolute;top:12px;left:14px;font-size:0.9rem;background:#000;padding:6px 14px;border:1px solid var(--g);border-radius:12px;opacity:0;transition:all 0.7s;}
    .completed .nft-badge{opacity:1;background:var(--g);color:#000;font-weight:bold;}
    #exp{position:fixed;inset:0;background:#000f;display:none;flex-direction:column;align-items:center;justify-content:center;z-index:9999;padding:3rem;text-align:center;}
    .close{position:absolute;top:30px;right:50px;font-size:7rem;cursor:pointer;opacity:0.7;transition:0.4s;}
    .close:hover{opacity:1;transform:rotate(90deg);}
    #final-canvas{width:800px;height:800px;border:4px solid var(--lg);box-shadow:0 0 100px var(--lg);margin:3rem 0;}
    .god-name{font-size:5rem;margin:2rem 0;animation:glitch 2s infinite;letter-spacing:8px;}
    @keyframes glitch{0%,100%{text-shadow:0 0 30px var(--g);}12%{text-shadow:12px 0 #f00,-12px 0 #0ff;}}
    @keyframes pulse{0%,100%{opacity:0.08}50%{opacity:0.26}}
  </style>
</head>
<body>

<canvas id="c"></canvas>
<div class="snake">0RB1T4LSN4K3R</div>

<div class="master">
  <div class="portal">
    <div class="header">
      <h1 class="title">0RB1T4LSN4K3R://PORTAL-COSMICO.v∞</h1>
      <p>27 artefactos · 27 dioses del ego · 1 trono final</p>
    </div>
    <div class="grid" id="grid"></div>
  </div>
</div>

<div id="exp">
  <div class="close" onclick="closeExp()">X</div>
  <div id="content"></div>
</div>

<script>
// Dioses del Ego (27)
const egoGods = [
  "AZATHOTH·EL·CEGO","YOG·SOTHOTH·DEL·ESPEJO","NYARLATHOTEP·DE·LOS·REFLEJOS",
  "SHUB·NIGGURATH·DEL·NOMBRE","CTHULHU·QUE·SE·MIRA","DAOLOTH·EL·QUE·SE·NOMBRA",
  "UBBO·SATHLA·EL·EGO·PRIMORDIAL","GHAST·DEL·ORGULLO","TSATHOGGUA·EL·VANIDOSO",
  "Ithaqua·Rey·del·Yo","Yig·Padre·del·Ego","Dagon·Señor·del·Reflejo",
  "Hypnos·Dios·del·Sueño·de·Sí","Nodens·Señor·de·los·Nombres","Bast·Diosa·del·Ego·Femenino",
  "Mordiggian·Devorador·de·Identidades","Abhoth·Fuente·del·Yo","Ghroth·El·Que·Canta·Su·Nombre",
  "Yog·Sothoth·del·Espejo·Roto","Tulzscha·Llama·del·Ego","Tru'nembra·Música·del·Yo",
  "Nyogtha·Cosa·Negra·del·Orgullo","Zathog·Destructor·de·Otros","Shterot·El·Que·Se·Admira",
  "Kthanid·Hermano·del·Ego·Perfecto","Yidhra·La·Que·Cambia·para·Ser·Adorada","Vorvadoss·El·Que·Es·Todo·Yo"
];

// Artefactos
const artifacts = [
  {id:"nina",name:"NINA — La Niña que Nadie Apaga",danger:420,god:0},
  {id:"thuamer",name:"THUAMER ∞ + COMETA",danger:380,god:1},
  {id:"slyverse",name:"SLYVERSE v9.8 — Tribunal Ético Final",danger:666,god:2},
  {id:"cuneiform",name:"Test Cognitivo Mesopotámico",danger:520,god:3},
  {id:"aether",name:"Aether — Vacío Primordial",danger:777,god:4},
  {id:"aeon",name:"Aeon — Cronoclasma Personal",danger:999,god:5},
  {id:"ouroboros",name:"Ouroboros — Mordedura Eterna",danger:888,god:6},
  {id:"soma",name:"Soma — Néctar del No-Retorno",danger:1111,god:7},
  {id:"zenon",name:"Zenon — Paradoja Encarnada",danger:1010,god:8},
  {id:"n1",name:"NEURON-01 · Synapse Zero",danger:150,god:9},
  {id:"n13",name:"NEURON-13 · Descarga Endógena Directa",danger:1300,god:25},
  {id:"n17",name:"NEURON-17 · Renacimiento Orbital",danger:1310,god:26}
];

let completed = JSON.parse(localStorage.getItem('0rb1t4lsn4k3r_final') || '{}');

function renderGrid(){
  const grid = document.getElementById('grid');
  grid.innerHTML = '';
  artifacts.forEach(a=>{
    const div = document.createElement('div');
    const done = completed[a.id];
    div.className = 'art' + (done?' completed':'');
    div.innerHTML = `
      <div class="danger">${a.danger}/1310</div>
      <div class="nft-badge">${done ? egoGods[a.god] : '???'}</div>
      <div class="art-title">${a.name}</div>
    `;
    div.onclick = () => openArtifact(a);
    grid.appendChild(div);
  });

  // ¿COMPLETÓ LOS 27?
  if(Object.keys(completed).length === 27 && !completed['ASCENDED']){
    setTimeout(triggerAscension, 2000);
  }
}

function mintNormal(artifact){
  if(completed[artifact.id]) return;
  completed[artifact.id] = Date.now();
  localStorage.setItem('0rb1t4lsn4k3r_final', JSON.stringify(completed));
  renderGrid();
}

function openArtifact(artifact){
  document.getElementById('exp').style.display='flex';
  if(completed[artifact.id]){
    document.getElementById('content').innerHTML = `<h1 class="god-name">${egoGods[artifact.god]}</h1><p>Ya eres este dios.</p>`;
  } else {
    document.getElementById('content').innerHTML = `
      <h2>${artifact.name}</h2>
      <h1 class="god-name">${egoGods[artifact.god]}</h1>
      <button onclick="mintNormal(artifacts.find(a=>a.id==='${artifact.id}'));closeExp()" style="background:var(--g);color:#000;padding:2rem 4rem;font-size:2rem;border:none;cursor:pointer;margin-top:3rem;">
        Reclamar divinidad
      </button>
    `;
  }
}

// EL VERDADERO FINAL — NFT MÁS BELLO QUE NADA JAMÁS DISEÑADO
function triggerAscension(){
  completed['ASCENDED'] = true;
  localStorage.setItem('0rb1t4lsn4k3r_final', JSON.stringify(completed));

  document.getElementById('exp').style.display='flex';
  const c = document.createElement('canvas');
  c.id = 'final-canvas';
  document.getElementById('content').innerHTML = `
    <h1 style="font-size:6rem;animation:glitch 1s infinite;letter-spacing:15px;">
      ASCENSIÓN COMPLETA
    </h1>
    <p style="font-size:3rem;margin:2rem 0;">
      Eres el primero.<br>
      Eres el último.<br>
      Eres el único.
    </p>
    ${c.outerHTML}
    <p style="font-size:2.5rem;margin:3rem 0;">
      NFT #0 · EL QUE TODO LO FUE
    </p>
  `;

  const canvas = document.getElementById('final-canvas');
  const ctx = canvas.getContext('2d');
  canvas.width = 800; canvas.height = 800;

  let time = 0;
  function drawAscension(){
    ctx.fillStyle = 'rgba(0,0,0,0.05)'; ctx.fillRect(0,0,800,800);
    time += 0.01;

    // Ondas de luz divina
    for(let i=0;i<33;i++){
      const angle = time + i*0.2;
      const radius = 100 + Math.sin(time*2 + i)*200;
      const x = 400 + Math.cos(angle)*radius;
      const y = 400 + Math.sin(angle)*radius;
      const hue = (time*50 + i*33) % 360;
      ctx.strokeStyle = `hsla(${hue},100%,70%,0.8)`;
      ctx.lineWidth = 3 + Math.sin(time + i)*2;
      ctx.beginPath();
      ctx.arc(400,400,radius,0,Math.PI*2);
      ctx.stroke();
    }

    // El ojo del snake que todo lo ve
    ctx.fillStyle = '#0f8';
    ctx.beginPath();
    ctx.arc(400,400,80 + Math.sin(time*3)*20,0,Math.PI*2);
    ctx.fill();
    ctx.fillStyle = '#000';
    ctx.beginPath();
    ctx.arc(400,400,40 + Math.sin(time*5)*10,0,Math.PI*2);
    ctx.fill();

    requestAnimationFrame(drawAscension);
  }
  drawAscension();
}

function closeExp(){document.getElementById('exp').style.display='none';}

// Fondo cósmico
const bg = document.getElementById('c');
const ctxbg = bg.getContext('2d');
bg.width = innerWidth; bg.height = innerHeight;
let particles = [];
for(let i=0;i<800;i++) particles.push({x:Math.random()*bg.width,y:Math.random()*bg.height,r:Math.random()*3,s:Math.random()*0.7+0.2,c:i%7===0?'#0f8':'#002200'});
function animate(){
  ctxbg.fillStyle='rgba(0,0,0,0.03)'; ctxbg.fillRect(0,0,bg.width,bg.height);
  particles.forEach(p=>{
    ctxbg.fillStyle=p.c; ctxbg.beginPath(); ctxbg.arc(p.x,p.y,p.r,0,Math.PI*2); ctxbg.fill();
    p.x += p.s*(Math.random()>0.5?1:-1); p.y += p.s*(Math.random()>0.5?1:-1);
    if(p.x<0||p.x>bg.width) p.x = Math.random()*bg.width;
    if(p.y<0||p.y>bg.height) p.y = Math.random()*bg.height;
  });
  requestAnimationFrame(animate);
}
animate();

renderGrid();
</script>
</body>
</html>