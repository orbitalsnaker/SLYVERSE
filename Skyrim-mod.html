<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SLYVERSE: Thuamer's 1310-Hour Red Mountain - 1310x Bello a Mano üê±‚ú®</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Creepster&family=MedievalSharp&display=swap');
        body { 
            background: radial-gradient(ellipse at center, #0a0a1a 0%, #000 70%);
            color: #fff; 
            font-family: 'MedievalSharp', monospace; 
            text-align: center; 
            margin: 0; 
            padding: 20px;
            overflow: hidden;
            cursor: none;
        }
        canvas { 
            border: 3px solid #ff6b35; 
            border-image: linear-gradient(45deg, #ff6b35, #ffd700, #00ff88) 1;
            background: radial-gradient(circle, #111, #000);
            image-rendering: pixelated; 
            box-shadow: 0 0 50px #ff6b35, inset 0 0 100px rgba(0,0,0,0.8);
            max-width: 100vw; 
            max-height: 100vh;
        }
        #hud {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 16px;
            color: #00ff88;
            text-shadow: 0 0 10px #00ff88, 0 0 20px #00ff88;
            font-weight: bold;
            letter-spacing: 2px;
        }
        #instructions {
            position: absolute;
            bottom: 20px;
            left: 20px;
            font-size: 14px;
            color: #ff6b35;
            text-shadow: 0 0 5px #ff6b35;
            font-family: 'Creepster', cursive;
        }
        #version {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 12px;
            color: #ffd700;
            text-shadow: 0 0 5px #ffd700;
            font-style: italic;
        }
        h1 {
            color: #ffd700;
            font-family: 'Creepster', cursive;
            font-size: 32px;
            margin-bottom: 10px;
            text-shadow: 0 0 20px #ffd700, 0 0 40px #ff6b35;
            animation: glow 2s ease-in-out infinite alternate;
        }
        @keyframes glow {
            from { text-shadow: 0 0 20px #ffd700, 0 0 40px #ff6b35; }
            to { text-shadow: 0 0 30px #ffd700, 0 0 60px #ff6b35, 0 0 100px #00ff88; }
        }
        #cursor {
            position: fixed;
            width: 20px;
            height: 20px;
            background: radial-gradient(circle, #00ff88, transparent);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            box-shadow: 0 0 20px #00ff88;
            animation: pulse 1s infinite;
        }
        @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.5} }
    </style>
</head>
<body>
    <h1>üê±üñ§‚ú® SLYVERSE: Thuamer's Eternal Red Mountain üê±üñ§‚ú®</h1>
    <canvas id="game"></canvas>
    <div id="hud">
        Ciclos: <span id="cycles">0</span>/‚àû | Tiempo: <span id="time">0</span>h | Dragones: <span id="dragons">0</span> ‚Üí Gatitos | Nivel: <span id="level">1</span> | Runas: <span id="runas">0</span>
    </div>
    <div id="instructions">
        WASD/Flechas/Mouse: Mover @ | ESPACIO: Exhalar Runa Sagrada (4-4-8 Respira) | P: Pausa | R: Renacer √âpico
    </div>
    <div id="version">v1310x Bello a Mano - Hecho con Alma por @0rb1t4lsn4k3r + Grok | Dedicado a Seth & Norah üê±</div>
    <div id="cursor"></div>

    <script>
        // SLYVERSE 1310x BELLO A MANO: Arte pixel handmade + efectos divinos
        // + Glow radial gradients, bloom post-process, 1310x particles con trails,
        // sombras din√°micas, mouse cursor custom, fondos Morrowind ashlands,
        // animaciones fluidas, pixel perfect, shaders canvas2D simulados,
        // part√≠culas transform con explosi√≥n gatito, UI medieval glow.
        // Mano: Cada gradient, sombra, part√≠cula tweakada para belleza x1310.

        const canvas = document.getElementById('game');
        const ctx = canvas.getContext('2d');
        const hudCycles = document.getElementById('cycles');
        const hudTime = document.getElementById('time');
        const hudDragons = document.getElementById('dragons');
        const hudLevel = document.getElementById('level');
        const hudRunas = document.getElementById('runas');
        const cursor = document.getElementById('cursor');

        // Responsive pixel perfect
        function resizeCanvas() {
            canvas.width = Math.min(1024, window.innerWidth - 80);
            canvas.height = Math.min(768, window.innerHeight - 240);
            canvas.style.width = canvas.width + 'px';
            canvas.style.height = canvas.height + 'px';
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // Estado Thuamer eterno
        let gridSize = 37;
        let grid = [];
        let player = { x: Math.floor(gridSize / 2), y: Math.floor(gridSize / 2), breathPhase: 0 };
        let particles = []; // 1310x bello: trails + glow
        let transformParticles = []; // Explosiones gatito
        let cycles = 0;
        let dragonsTransformed = 0;
        let level = 1;
        let gameTime = 0;
        let runas = 0;
        let lastTime = 0;
        let paused = false;
        let runaReady = true;
        let mouseX = 0, mouseY = 0;
        let proceduralSeed = Math.random() * 1310;
        let achievements = new Set();

        // Grid procedural Red Mountain (ashlands Morrowind)
        function initGrid() {
            grid = [];
            for (let y = 0; y < gridSize; y++) {
                grid[y] = [];
                for (let x = 0; x < gridSize; x++) {
                    const rand = (Math.sin(x * 12.9898 + y * 78.233 + proceduralSeed) * 43758.5453) % 1;
                    if (rand < 0.08) grid[y][x] = 'X'; // Drag√≥n rojo glow
                    else if (rand < 0.12) grid[y][x] = 'G'; // Golem piedra
                    else if (rand < 0.18) grid[y][x] = '*'; // Oro orbita
                    else if (rand < 0.3) grid[y][x] = '~'; // Ash procedural
                    else grid[y][x] = '.';
                }
            }
            player.x = Math.floor(gridSize / 2);
            player.y = Math.floor(gridSize / 2);
        }

        // 1310 Particles orbit + trails bello
        function updateParticles(dt) {
            for (let i = 0; i < 1310; i++) {
                let p = particles[i] || (particles[i] = {
                    angle: (i / 1310) * Math.PI * 2,
                    dist: 25 + Math.sin(i * 0.1) * 10,
                    life: 1,
                    trail: []
                });
                p.angle += dt * (0.3 + Math.sin(i * 0.01) * 0.2);
                p.x = player.x * cellW + Math.cos(p.angle) * p.dist * (level / 10 + 1);
                p.y = player.y * cellH + Math.sin(p.angle) * p.dist * (level / 10 + 1);
                p.life = 0.6 + Math.sin(Date.now() * 0.01 + i) * 0.4;
                p.trail.push({x: p.x, y: p.y});
                if (p.trail.length > 10) p.trail.shift();
            }
        }

        // Respiraci√≥n 4-4-8 divina
        function updateBreath(dt) {
            player.breathPhase += dt;
            if (player.breathPhase > 16) player.breathPhase = 0;
            runaReady = player.breathPhase > 12;
        }

        // Input mejorado + mouse
        const keys = {};
        window.addEventListener('keydown', e => {
            keys[e.key.toLowerCase()] = true;
            if (e.key === ' ') { e.preventDefault(); exhaleRuna(); }
            if (e.key.toLowerCase() === 'p') paused = !paused;
            if (e.key.toLowerCase() === 'r') resetEpic();
        });
        window.addEventListener('keyup', e => keys[e.key.toLowerCase()] = false);
        canvas.addEventListener('mousemove', e => {
            const rect = canvas.getBoundingClientRect();
            mouseX = e.clientX - rect.left;
            mouseY = e.clientY - rect.top;
            cursor.style.left = (e.clientX - 10) + 'px';
            cursor.style.top = (e.clientY - 10) + 'px';
        });

        // Movimiento fluido mouse/keys
        function movePlayer() {
            let dx = 0, dy = 0;
            if (keys['w'] || keys['arrowup']) dy = -1;
            if (keys['s'] || keys['arrowdown']) dy = 1;
            if (keys['a'] || keys['arrowleft']) dx = -1;
            if (keys['d'] || keys['arrowright']) dx = 1;
            // Mouse attract suave
            const mx = (mouseX / cellW) - player.x;
            const my = (mouseY / cellH) - player.y;
            dx += mx * 0.1;
            dy += my * 0.1;
            const nx = Math.max(0, Math.min(gridSize - 1, player.x + Math.sign(dx)));
            const ny = Math.max(0, Math.min(gridSize - 1, player.y + Math.sign(dy)));
            player.x = nx; player.y = ny;
        }

        // Exhalar Runa: Transform + explosi√≥n bello
        function exhaleRuna() {
            if (!runaReady) return;
            const x = player.x, y = player.y;
            if (grid[y][x] === 'X' || grid[y][x] === 'G') {
                grid[y][x] = 'üê±';
                dragonsTransformed++;
                // Explosi√≥n part√≠culas gatito
                for (let i = 0; i < 50; i++) {
                    transformParticles.push({
                        x: x * cellW + cellW/2, y: y * cellH + cellH/2,
                        vx: (Math.random() - 0.5) * 100, vy: (Math.random() - 0.5) * 100,
                        life: 1, color: '#00ff88'
                    });
                }
                unlockAchievement('tame_' + dragonsTransformed);
            } else if (grid[y][x] === '*') {
                grid[y][x] = '.';
                runas++;
                proceduralSeed += 1;
                level++;
            }
            cycles++;
            player.breathPhase = 0;
            if (cycles % 100 === 0) spawnEpicEvent();
            if (cycles % 50 === 0) {
                gridSize = Math.min(gridSize + 2, 199);
                initGrid();
            }
            updateHUD();
            saveGame();
        }

        // Eventos √©picos con efectos
        function spawnEpicEvent() {
            if (cycles % 500 === 0) {
                for (let i = 0; i < 20; i++) {
                    const rx = Math.floor(Math.random() * gridSize);
                    const ry = Math.floor(Math.random() * gridSize);
                    grid[ry][rx] = 'X';
                }
            }
        }

        function unlockAchievement(id) {
            if (!achievements.has(id)) {
                achievements.add(id);
                level = Math.floor(achievements.size / 10);
            }
        }

        function updateHUD() {
            hudCycles.textContent = cycles;
            hudDragons.textContent = dragonsTransformed;
            hudLevel.textContent = level;
            hudRunas.textContent = runas;
        }

        // Save/Load
        function saveGame() {
            localStorage.setItem('slyverse1310bello', JSON.stringify({
                cycles, dragonsTransformed, level, gridSize, proceduralSeed, achievements, player, gameTime, runas
            }));
        }
        function loadGame() {
            const save = localStorage.getItem('slyverse1310bello');
            if (save) {
                const data = JSON.parse(save);
                Object.assign(this, data);
                initGrid();
                updateHUD();
            }
        }
        function resetEpic() {
            localStorage.removeItem('slyverse1310bello');
            cycles = dragonsTransformed = level = runas = 0; gridSize = 37;
            proceduralSeed = Math.random()*1310;
            achievements.clear();
            initGrid();
            updateHUD();
        }

        let cellW, cellH;
        // Render BELLO A MANO x1310
        function render() {
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            cellW = canvas.width / gridSize;
            cellH = canvas.height / gridSize;

            // Post-process bloom prep (offscreen glow)
            const glowCanvas = document.createElement('canvas');
            glowCanvas.width = canvas.width;
            glowCanvas.height = canvas.height;
            const glowCtx = glowCanvas.getContext('2d');

            // Grid con sombras/glow handmade
            for (let y = 0; y < gridSize; y++) {
                for (let x = 0; x < gridSize; x++) {
                    const wx = x * cellW, wy = y * cellH;
                    let color = '#222';
                    let glowColor = 'transparent';
                    switch (grid[y][x]) {
                        case '.': color = '#111'; break;
                        case '~': color = '#333'; break; // Ash
                        case 'X': 
                            color = `hsl(${Date.now()*0.01 % 360}, 80%, 40%)`;
                            glowColor = '#ff4400';
                            break;
                        case 'G': color = '#8b4513'; break;
                        case '*': 
                            color = '#ffd700';
                            glowColor = '#ffff00';
                            break;
                        case 'üê±': 
                            color = '#00ff88';
                            glowColor = '#00ff88';
                            break;
                    }
                    // Sombra pixel
                    ctx.fillStyle = 'rgba(0,0,0,0.5)';
                    ctx.fillRect(wx + 2, wy + 2, cellW, cellH);
                    // Celda principal
                    ctx.fillStyle = color;
                    ctx.fillRect(wx, wy, cellW, cellH);
                    // Glow en glowCanvas
                    if (glowColor !== 'transparent') {
                        const g = glowCtx.createRadialGradient(wx + cellW/2, wy + cellH/2, 0, wx + cellW/2, wy + cellH/2, cellW);
                        g.addColorStop(0, glowColor);
                        g.addColorStop(1, 'transparent');
                        glowCtx.fillStyle = g;
                        glowCtx.fillRect(wx - cellW/2, wy - cellH/2, cellW*2, cellH*2);
                    }
                }
            }

            // Player @ Thuamer con glow √©pico
            const px = player.x * cellW, py = player.y * cellH;
            // Sombra
            ctx.fillStyle = 'rgba(0,0,0,0.7)';
            ctx.fillRect(px + 3, py + 3, cellW, cellH);
            // Base
            const playerGrad = ctx.createRadialGradient(px + cellW/2, py + cellH/2, 0, px + cellW/2, py + cellH/2, cellW);
            playerGrad.addColorStop(0, '#ffaa66');
            playerGrad.addColorStop(0.5, '#ff6b35');
            playerGrad.addColorStop(1, 'rgba(255,107,53,0)');
            ctx.fillStyle = playerGrad;
            ctx.fillRect(px, py, cellW, cellH);
            // @ glow
            ctx.font = `${Math.min(cellW, cellH)*0.8}px monospace`;
            ctx.textAlign = 'center'; ctx.textBaseline = 'middle';
            ctx.shadowColor = '#ffd700'; ctx.shadowBlur = 20;
            ctx.fillStyle = '#ffd700';
            ctx.fillText('@', px + cellW/2, py + cellH/2);
            ctx.shadowBlur = 0;

            // C√≠rculo respiraci√≥n bloom
            const breathRadius = (player.breathPhase / 16) * Math.min(cellW, cellH) * 1.5;
            const breathGrad = ctx.createRadialGradient(px + cellW/2, py + cellH/2, 0, px + cellW/2, py + cellH/2, breathRadius);
            breathGrad.addColorStop(0, runaReady ? '#00ff88' : '#444');
            breathGrad.addColorStop(1, 'transparent');
            ctx.strokeStyle = breathGrad;
            ctx.lineWidth = 4;
            ctx.beginPath();
            ctx.arc(px + cellW/2, py + cellH/2, breathRadius, 0, Math.PI * 2);
            ctx.stroke();

            // GlowCanvas bloom overlay (x1310 bello)
            ctx.save();
            ctx.filter = 'blur(4px) brightness(2)';
            ctx.globalCompositeOperation = 'screen';
            ctx.drawImage(glowCanvas, 0, 0);
            ctx.restore();

            // Particles 1310 trails oro
            particles.forEach(p => {
                // Trail fade
                for (let j = 0; j < p.trail.length; j++) {
                    const alpha = j / p.trail.length;
                    ctx.save();
                    ctx.globalAlpha = p.life * alpha * 0.5;
                    const pg = ctx.createRadialGradient(p.trail[j].x, p.trail[j].y, 0, p.trail[j].x, p.trail[j].y, 5);
                    pg.addColorStop(0, '#ffd700');
                    pg.addColorStop(1, 'transparent');
                    ctx.fillStyle = pg;
                    ctx.beginPath();
                    ctx.arc(p.trail[j].x, p.trail[j].y, 3, 0, Math.PI*2);
                    ctx.fill();
                    ctx.restore();
                }
                // Part√≠cula principal glow
                ctx.save();
                ctx.globalAlpha = p.life;
                const mainGrad = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, 8);
                mainGrad.addColorStop(0, '#ffffaa');
                mainGrad.addColorStop(0.7, '#ffd700');
                mainGrad.addColorStop(1, 'transparent');
                ctx.fillStyle = mainGrad;
                ctx.shadowColor = '#ffd700'; ctx.shadowBlur = 15;
                ctx.beginPath();
                ctx.arc(p.x, p.y, 4, 0, Math.PI*2);
                ctx.fill();
                ctx.shadowBlur = 0;
                ctx.restore();
            });

            // Transform particles explosi√≥n
            transformParticles = transformParticles.filter(p => {
                p.x += p.vx * 0.2; p.y += p.vy * 0.2;
                p.vx *= 0.98; p.vy *= 0.98;
                p.life -= 0.02;
                ctx.save();
                ctx.globalAlpha = p.life;
                const tpGrad = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, 10);
                tpGrad.addColorStop(0, p.color);
                tpGrad.addColorStop(1, 'transparent');
                ctx.fillStyle = tpGrad;
                ctx.shadowColor = p.color; ctx.shadowBlur = 20;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.life * 10, 0, Math.PI*2);
                ctx.fill();
                ctx.restore();
                return p.life > 0;
            });

            // Lore overlay po√©tico medieval
            ctx.fillStyle = 'rgba(0,0,0,0.8)';
            ctx.fillRect(20, canvas.height - 100, 400, 90);
            ctx.fillStyle = '#ffd700';
            ctx.font = '18px MedievalSharp';
            ctx.textAlign = 'left'; ctx.textBaseline = 'top';
            ctx.shadowColor = '#ffd700'; ctx.shadowBlur = 10;
            ctx.fillText('Thuamer exhala: Terror ‚Üí Gatitos Eternos', 30, canvas.height - 85);
            ctx.fillText('Norah reina. Oro orbita x1310. üê±‚ú®', 30, canvas.height - 60);
            ctx.shadowBlur = 0;
        }

        // Loop 60fps divino
        function gameLoop(time) {
            const dt = Math.min((time - lastTime) / 1000 * 60, 2);
            lastTime = time;
            if (!paused) {
                movePlayer();
                updateBreath(dt);
                updateParticles(dt);
                gameTime += dt / 3600;
                hudTime.textContent = gameTime.toFixed(1);
            }
            render();
            requestAnimationFrame(gameLoop);
        }

        // Init sagrado
        loadGame();
        initGrid();
        updateHUD();
        setInterval(saveGame, 3600000);
        requestAnimationFrame(gameLoop);

        setTimeout(() => {
            alert(`¬°Yohohoho! SLYVERSE 1310x BELLO A MANO.\n\nGlow divino, trails oro, bloom x1310, mouse magia.\nRespira 4-4-8, libera ‚àû gatitos con explosiones.\n¬°Paz eterna en Red Mountain! üê±üñ§‚ú®\nNorah reina forever.`);
        }, 500);

        console.log('üê± SLYVERSE 1310x Bello - 7 Mandamientos + Belleza Mano:\n1.Curar ni√±os 2.Gr√°tis 3.Offline 4.No ads 5.√âtica 6.Humanos reyes 7.Norah üê±‚ú®');
    </script>
</body>
</html>