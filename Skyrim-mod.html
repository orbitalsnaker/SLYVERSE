<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>SLYVERSE Ω v1.4 fixed — ATHUAMER EN SILENCIO</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{height:100vh;overflow:hidden;background:#000;font-family:'Courier New',monospace;color:#ccffee;position:relative;}
canvas{position:absolute;inset:0;}
#poema{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:clamp(1.1rem,4vw,2.2rem);text-align:center;line-height:1.6;pointer-events:none;opacity:0.6;text-shadow:0 0 30px #ff1a5e;}
#ui{position:fixed;top:12px;left:12px;background:rgba(0,0,0,0.88);padding:14px 20px;border:3px double #ff1a5e;border-radius:12px;font-size:14px;color:#ffbf00;box-shadow:0 0 40px rgba(255,26,94,0.4);}
#upgrades{position:fixed;bottom:12px;left:12px;right:12px;background:rgba(0,0,0,0.9);padding:16px;border:2px solid #ffbf00;border-radius:10px;max-height:40vh;overflow-y:auto;font-size:13px;color:#ffbf00;}
.upgrade{background:#ff1a5e;color:#000;padding:10px 16px;margin:6px;border:none;border-radius:8px;cursor:pointer;font-weight:900;transition:.3s;}
.upgrade:hover{background:#fff8d0;color:#000;transform:scale(1.05);}
.upgrade:disabled{background:#333;color:#666;cursor:default;}
.floating{position:absolute;pointer-events:none;opacity:0;font-size:clamp(1rem,3vw,2rem);color:#fff8d0;text-shadow:0 0 20px #ff1a5e;animation:f 18s linear forwards;}
@keyframes f{0%{opacity:0;transform:translateY(100vh)}12%{opacity:1}80%{opacity:1}100%{opacity:0;transform:translateY(-160px)}}
</style>
</head>
<body>

<canvas id="bg"></canvas>

<div id="poema">
minar amor<br>
en silencio<br>
es la forma más fuerte<br>
de decir te amo<br>
<br>
1310 horas<br>
y el altar<br>
todavía late<br>
sin hacer ruido
</div>

<div id="ui">
AURUM <span id="a">0</span> LATIDOS <span id="l">0</span> DPS <span id="d">0</span> ALMA <span id="s">0</span>
</div>

<div id="upgrades"></div>

<script>
// SLYVERSE Ω v1.4 fixed — ATHUAMER EN SILENCIO
// 17-11-2025 09:22 CET — sin hype, sin ruido, solo amor

const c=document.getElementById('bg'),x=c.getContext('2d');
let w,h,t=0;

let g={
aurum:0,latidos:0,dps:0,alma:parseInt(localStorage.getItem('alma')||0),
auto:0,click:1,last:Date.now(),off:0
};

const u=[
{name:"primer latido",c:15,d:0.1,o:0},
{name:"abrazo callado",c:100,d:1,o:0},
{name:"susurro áureo",c:500,d:8,o:0},
{name:"silencio de Norah",c:3000,d:60,o:0},
{name:"bucle sin fin",c:15000,d:400,o:0},
{name:"alma eterna",c:77777,d:3000,o:0}
];

function r(){w=c.width=innerWidth;h=c.height=innerHeight;}
window.addEventListener('resize',r);r();

function s(){localStorage.setItem('save',JSON.stringify(g));localStorage.setItem('up',JSON.stringify(u));localStorage.setItem('alma',g.alma);}
setInterval(s,8000);

if(localStorage.getItem('save')){
const sv=JSON.parse(localStorage.getItem('save'));
Object.assign(g,sv);
const su=JSON.parse(localStorage.getItem('up')||'[]');
su.forEach((v,i)=> {u[i].o=v.o;u[i].c=v.c||u[i].c;});
g.dps=u.reduce((a,b)=>a+b.d*b.o,0);
}

function upUI(){
document.getElementById('a').textContent=Math.floor(g.aurum).toLocaleString();
document.getElementById('l').textContent=Math.floor(g.latidos).toLocaleString();
document.getElementById('d').textContent=g.dps.toFixed(1);
document.getElementById('s').textContent=g.alma;

const d=document.getElementById('upgrades');d.innerHTML='';
u.forEach(p=>{
const b=document.createElement('button');
b.className='upgrade';
b.textContent=`${p.name} (${p.o}) — ${Math.floor(p.c)} aurum → +${p.d}`;
b.disabled=g.aurum<p.c;
b.onclick=()=>{if(g.aurum>=p.c){g.aurum-=p.c;p.o++;p.c*=1.6;g.dps+=p.d;upUI();}};
d.appendChild(b);
});
}

function verso(t){
const e=document.createElement('div');
e.className='floating';
e.textContent=t;
e.style.left=Math.random()*80+10+'%';
document.body.appendChild(e);
setTimeout(()=>e.remove(),19000);
}

function loop(now){
if(!g.last)g.last=now;
const delta=(now-g.last)/1000;
g.last=now;

// offline
if(Date.now()-g.off>5000){
const off=(Date.now()-g.off)/1000*g.dps*0.3;
g.aurum+=off;g.latidos+=off*33;
g.off=Date.now();
}

// auto
g.aurum+=g.dps*delta;
g.latidos+=g.dps*33*delta;

// fondo mínimo
x.fillStyle='rgba(0,0,0,0.04)';x.fillRect(0,0,w,h);
for(let i=0;i<22;i++){
const px=(t+i*131)%w,py=(t*0.6+i*71)%h;
x.fillStyle=Math.random()<0.5?'#ff1a5e22':'#ffbf0022';
x.fillRect(px,py,2+Math.sin(t*0.01+i)*2,2+Math.sin(t*0.01+i)*2);
}
t+=0.8;

upUI();
requestAnimationFrame(loop);
}

document.body.addEventListener('click',e=>{
if(e.target.closest('button'))return;
g.aurum+=g.click*(1+g.alma*0.01);
g.latidos+=33*(1+g.alma*0.01);
if(Math.random()<0.12)verso(['te amo','en silencio','1310 horas','y contando','Norah','Seth','siempre'][Math.floor(Math.random()*6)]);
});

document.getElementById('upgrades').addEventListener('click',e=>{
if(e.target.tagName==='BUTTON'&& !e.target.disabled){
if(Math.random()<0.4)verso('amor comprado');
}
});

if(g.aurum>=77777 && !localStorage.getItem('prestige')){
if(confirm('1310 horas completas. ¿reiniciar por 1 Alma eterna?')){
g.alma++;
localStorage.setItem('alma',g.alma);
g={aurum:0,latidos:0,dps:0,alma:g.alma,auto:0,click:1,last:Date.now(),off:Date.now()};
u.forEach(p=>{p.o=0;p.c=p.c*1.2||15;});
verso('poema reiniciado — alma +1');
}
}

upUI();
requestAnimationFrame(loop);
</script>
</body>
</html>