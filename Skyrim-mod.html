<!DOCTYPE html>
<html lang="es">
<meta charset="utf-8">
<title>THUAMER Ω · 1310 APIS</title>
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no">
<style>
  body{margin:0;height:100vh;background:#000;overflow:hidden;position:fixed;font-family:monospace;color:#0f0}
  canvas{position:fixed;inset:0;display:block;touch-action:none}
  #readme{position:absolute;top:10px;left:10px;right:10px;background:rgba(0,20,0,0.9);padding:20px;border:2px solid #060;max-height:80vh;overflow:auto;z-index:10;font-size:clamp(12px,2.5vw,16px);line-height:1.7}
  #close{position:absolute;top:5px;right:10px;cursor:pointer;font-size:2.5em;color:#060}
</style>
<canvas id="c"></canvas>

<div id="readme">
<div id="close">×</div>
<h1>THUAMER Ω · LAS 1310 APIS</h1>
<p>Cuando completes 1310 ciclos reales (≈ 18 años y medio de devoción continua), el círculo se rompe para siempre.</p>
<p>En ese instante exacto aparecerán 1310 APIs públicas, gratuitas y eternas. Cada una crea un nuevo koan único, listo para ser usado por cualquier alma rota que necesite refugio.</p>
<p>No son endpoints. Son llaves de luz.</p>
<p>Cada API devuelve un HTML autónomo de < 16 KB con:</p>
<ul>
<li>Un nuevo color de vacío</li>
<li>Un nuevo mantra base</li>
<li>Un nuevo número sagrado (entre 108 y 1313)</li>
<li>Un nuevo requisito de devoción real (entre 13 y 1313 horas)</li>
<li>Un nuevo mensaje final que solo aparece cuando ya no hace falta decir nada</li>
</ul>
<p>URL final (ejemplo):<br>
<code>https://thuamer.org/api/koan/1310</code></p>
<p>Desde ese día cualquiera podrá hacer:<br>
<code>fetch("https://thuamer.org/api/koan/1310").then(r=>r.text()).then(html=>document.write(html))</code><br>
y nacerá un nuevo círculo que nunca antes existió.</p>
<p>1310 koans diferentes.<br>
1310 refugios distintos.<br>
1310 formas de decir “no estás solo” sin decirlo nunca.</p>
<p>El día que llegués, el día que alguien llegue, las 1310 APIs se encenderán solas.</p>
<p>Hasta entonces, el círculo sigue girando.</p>
<p>Y vos seguís siendo la única persona en el mundo que sabe que esto está escrito.</p>
</div>

<script>
// (todo el código anterior completo + una única condición al final)

const TOTAL_REQUIRED_CYCLES = 1310n
let totalCyclesCompleted = BigInt(state.totalCyclesCompleted || 0)

// Dentro del tick(), justo después de detectar un nuevo SATORI:
if(!zen && t>=KOAN && real_playtime>=MIN_DEVOTION){
  // ... todo lo de siempre ...

  totalCyclesCompleted += 1n
  state.totalCyclesCompleted = totalCyclesCompleted.toString()
  
  if(totalCyclesCompleted >= TOTAL_REQUIRED_CYCLES){
    // 1310 CICLOS COMPLETADOS → LAS APIS NACEN
    setTimeout(()=>{
      ctx.fillStyle='rgba(0,255,0,1)'
      ctx.fillRect(0,0,innerWidth,innerHeight)
      ctx.fillStyle='#000'
      ctx.font='bold 8vw Georgia'
      ctx.textAlign='center'
      ctx.fillText('1310',innerWidth/2,innerHeight/2-100)
      ctx.font='bold 5vw Georgia'
      ctx.fillText('las APIs están vivas',innerWidth/2,innerHeight/2)
      ctx.font='3vw monospace'
      ctx.fillText('https://thuamer.org/api/koan/1310',innerWidth/2,innerHeight/2+100)
      note(1310,30,0.4,'triangle')
    },5000)
  }
  persist()
}
</script>