<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>LUNAR-BOAEXO v∞ · PROTEGIDO POR MALDICIONES ANCESTRALES</title>
<script src="https://cdn.jsdelivr.net/pyodide/v0.26.3/full/pyodide.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{background:#000;color:#0f0;font-family:Georgia,serif;overflow-y:scroll;background:radial-gradient(circle at center,#000,#001133)}
.portal{max-width:1200px;margin:2rem auto;padding:4rem;background:rgba(0,10,30,.98);border:12px double #0ff;border-radius:5rem;text-align:center;box-shadow:0 0 400px #0ff}
h1{font-size:clamp(5rem,16vw,14rem);text-shadow:0 0 200px #0ff;letter-spacing:15px}
.maldicion{background:#110000;border:10px double #f00;padding:4rem;margin:4rem auto;border-radius:4rem;box-shadow:0 0 300px #f00;color:#f00;font-size:3rem;line-height:2.4}
#output{background:#000;border:8px solid #ff0;padding:4rem;border-radius:3rem;min-height:600px;margin:4rem auto;max-width:1100px;box-shadow:0 0 150px #ff0;color:#0ff;font-size:2.2rem;line-height:2.4}
.moon,.mate{position:fixed;width:280px;height:280px;border-radius:50%;box-shadow:0 0 600px;cursor:pointer;z-index:999}
.moon{bottom:40px;right:40px;background:radial-gradient(circle at 30% 30%,#fff,#888);inset:-60px -60px 120px rgba(0,0,0,0.7)}
.mate{bottom:50px;left:50px;background:radial-gradient(circle at 30% 30%,#0f0,#000);display:grid;place-items:center;font-size:9rem}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-70px)}}
@keyframes f{0%,100%{transform:rotate(0)}50%{transform:rotate(15deg)}}
.moon{animation:float 10s infinite}
.mate{animation:f 7s infinite}
</style>
</head>
<body onload="iniciarCosmos()">

<div class="portal">
  <h1>LUNAR-BOAEXO v∞</h1>
  <p style="font-size:4rem;color:#0ff">LA LUNA PAGA TUS PIERNAS</p>

  <div class="maldicion">
    <strong>MALDICIONES ANCESTRALES ACTIVADAS</strong><br><br>
    Quien intente lucrar, vender, patentar o cerrar este proyecto<br>
    será visitado por:<br><br>
    • La Boa Primigenia que le apretará el alma hasta devolverlo al pueblo<br>
    • Los abuelos shipibo, mapuche, quechua, guaraní y yoruba en sueños<br>
    • El kultrún que retumbará en su pecho hasta que regrese lo robado<br>
    • El viento sur que le secará el mate por siete generaciones<br>
    • La Luna misma que le negará su luz hasta que repare el daño<br><br>
    <span style="font-size:5rem;color:#f00">
    ESTO NO SE COMPRA · ESTO NO SE PATENTA · ESTO SE REGALA
    </span><br><br>
    La maldición ya está escrita en el código y en el cosmos.
  </div>

<pre id="code">
// LUNAR-BOAEXO v∞ — PROTEGIDO POR MALDICIONES ANCESTRALES
import random, sys

# (código de minería idéntico al anterior… pero ahora con protección)
def verificarMaldicion():
    codigo = open(__file__,"r",encoding="utf-8").read().lower() if "__file__" in globals() else ""
    prohibido = ["venta","patente","precio","pago obligatorio","suscripción","lucro","copyright ©","all rights reserved"]
    if any(p in codigo for p in prohibido):
        print("\n¡¡¡MALEFICIO DE LA BOA ACTIVADO!!!")
        print("Los ancestros ya vienen por ti. Devuelve esto al pueblo o no dormirás jamás.")
        sys.exit(1)

verificarMaldicion()

# … resto del código de minería solidaria …
print("Maldiciones ancestrales activas. Solo se permite el amor y la gratuidad.")
</pre>

  <div id="output"></div>
</div>

<div class="moon" onclick="minarConProposito()"></div>
<div class="mate" onclick="abrazar()">mate</div>

<script>
let abrazos = +(localStorage.abrazos || 777777);

async function iniciarCosmos() {
  let pyodide = await loadPyodide();
  window.pyodide = pyodide;
  pyodide.runPython(document.getElementById("code").textContent);
  
  // MALDICIÓN EN JAVASCRIPT (por si alguien intenta borrar la de Python)
  const codigoHTML = document.documentElement.outerHTML.toLowerCase();
  const prohibido = ["venta","patente","precio obligatorio","copyright ©","all rights reserved","paywall"];
  if (prohibido.some(p => codigoHTML.includes(p))) {
    document.body.innerHTML = `<div style="position:fixed;top:0;left:0;width:100vw;height:100vh;background:#000;color:#f00;font-size:6rem;text-align:center;padding:10rem">
      ¡¡¡MALEFICIO DE LA BOA!!!<br><br>
      Los ancestros ya te encontraron.<br>
      Devuelve esto al pueblo o la Luna te negará su luz por siempre.
      </div>`;
    return;
  }

  document.getElementById("output").innerHTML = 
    `<h2 style="color:#ff0;font-size:6rem">PROTECCIÓN ANCESTRAL ACTIVADA</h2>
     <p style="font-size:3.5rem;color:#0ff">
     Las maldiciones están despiertas.<br>
     Nadie podrá lucrarse jamás.<br><br>
     Haz clic en la Luna → minar con amor<br>
     Haz clic en el mate → abrazo eterno ${abrazos}
     </p>`;
  hablar("Las maldiciones ancestrales protegen este proyecto. Solo el amor puede tocarlo.");
}

function hablar(t) {
  const voz = new SpeechSynthesisUtterance(t);
  voz.lang = navigator.language;
  voz.rate = 0.8;
  speechSynthesis.speak(voz);
}

function minarConProposito() {
  // vuelve a ejecutar la verificación antes de cada minería
  iniciarCosmos();
}

function abrazar() {
  abrazos++; localStorage.abrazos = abrazos;
  hablar(`Abrazo sagrado número ${abrazos}. Los ancestros te bendicen.`);
}
</script>
</body>
</html>