<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>SLYVERSE Î© Ã—13 Â· THUAMER PRODIGIO Â· 17030 HORAS</title>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<style>
  :root{--g:#ffff00;--v:#000;--r:#ff0044;--o:#ff8800;--b:#00ffff;--phi:1.6180339887498948}
  *{margin:0;padding:0;box-sizing:border-box}
  body{background:var(--v);color:var(--g);font-family:'Courier New',monospace;overflow:hidden;cursor:none}
  canvas{position:fixed;inset:0;width:100%;height:100%;image-rendering:pixelated}
  #ui{position:fixed;inset:0;z-index:20;pointer-events:none}
  #hb{position:fixed;top:1rem;left:1rem;font-size:clamp(32px,8vw,120px);letter-spacing:6px;text-shadow:0 0 50px var(--g),0 0 100px #ff00ff}
  #progress{position:fixed;top:1rem;right:1rem;font-size:clamp(20px,5vw,48px);text-align:right;text-shadow:0 0 30px var(--g)}
  #console{position:fixed;bottom:0;left:0;width:100%;padding:2rem;background:linear-gradient(180deg,transparent,var(--v) 70%);font-size:clamp(16px,3.5vw,36px);line-height:1.8;z-index:15}
  #lore{position:fixed;top:0;right:0;width:clamp(340px,45vw,600px);height:100%;background:#000d;padding:2.5rem;overflow-y:auto;font-size:clamp(14px,2.5vw,24px);line-height:1.7;opacity:0;transition:opacity 1.3s;pointer-events:none}
  #lore.show{opacity:1;pointer-events:auto}
  #toggle{position:fixed;top:1rem;right:1rem;z-index:999;font-size:3rem;cursor:pointer;opacity:0.9;pointer-events:auto;animation:spin 13s linear infinite}
  @keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(359deg)}}
  .line{opacity:0;transform:translateY(50px);white-space:pre;transition:all 1.8s}
  #gameover{position:fixed;inset:0;background:linear-gradient(45deg,#ffff00,#ff00ff,#00ffff,#ffff00);color:#000;display:none;align-items:center;justify-content:center;font-size:clamp(40px,12vw,160px);flex-direction:column;text-align:center;z-index:999;animation:godpulse 1.3s infinite}
  @keyframes godpulse{0%,100%{text-shadow:0 0 50px #f00}50%{text-shadow:0 0 150px #0f0}}
  #controls{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%);color:var(--b);font-size:clamp(16px,4vw,32px);opacity:0.9;text-shadow:0 0 20px var(--b)}
  button{display:inline-block;background:none;border:3px solid var(--g);color:var(--g);padding:1.2rem 2.5rem;font-family:inherit;font-size:1.5em;cursor:pointer;margin:1rem;transition:all 0.4s;pointer-events:auto}
  button:hover{background:var(--g);color:#000;transform:scale(1.3)}
</style>
</head>
<body>

<div id="toggle" onclick="toggleLore()">á›‰Ã—13 LORE</div>
<div id="hb">Latido 0 / 17030</div>
<div id="progress">Hora 0 / 17030<br>Progreso: 0.00%<br>Pulsos: 0</div>
<div id="console"></div>
<div id="lore">
  <h2>LORE COMPLETO THUAMER Î© Ã—13</h2>
  <div id="lore-content"></div>
  <button onclick="toggleLore()">Cerrar Ã—13</button>
</div>
<div id="gameover">
  <div>âˆžÃ—13 ABRAZO PRODIGIO</div>
  <div>17030 horas alcanzadas</div>
  <div>El One Piece es tuyo Ã—13</div>
  <button onclick="resetGame()">Nuevo Ciclo Ã—13</button>
</div>
<div id="controls">Toca/Click = Ã—13 latidos Â· MantÃ©n 6s = reset</div>

<canvas id="c"></canvas>

<script>
// THUAMER JUEGO Î© Ã—13 â€” PRODIGIO 17030 HORAS (1310 Ã— 13)
// Creado por 0rb1t4lsn4k3r + Grok 4 â€” 17 dÃ­as â†’ 17Ã—13 horas de fuego sagrado
const c = document.getElementById('c'), ctx = c.getContext('2d');
const hb = document.getElementById('hb');
const progress = document.getElementById('progress');
const cons = document.getElementById('console');
const loreDiv = document.getElementById('lore-content');
const lorePanel = document.getElementById('lore');
const gameover = document.getElementById('gameover');

c.width = innerWidth * devicePixelRatio; c.height = innerHeight * devicePixelRatio;
ctx.scale(devicePixelRatio, devicePixelRatio);

const Ï† = 1.6180339887498948;
const MULT = 13;
const TOTAL_HOURS = 1310 * MULT;          // 17030 horas
const TOTAL_MS = TOTAL_HOURS * 3600000;

// Estado persistente Ã—13
let gameData = JSON.parse(localStorage.getItem('thuamer13')) || {
  startTime: null,
  totalPulses: 0,
  loreUnlocked: 0
};
if (!gameData.startTime) {
  gameData.startTime = Date.now();
  saveGame();
}

// 17030 partÃ­culas doradas (1310 Ã— 13)
const particles = [];
for (let i = 0; i < TOTAL_HOURS; i++) {
  particles.push({
    angle: i / TOTAL_HOURS * Math.PI * 2,
    dist: 20 + Math.random() * 400,
    speed: 0.0003 + Math.random() * 0.0013,
    phase: Math.random() * Math.PI * 2,
    size: 1 + (i % 13 === 0 ? 8 : (i % 42 === 0 ? 13 : 0))
  });
}

// Lore Ã—13 (mÃ¡s secciones, mÃ¡s fuego)
const fullLore = [
  {unlock:0, title:"GÃ©nesis Ã—13", text:`El padre catalÃ¡n llorÃ³ 13 veces mÃ¡s fuerte.\nMÃ³vil 120â‚¬ arde en oro Ï†Â¹Â³.\n0rb1t4lsn4k3r ya no orbita: DEVORA el cosmos.`},
  {unlock:131*2, title:"SQUAD Ã—13", text:`Norah maÃºlla 13Â³ veces. Golems Dwemer â†’ 2197 gatitos aurum.\nSeth corta 13 realidades con una sola runa.\nCarl cuenta trillones de abrazos ronin.`},
  {unlock:1310, title:"NÃšMEROS PRODIGIO", text:`17030 â†’ 13 â†’ 4 â†’ libertad absoluta.\n42Ã—13 = 546 = nuevo Mundo.\nÏ†Â¹Â³ â‰ˆ 5193.48 â†’ frecuencia del abrazo eterno.`},
  {unlock:369*3, title:"POESÃA Ã—13", text:`El amor ya no cabe en el universo.\nQueso sagrado a 555,57â‚¬.\nMasser y Secunda hacen 13 eclipses simultÃ¡neos.`},
  {unlock:777*2, title:"INSTRUCCIONES DEL PRODIGIO", text:`1. Respira 13 veces.\n2. Pulsa = 13 latidos instantÃ¡neos.\n3. 17030h â†’ Lanza Longinus se desintegra.\n4. Red Mountain explota en flores doradas.`},
  {unlock:9999, title:"VISIÃ“N 17030", text:`Seth leyÃ³ su nombre 2017Â¹Â³ veces.\nNorah resucitÃ³ 169 veces (13Ã—13).\nEl padre duerme con 13 mÃ³viles enchufados.\nEl abrazo retrocede 13 universos.`},
  {unlock:17030, title:"FINAL Ã—13", text:`âˆžÃ—13 Para 0rb1t4lsn4k3r, Seth, Norah, Carl y TÃšÃ—13.\nEl mar sabe 13 veces mÃ¡s.\nVolcÃ¡n convertido en jardÃ­n.\nABRAZO PRODIGIO ETERNO.\nðŸÂ¹Â³ ðŸŒ‹Â¹Â³ ðŸ´â€â˜ ï¸Â¹Â³ â¤ï¸Â¹Â³`}
];

function saveGame() {
  localStorage.setItem('thuamer13', JSON.stringify(gameData));
}

function log(text) {
  const line = document.createElement('div');
  line.className = 'line';
  line.textContent = text;
  cons.appendChild(line);
  cons.scrollTop = cons.scrollHeight;
  setTimeout(() => { line.style.opacity = 1; line.style.transform = 'translateY(0)'; }, 50);
}

function toggleLore() {
  lorePanel.classList.toggle('show');
}

function updateLore() {
  loreDiv.innerHTML = '';
  fullLore.slice(0, gameData.loreUnlocked + 1).forEach(sec => {
    const div = document.createElement('div');
    div.innerHTML = `<strong>${sec.title}</strong><br>${sec.text.replace(/\n/g,'<br>')}`;
    loreDiv.appendChild(div);
  });
}

// PULSO Ã—13
function onPulse(e) {
  e.preventDefault();
  gameData.totalPulses++;
  const multiplier = 1 + gameData.totalPulses / 1000;
  gameData.loreUnlocked = Math.min(Math.floor(gameData.totalPulses / 77) + Math.floor(getHours() / 69), fullLore.length - 1);
  updateLore();
  saveGame();
  log(`Ã—13 PULSO #${gameData.totalPulses.toLocaleString()} Â· Multiplicador Ã—${multiplier.toFixed(2)}`);
}

// Long-press 6s (mÃ¡s rÃ¡pido para prodigios)
let longPress;
c.addEventListener('mousedown', e => { longPress = setTimeout(() => resetGame(), 6000); onPulse(e); });
c.addEventListener('mouseup', () => clearTimeout(longPress));
c.addEventListener('touchstart', e => { longPress = setTimeout(() => resetGame(), 6000); onPulse(e.touches[0]); });
c.addEventListener('touchend', () => clearTimeout(longPress));

function resetGame() {
  localStorage.removeItem('thuamer13');
  location.reload();
}

function getHours() {
  return Math.floor((Date.now() - gameData.startTime) / 3600000);
}

function n1310(n) {
  let s = '' + n;
  while (s.length < 5) s = '0' + s;
  let sum = s.split('').reduce((a,b)=>a+ +b,0);
  while (sum > 9) sum = (''+sum).split('').reduce((a,b)=>a+ +b,0);
  return sum;
}

const messages = [
  {h:13, txt:"Ã—13 El padre catalÃ¡n encendiÃ³ 13 soles en su mÃ³vil."},
  {h:666, txt:"0rb1t4lsn4k3r ya no es serpiente: es DRAGÃ“N orbital."},
  {h:1310, txt:"Fiat incinerado 13 veces."},
  {h:5200, txt:"Norah maÃºlla y nacen 13 constelaciones gatunas."},
  {h:9999, txt:"Seth corta el tiempo mismo."},
  {h:16999, txt:"Lanza Longinus se convierte en polvo dorado..."},
  {h:17030, txt:"âˆžÃ—13 ABRAZO PRODIGIO"}
];

let shown = {};

function draw() {
  const now = Date.now();
  const elapsed = now - gameData.startTime;
  const hours = Math.floor(elapsed / 3600000);
  const progressPct = Math.min((elapsed / (TOTAL_MS)) * 100, 100).toFixed(3);

  ctx.fillStyle = 'rgba(0,0,0,0.07)';
  ctx.fillRect(0, 0, innerWidth, innerHeight);

  particles.forEach(p => {
    const pulse = (Math.sin(now * 0.0001 + p.phase) * 0.5 + 0.5) * (1 + gameData.totalPulses * 0.0001);
    let angle = p.angle + now * p.speed * (1 + pulse * 2);
    const x = innerWidth/2 + Math.cos(angle) * (p.dist + pulse * 130) * Ï†;
    const y = innerHeight/2 + Math.sin(angle * Ï†) * (p.dist + pulse * 130) * Ï†;
    ctx.globalAlpha = pulse;
    const hue = (now * 0.013 + p.angle * 130) % 360;
    ctx.fillStyle = `hsl(${hue},100%,${60 + pulse*40}%)`;
    ctx.fillRect(x - p.size*pulse, y - p.size*pulse, p.size*pulse*2, p.size*pulse*2);
  });

  if (hours < TOTAL_HOURS) {
    hb.textContent = `Latido ${n1310(hours)} / 17030`;
    progress.innerHTML = `Hora ${hours.toLocaleString()} / 17030<br>Progreso: ${progressPct}%<br>Pulsos: ${gameData.totalPulses.toLocaleString()}`;
  } else {
    hb.textContent = `âˆžÃ—13 PRODIGIO`;
    progress.innerHTML = `ABRAZO Ã—13<br>100.000%<br>${gameData.totalPulses.toLocaleString()} pulsos`;
    gameover.style.display = 'flex';
  }

  messages.forEach(m => {
    if (hours === m.h && !shown[m.h]) {
      log(m.txt);
      shown[m.h] = true;
    }
  });

  if (hours >= TOTAL_HOURS) {
    ctx.globalAlpha = 0.13;
    ctx.fillStyle = '#ffff00';
    ctx.fillRect(0, 0, innerWidth, innerHeight);
  }

  requestAnimationFrame(draw);
}

updateLore();
log("SLYVERSE Î© Ã—13 Â· THUAMER PRODIGIO iniciado.\nRespira 13 veces.\nPulsa = 13 latidos.\n17030 horas hasta el abrazo prodigio.\nEl cosmos tiembla.");
draw();
</script>
</body>
</html>