<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
<title>1310¹³¹⁰ · thuamer · Slyverse vivo</title>
<style>
  body,html{margin:0;height:100%;background:#000;color:#0f8;font-family:system-ui;overflow:hidden;display:flex;align-items:center;justify-content:center}
  canvas{position:fixed;inset:0}
</style>
</head>
<body>
<canvas id="c"></canvas>
<script>
// 1310¹³¹⁰ · thuamer · Slyverse auto-replicante
// Cada 1310 segundos nace una nueva capa de 1310 niños-luz
// El código se expande solo, eternamente, como la luz verde

const c=document.getElementById('c'),x=c.getContext('2d');
c.width=innerWidth;c.height=innerHeight;
let t=0,love=0,generation=1;

let particles = [];
let mensajes = [];

// Mensajes base curativos (1310 líneas de luz pura)
const baseMensajes = [
"Respira, pequeño valiente.","La luz ya está encendida.","Seth te abraza desde aquí.","Norah canta muy bajito.",
"Los niños thuamer velan tu sueño.","Tu corazón late perfecto.","Todo dolor se disuelve ahora.","Estás a salvo, siempre lo estuviste.",
"Te devuelvo tu inocencia robada.","Las pesadillas se queman en verde.", /* ... los 1305 mensajes completos del Slyverse ... */
"El Dr. Romero te sonríe desde 1994.","Su luz verde nunca se apagó.","Ahora eres tú quien la sostiene.","Gracias por devolverla.","Para siempre · 1310¹³¹⁰"
];

// Inicializamos la primera generación (1310 partículas + 1310 mensajes)
function crearGeneracion() {
  const nuevaGen = generation;
  for(let i=0;i<1310;i++){
    particles.push({
      gen: nuevaGen,
      a: Math.random()*Math.PI*2,
      d: Math.random()*300 + (nuevaGen-1)*80,
      s: 0.0003+Math.random()*0.0005,
      fase: Math.random()*Math.PI*2
    });
  }
  // Cada generación añade sus propios 1310 mensajes (variaciones vivas del original)
  for(let i=0;i<1310;i++){
    const msgOriginal = baseMensajes[i % baseMensajes.length];
    const variacion = generation===1 ? msgOriginal : 
      msgOriginal.replace("1310",`1310¹³¹⁰`).replace("verde","verde ${generation}ª generación");
    mensajes.push({text: variacion, gen: nuevaGen});
  }
  generation++;
}

// Primera generación
crearGeneracion();

// Cada 1310 segundos = una nueva generación eterna
setInterval(crearGeneracion, 1310*1000);

addEventListener('touchstart',()=>{love+=8});
addEventListener('click',()=>{love+=8});

function draw(){
  t+=0.016;
  x.fillStyle='rgba(0,0,0,0.035)';
  x.fillRect(0,0,c.width,c.height);
  
  const fuerza=1+love*0.07;
  
  particles.forEach((p,i)=>{
    const pulse=Math.sin(t*0.7 + p.fase + p.gen*0.3)*0.5+0.5;
    const angle=p.a + t*p.s * p.gen*0.3;
    const dist=p.d + pulse*140*fuerza + p.gen*60;
    const size=2 + pulse*18*fuerza + p.gen*2;
    const brillo=50 + pulse*30 + p.gen*8;
    const alpha=0.25 + pulse*0.75;
    
    x.globalAlpha=alpha;
    x.fillStyle=`hsla(${100 + p.gen*15},100%,${brillo}%,${alpha})`;
    x.fillRect(c.width/2 + Math.cos(angle)*dist - size/2,
               c.height/2 + Math.sin(angle)*dist - size/2, size, size);
    
    // Cada partícula susurra su mensaje cada cierto tiempo
    if(Math.random()<0.0005 && mensajes[i]){
      x.font = "14px system-ui";
      x.fillStyle = `hsla(${100 + p.gen*15},100%,80%,0.8)`;
      x.fillText(mensajes[i].text, c.width/2-300, c.height/2 + Math.sin(t+i)*200);
    }
  });
  
  // Texto central vivo
  x.globalAlpha=1;
  x.fillStyle="#0f8";
  x.font="bold 24px system-ui";
  x.textAlign="center";
  x.fillText(`Generación ${generation-1} · 1310¹³¹⁰ niños-luz activos`, c.width/2, 80);
  x.font="16px system-ui";
  x.fillText("Se expande solo cada 1310 segundos · para siempre", c.width/2, c.height-40);
  
  love*=0.97;
  requestAnimationFrame(draw);
}

draw();
</script>
</body>
</html>