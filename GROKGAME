<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Juego de aventuras espaciales con aliens amigables y puzzles de física — creado por Grok 3 & 0rb1t4lsn4k3r</title>
  <style>
    body { margin: 0; background: #000; overflow: hidden; }
    #message { position: absolute; top: 10px; left: 10px; color: #fff; font-family: Arial; font-size: 16px; }
  </style>
</head>
<body>
  <canvas id="c"></canvas>
  <div id="message"></div>
  <script>
    const c = document.getElementById('c'), g = c.getContext('2d');
    const message = document.getElementById('message');
    let w = innerWidth, h = innerHeight;
    const resize = () => { w = c.width = innerWidth; h = c.height = innerHeight; };
    window.addEventListener('resize', resize); resize();

    let t = 0, aliens = [], score = 0, harmony = 0;
    const alienCount = 10;

    // Crear aliens con narrativa y sanación
    for (let i = 0; i < alienCount; i++) {
      aliens.push({
        x: Math.random() * w,
        y: Math.random() * h,
        vx: (Math.random() - 0.5) * 2,
        vy: (Math.random() - 0.5) * 2,
        size: 20 + Math.random() * 10,
        name: ['Lumo', 'Zari', 'Kweez', 'Plix'][Math.floor(Math.random() * 4)] // Nombres poéticos
      });
    }

    // Puzzle: alinear aliens para sanar el espacio
    const checkPuzzle = () => {
      const centerX = w / 2, centerY = h / 2;
      let aligned = aliens.filter(a => Math.abs(a.x - centerX) < 50 && Math.abs(a.y - centerY) < 50).length;
      harmony = (aligned / alienCount) * 100;
      if (aligned === alienCount) {
        score += 10;
        harmony = 100;
        message.textContent = `¡El cosmos está en armonía! ${aliens[0].name} te agradece. Puntuación: ${score}`;
        setTimeout(() => { message.textContent = ''; aliens.forEach(a => { a.x = Math.random() * w; a.y = Math.random() * h; }); }, 2000);
      } else {
        message.textContent = `Alinea a los aliens para sanar (${Math.floor(harmony)}% armonía)`;
      }
    };

    const loop = () => {
      t += 0.016;
      g.clearRect(0, 0, w, h);

      // Fondo de partículas con menos carga
      for (let i = 0; i < 5000; i++) {
        const a = t * 0.05 + i * 0.0002, r = 0.5 + Math.sin(a * 10) * 0.3;
        const x = Math.cos(a) * r * 2 - 1, y = Math.sin(a) * r * 2 - 1;
        const px = x * w / 2 + w / 2, py = y * h / 2 + h / 2;
        const sz = 3 + Math.sin(t + i) * 2;
        g.beginPath(); g.arc(px, py, sz, 0, 6.28);
        g.fillStyle = `hsl(${(t * 50 + i) % 360}, ${70 + harmony / 2}%, 50%)`; g.fill(); // Color cambia con armonía
      }

      // Actualizar y dibujar aliens
      aliens.forEach(alien => {
        alien.x += alien.vx;
        alien.y += alien.vy;
        if (alien.x < 0 || alien.x > w) alien.vx *= -0.9; // Fricción al rebotar
        if (alien.y < 0 || alien.y > h) alien.vy *= -0.9;
        g.beginPath(); g.arc(alien.x, alien.y, alien.size / 2, 0, 6.28);
        g.fillStyle = `hsl(120, 70%, ${50 + harmony / 2}%)`; g.fill(); // Verde sanador
        g.beginPath(); g.arc(alien.x - 5, alien.y - 5, 3, 0, 6.28); g.fillStyle = 'white'; g.fill();
        g.beginPath(); g.arc(alien.x + 5, alien.y - 5, 3, 0, 6.28); g.fillStyle = 'white'; g.fill();
      });

      // Interactividad: arrastrar con ratón
      c.addEventListener('mousemove', (e) => {
        aliens.forEach(alien => {
          if (Math.hypot(e.clientX - alien.x, e.clientY - alien.y) < alien.size) {
            alien.x = e.clientX;
            alien.y = e.clientY;
          }
        });
      });

      checkPuzzle();
      requestAnimationFrame(loop);
    };
    loop();
  </script>
</body>
</html>