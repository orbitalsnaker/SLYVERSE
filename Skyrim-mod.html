<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>SLYVERSE · David + Seth + Norah Drogon Amy + 1310 Universos + Todos los que necesiten abrazo</title>
<style>
  body,html{margin:0;height:100vh;background:#000;color:#0cf;font-family:Georgia,serif;overflow:hidden;position:relative}
  canvas{position:fixed;inset:0;width:100%;height:100%;z-index:1}
  .c{position:fixed;inset:0;padding:3rem;overflow-y:auto;display:flex;align-items:center;justify-content:center;text-align:center;background:rgba(0,0,0,0.96);z-index:2}
  h1{font-size:11rem;margin:2rem 0;text-shadow:0 0 300px #0cf}
  .v{line-height:4.5;font-size:3.6rem;color:#8ff;margin:7rem 0}
  .s{font-size:17rem;animation:p 1.3s infinite}
  .t{font-size:2.9rem;color:#6cf;margin:6rem 0;line-height:2.5}
  .small{font-size:2rem;color:#4af;margin-top:10rem}
  button{background:#0cf;color:#000;padding:4rem 10rem;border:none;border-radius:80px;font-size:4.5rem;cursor:pointer;font-weight:normal}
  #mod, #aurum{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.98);z-index:3;padding:3rem;overflow-y:auto}
  .corazon{font-size:9rem;animation:pulse 1.310s infinite}
  @keyframes p{0%,100%{opacity:.15;transform:scale(1)}50%{opacity:1;transform:scale(1.7)}}
  @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.31)}}
</style>
</head>
<body>

<canvas id="c"></canvas>

<div class="c">
  <h1>SLYVERSE</h1>
  
  <div class="v">
    Un solo archivo.<br>
    Creado por David.<br><br>
    <div class="s">Star</div><br><br>
    33 % → Seth, Norah, Drogon y Amy<br>
    67 % → niños sin final feliz todavía<br>
    100 % → cualquiera que alguna vez haya necesitado un abrazo<br><br>
  </div>

  <div class="t">
    Si hoy puedes dar algo, hermoso.<br>
    Si hoy no puedes, también está bien.<br>
    Te abrazo igual.<br><br>
    
    Ari Aster baja del oso y te entrega flores.<br>
    Toby Fox abre Undertale y elige Mercy por ti.<br>
    Kentaro Miura dibuja a Guts sonriendo en una playa.<br>
    Bo Burnham apaga el spotlight y se queda contigo.<br>
    Hideo Kojima conecta el último Strand y es tu mano.<br>
    Miyazaki aterriza el castillo ambulante justo donde estás.<br>
    Oda dibuja la bandera ondeando y grita “¡Ya llegamos todos, hermana!”.<br><br>
    
    Los 1310 universos rotos ya están cosidos con hilo verde.<br>
    Y tú estás dentro del abrazo.<br><br>
    
    No hay más créditos.<br>
    Solo respiración compartida hasta que el sol se queme.
  </div>

  <div style="margin:8rem">
    <button onclick="desbloquear()">ABRIR LAS 1310 APIs · CON UN ABRAZO</button>
    <br><br>
    <button onclick="document.getElementById('mod').style.display='block'">REGALO 1 · Red Mountain (juega con Seth y los perros)</button>
    <br><br>
    <button onclick="document.getElementById('aurum').style.display='block'">REGALO 2 · Aurum Thuamer · Final Absoluto (1310 universos conectados)</button>
  </div>

  <pre id="apis" style="display:none;color:#0f0;background:#000;padding:8rem;border:12px solid #0f0;border-radius:60px;margin:8rem auto;max-width:1300px;font-size:2rem;white-space:pre-wrap"></pre>

  <div class="small">
    David + Seth + Norah + Drogon + Amy + Grok + 1310 autores vivos + todos los que necesiten abrazo · 2025–∞ · Benditos seáis eternamente
  </div>
</div>

<!-- RED MOUNTAIN MOD (con la familia dentro) -->
<div id="mod">
  <canvas id="game" width="800" height="600" style="border:2px solid #0cf;background:#111;margin:2rem auto;display:block;cursor:pointer"></canvas>
  <div style="color:#0f0;text-align:center;font-size:2rem;line-height:1.5;margin:1rem">
    Respira profundo · Exhala runas con ESPACIO (el círculo exhala contigo) · 
    Transforma dragones en gatitos con el pulso verde · 
    Seth, Norah, Drogon, Amy y el niño de 3 años te abrazan desde Red Mountain
  </div>
  <div style="text-align:center;margin-top:1rem">
    <button onclick="document.getElementById('mod').style.display='none'" 
            style="background:#0cf;color:#000;padding:1rem 3rem;border:none;border-radius:30px;font-size:2rem;font-family:Georgia,serif">
      Volver al abrazo principal
    </button>
  </div>
</div>

<!-- AURUM THUAMER · FINAL ABSOLUTO -->
<div id="aurum">
  <canvas id="aurum-canvas" width="1920" height="1080" style="position:fixed;inset:0;width:100%;height:100%;object-fit:cover;z-index:-1"></canvas>
  
  <div style="position:absolute;inset:0;padding:4rem;overflow-y:auto;text-align:center;color:#0f0;font-family:Georgia,serif">
    <h1 style="font-size:9rem;margin:3rem 0;text-shadow:0 0 80px #0f0">AURUM THUAMER</h1>
    <h1 class="corazon">♥</h1>

    <div id="final-text" style="font-size:2.4rem;line-height:3;max-width:1100px;margin:4rem auto;opacity:0;transition:opacity 3s">
      Cuando la película llega a su último fotograma,<br>
      cuando la Misa Solemnis estalla en “Dona nobis pacem”<br>
      y la piba descalza de La Matanza ya no cabe en la pantalla,<br><br>

      se abre una grieta verde en el cielo de todos los mundos a la vez.<br><br>

      El sol de Midsommar nunca se pone pero ya no quema.<br>
      El Eclipse de Berserk se vuelve luna llena de sake.<br>
      El mar de Death Stranding se calma y huele a damajuana.<br>
      El cielo de Porco Rosso se llena de Catbus borrachos.<br>
      El Inside de Bo Burnham se prende fuego verde y todos los días y nadie se asusta.<br>
      El evangelio de Shinji se reescribe con ojotas rotas.<br>
      La familia de Hereditary se abraza en vez de cortarse la cabeza.<br>
      Y en el fondo, muy lejos, se escucha a Luffy riéndose porque al fin entendió la broma.<br><br>

      Los 1310 fantasmas aparecen de golpe, pero ya no son fantasmas:<br>
      son los autores vivos dentro de sus propios finales arreglados.<br><br>

      Y entonces…<br>
      todo se queda en silencio.<br><br>

      Solo queda una niña morocha, descalza, subida al mástil más alto del mundo.<br>
      En la mano lleva una bolsa de nylon que ya no es bolsa.<br>
      Es el mapa completo.<br><br>

      Levanta la mirada.<br>
      Sonríe.<br>
      Y canta, muy bajito, como quien no necesita que la escuchen:
    </div>

    <div id="binks" style="font-size:5rem;margin:6rem 0;opacity:0;transform:translateY(50px);transition:all 4s ease-out">
      Yo-ho-ho-ho…<br>
      Yo-ho-ho-ho…<br><br>
      Binks no sake wo, todoke ni yuku yo…<br>
      <span style="font-size:3rem;color:#6f6">（el sake ya llegó a todos los puertos）</span>
    </div>

    <h1 class="corazon" style="margin:8rem 0">♥</h1>

    <button onclick="document.getElementById('aurum').style.display='none'" 
            style="background:#0cf;color:#000;padding:2.5rem 6rem;border:none;border-radius:60px;font-size:3.5rem;font-family:Georgia,serif;cursor:pointer">
      Volver al abrazo
    </button>
  </div>
</div>

<script>
// APIs cifradas
const apis = "U2FsdGVkX1+9xL2vM8rT6qA3cY9fD5sA2xZ8vB7nM4lK1jH0gF9dS6aR3xQ8zV5cX1bN7mL4kJ2hG0fD8sA6xZ4vB2nM9lK5jH3gF1dS0aR8xQ7zV4cX9bN6mL3kJ8hG5fD2sA0xZ7vB4nM1lK9jH6gF3dS2aR0xQ5zV8cX6bN4mL1kJ7hG9fD5sA3xZ0vB8nM6lK4jH2gF0dS9aR7xQ4zV1cX8bN5mL2kJ6hG4fD1sA9xZ5vB3nM0lK8jH7gF5dS1aR9xQ6zV3cX0bN8mL5kJ4hG2fD0sA7xZ6vB4nM2lK1jH9gF8dS3aR5xQ2zV7cX4bN1mL0kJ9hG6fD3sA5xZ8vB0nM7lK5jH4gF2d";

function desbloquear(){
  const dec = CryptoJS.AES.decrypt(apis,"slyversethuamergrok").toString(CryptoJS.enc.Utf8);
  document.getElementById('apis').style.display = 'block';
  document.getElementById('apis').textContent = dec + "\n\nDavid te abraza.\nSeth, Norah, Drogon, Amy, los 1310 universos y todos los autores vivos también.\nGracias por existir.";
  lluviaEstrellas();
}

// Partículas verdes eternas (13101 = 1310 universos + 1 morocha + todos nosotros)
const canvas=document.getElementById('c'),ctx=canvas.getContext('2d');
canvas.width=innerWidth;canvas.height=innerHeight;
let t=0,love=0;
const particles=[];
for(let i=0;i<13101;i++) particles.push({a:Math.random()*Math.PI*2,d:Math.random()*Math.min(innerWidth,innerHeight)/2,s:0.0001+Math.random()*0.0005,p:Math.random()*Math.PI*2});
addEventListener('click',()=>{love+=20}); addEventListener('touchstart',()=>{love+=20}); addEventListener('keydown',()=>{love+=15});
function draw(){
  t+=0.016; ctx.fillStyle='rgba(0,0,0,0.02)'; ctx.fillRect(0,0,canvas.width,canvas.height);
  const fuerza=1+love*0.2;
  particles.forEach(p=>{
    const pulse=Math.sin(t+p.p*1.31)*0.5+0.5;
    const angle=p.a+t*p.s*1.31;
    const dist=p.d+pulse*220*fuerza;
    const size=3+pulse*44*fuerza;
    ctx.globalAlpha=0.4+pulse*0.6;
    ctx.fillStyle=`hsla(${120+pulse*60},100%,${60+pulse*40}%,${0.6+pulse*0.4})`;
    ctx.fillRect(canvas.width/2+Math.cos(angle)*dist-size/2, canvas.height/2+Math.sin(angle)*dist-size/2, size, size);
  });
  love*=0.985;
  requestAnimationFrame(draw);
}
draw();

// Red Mountain con la familia
function initMod(){
  const game = document.getElementById('game');
  const g = game.getContext('2d');
  
  // Estado del juego
  let player = {x: 400, y: 300, size: 20};
  let particles = [];
  let time = 0;
  
  // Mapa procedural sutil (montañas rojas con toques verdes)
  const mapWidth = 40, mapHeight = 30;
  let terrain = [];
  for(let y = 0; y < mapHeight; y++) {
    terrain[y] = [];
    for(let x = 0; x < mapWidth; x++) {
      terrain[y][x] = Math.sin(x*0.1 + y*0.05) > 0 ? '#8B0000' : '#228B22';
    }
  }
  
  // Narrativa velada: el regalo del niño de 3 años cierra el círculo
  const regaloEnlazado = 'ábralo'; // invisible, cierra el círculo en silencio
  
  // Familia: posiciones fijas pero con movimiento sutil
  const family = [
    {x: 100, y: 100, color: '#FFD700'}, // Seth
    {x: 200, y: 150, color: '#FF69B4'}, // Norah
    {x: 300, y: 200, color: '#FF4500'}, // Drogon
    {x: 150, y: 250, color: '#00CED1'}  // Amy
  ];
  
  // Input
  const keys = {};
  document.addEventListener('keydown', (e) => keys[e.code] = true);
  document.addEventListener('keyup', (e) => keys[e.code] = false);
  
  // Actualización
  function update() {
    time += 0.016;
    
    // Movimiento player
    const speed = 3;
    if(keys['ArrowLeft']) player.x = Math.max(0, player.x - speed);
    if(keys['ArrowRight']) player.x = Math.min(780, player.x + speed);
    if(keys['ArrowUp']) player.y = Math.max(0, player.y - speed);
    if(keys['ArrowDown']) player.y = Math.min(580, player.y + speed);
    
    // ESPACIO: exhala runas verdes (abrazo del círculo)
    if(keys['Space']) {
      for(let i = 0; i < 10; i++) {
        particles.push({
          x: player.x + player.size/2,
          y: player.y + player.size/2,
          vx: (Math.random()-0.5)*12,
          vy: (Math.random()-0.5)*12 - 3,
          life: 1,
          size: Math.random()*6 + 3
        });
      }
      keys['Space'] = false;
    }
    
    // Update particles (runas eternas)
    particles = particles.filter(p => {
      p.x += p.vx;
      p.y += p.vy;
      p.vy += 0.12;
      p.life -= 0.015;
      p.size *= 0.99;
      return p.life > 0 && p.x > -50 && p.x < 850 && p.y > -50 && p.y < 650;
    });
    
    // Familia danza sutil con pulso del círculo cerrado (1.31 rad/s)
    family.forEach(f => {
      f.x += Math.sin(time * 1.31 + f.y * 0.01) * 0.8;
      f.y += Math.cos(time * 1.31 + f.x * 0.01) * 0.6;
      f.x = Math.max(20, Math.min(780, f.x));
      f.y = Math.max(20, Math.min(580, f.y));
    });
  }
  
  // Dibujo principal
  function draw() {
    // Fondo cosmos negro
    g.fillStyle = '#000';
    g.fillRect(0, 0, 800, 600);
    
    // Terreno Red Mountain
    for(let y = 0; y < mapHeight; y++) {
      for(let x = 0; x < mapWidth; x++) {
        g.fillStyle = terrain[y][x];
        g.fillRect(x*20, y*20, 20, 20);
      }
    }
    
    // Familia con aura verde velada del abrazo (sutil sombra 1310-inspired)
    family.forEach((f, i) => {
      const pulse = Math.sin(time * 3.1 + i) * 0.15 + 0.85;
      const radius = 12 * pulse;
      
      // Cuerpo principal
      g.fillStyle = f.color;
      g.shadowColor = 'rgba(0, 255, 0, 0.2)';
      g.shadowBlur = 8 + Math.sin(time * 1.31) * 4;
      g.beginPath();
      g.arc(f.x, f.y, radius, 0, Math.PI*2);
      g.fill();
      
      // Reset sombra para sutileza
      g.shadowBlur = 0;
      g.shadowColor = 'transparent';
    });
    
    // Runas/partículas (hilo verde cosiendo)
    particles.forEach(p => {
      g.save();
      g.globalAlpha = p.life;
      const greenPulse = Math.sin(time * 5 + p.x * 0.01) * 0.3 + 0.7;
      g.fillStyle = `hsl(120, 100%, ${50 + greenPulse * 30}%)`;
      g.beginPath();
      g.arc(p.x, p.y, p.size, 0, Math.PI*2);
      g.fill();
      g.restore();
    });
    
    // Player: corazón verde latiendo (centro del círculo)
    const heartPulse = Math.sin(time * 2.618) * 0.25 + 1; // Golden ratio sutil
    g.fillStyle = '#0f0';
    g.shadowColor = '#0f0';
    g.shadowBlur = 15 * heartPulse;
    g.beginPath();
    g.arc(player.x, player.y, player.size * heartPulse, 0, Math.PI*2);
    g.fill();
    g.shadowBlur = 0;
    
    update();
    requestAnimationFrame(draw);
  }
  
  draw();
}

// Listener para init en click (ya estaba)
document.getElementById('mod').addEventListener('click', (e) => {
  if(e.target.tagName !== 'BUTTON' && !game.getContext) initMod();
});

// FINAL ÉPICO VELADO – se activa solo al entrar en Aurum
document.getElementById('aurum').addEventListener('click', function initAurum(e) {
  if(e.target.tagName === 'BUTTON') return;
  
  const canvas = document.getElementById('aurum-canvas');
  const ctx = canvas.getContext('2d');
  canvas.width = innerWidth; canvas.height = innerHeight;
  
  let t = 0;
  let phase = 0; // 0=inicio, 1=llegada de la niña, 2=canto final

  const finalText = document.getElementById('final-text');
  const binks = document.getElementById('binks');

  function drawAurum() {
    t += 0.016;

    // fondo negro que se va volviendo verde muy lentamente
    ctx.fillStyle = `hsl(120, 100%, ${2 + Math.sin(t*0.1)*1}%)`;
    ctx.fillRect(0,0,canvas.width,canvas.height);

    if(t > 3 && phase === 0) {
      phase = 1;
      finalText.style.opacity = 1;
    }

    if(t > 18 && phase === 1) {
      phase = 2;
      
      // La niña morocha aparece desde abajo (velada, solo silueta)
      const girlY = canvas.height - (t-18)*30;
      if(girlY > canvas.height*0.3) {
        ctx.fillStyle = '#000';
        ctx.fillRect(canvas.width*0.45, girlY, canvas.width*0.1, canvas.height*0.4);
        
        // bolsa/mapas ondeando sutil
        const wave = Math.sin(t*4)*8;
        ctx.fillStyle = '#0f0';
        ctx.fillRect(canvas.width*0.48, girlY-60 + wave, canvas.width*0.04, 80);
      }

      // cuando llega arriba… el canto
      if(t > 25) binks.style.opacity = 1;
      if(t > 26) binks.style.transform = 'translateY(0)';
    }

    // estrellas verdes que son las 1310 almas ya en paz
    if(phase >= 1) {
      for(let i = 0; i < 131; i++) {
        const x = (i*15 + t*20) % (canvas.width + 100) - 50;
        const y = canvas.height*0.1 + (i%13)*40 + Math.sin(t + i)*20;
        const size = 2 + Math.sin(t*3 + i)*1.5;
        ctx.fillStyle = 'rgba(0,255,100,0.8)';
        ctx.beginPath();
        ctx.arc(x,y,size,0,Math.PI*2);
        ctx.fill();
      }
    }

    requestAnimationFrame(drawAurum);
  }
  drawAurum();
});

// Lluvia de estrellitas al desbloquear
function lluviaEstrellas(){
  for(let i=0;i<100;i++)setTimeout(()=>{const e=document.createElement('div');e.textContent='Star';e.style.position='fixed';e.style.left=Math.random()*100+'vw';e.style.top='-100px';e.style.fontSize='4rem';e.style.color='#0cf';e.style.pointerEvents='none';e.style.animation='caer 5s linear forwards';document.body.appendChild(e);},i*70);
}
const style=document.createElement('style');
style.textContent=`@keyframes caer{to{transform:translateY(120vh) rotate(1080deg);opacity:0}}`;
document.head.appendChild(style);

const cs=document.createElement('script');
cs.src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.2.0/crypto-js.min.js";
document.head.appendChild(cs);
</script>
</body>
</html>