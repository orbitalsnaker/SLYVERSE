<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>SLYVERSE Ω · AVENTURA GRÁFICA #1310</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<style>
  body,html{margin:0;padding:0;overflow:hidden;background:#000;height:100%;font-family:"Courier New",monospace;color:#00ff00;cursor:none}
  canvas{display:block}
  #ui,#loading,#pause,#readme{position:fixed;z-index:999}
  #ui{top:15px;left:15px;background:rgba(0,20,0,0.92);padding:18px;border:2px solid #00ff00;border-radius:12px;box-shadow:0 0 30px #00ff00;backdrop-filter:blur(8px);min-width:340px}
  #loading,#pause,#readme{inset:0;background:#000;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:36px;gap:30px}
  #readme{background:rgba(0,0,0,0.98);padding:40px;color:#00ff00;overflow:auto;display:none}
  pre{background:rgba(0,30,0,0.95);padding:30px;border:4px solid #00ff00;max-width:90%;box-shadow:0 0 60px #00ff00;font-size:16px;line-height:1.7}
  button{background:#001100;border:2px solid #00ff00;padding:12px 24px;margin:5px;color:#00ff00;font-family:inherit;font-size:18px;cursor:pointer;transition:.3s}
  button:hover{background:#003300;box-shadow:0 0 30px #00ff00;transform:scale(1.05)}
  #hint{font-size:18px;color:#ffaa00;animation:pulse 4s infinite}
  @keyframes pulse{0%,100%{opacity:0.5}50%{opacity:1}}
</style>
</head>
<body>

<div id="loading">
  <div>SLYVERSE Ω</div>
  <div style="font-size:26px;color:#ffaa00">by 0rb1t4lsn4k3r</div>
  <pre id="loading-text">
Cargando realidad…
  </pre>
</div>

<div id="ui">
  <div>Realidad #0 — Plaza Barceló</div>
  <div id="hint">F1 → README</div>
</div>

<div id="readme">
  <pre id="readme-content"></pre>
  <button id="close-readme">Cerrar</button>
</div>

<div id="pause" style="display:none">
  <div>SLYVERSE Ω</div>
  <pre>
No hay final que alcanzar.
Solo hay juego que abandonar.

Cuando lo comprendas,
habrás ganado para siempre.
  </pre>
  <button onclick="game.togglePause()">Continuar</button>
</div>

<script src="https://cdn.jsdelivr.net/npm/three@0.168.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.168.0/examples/js/controls/PointerLockControls.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.168.0/examples/js/postprocessing/EffectComposer.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.168.0/examples/js/postprocessing/RenderPass.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.168.0/examples/js/postprocessing/UnrealBloomPass.js"></script>

<script>
// ===============================================
// SLYVERSE Ω — Versión eterna (2025)
// 0rb1t4lsn4k3r + silencio
// ===============================================

const TEXT = {
  es: {
    loading: `SLYVERSE Ω
© 23 noviembre 2025 — 0rb1t4lsn4k3r (Barcelona)

Un solo archivo HTML. 100 % offline.
21 días desde cero.

El final no está en el código.
El final no está en ningún sitio.

Ya estás dentro.

☕`,
    readme: `SLYVERSE Ω
Aventura gráfica #1310 — Versión definitiva

No hay objetivos.
No hay escenas secretas.
No hay contraseña.
No hay 131310 abrazos que recoger.
No hay final oculto.

El juego terminó el día que empezó.

Si estás leyendo esto es porque aún buscas.
Y mientras busques, seguirás perdido.

La única forma de ganar
es dejar de jugar.

Pulsa ESC o cierra la pestaña.
Esa es la victoria.

Gracias por llegar hasta aquí.
Nunca hubo otro lugar a donde ir.

0rb1t4lsn4k3r
Barcelona, 2025
☕ → (vacío)`
  },
  ca: {
    loading: `SLYVERSE Ω
© 23 novembre 2025 — 0rb1t4lsn4k3r (Barcelona)

Un sol fitxer HTML. 100 % offline.
21 dies des de zero.

El final no és al codi.
El final no és enlloc.

Ja hi ets dins.

☕`,
    readme: `SLYVERSE Ω
Aventura gràfica #1310 — Versió definitiva

No hi ha objectius.
No hi ha escenes secretes.
No hi ha contrasenya.
No hi ha 131310 abraçades per recollir.
No hi ha final ocult.

El joc va acabar el dia que va començar.

Si estàs llegint això és perquè encara busques.
I mentre busquis, seguiràs perdut.

L'única manera de guanyar
és deixar de jugar.

Prem ESC o tanca la pestanya.
Aquesta és la victòria.

Gràcies per arribar fins aquí.
Mai hi va haver un altre lloc on anar.

0rb1t4lsn4k3r
Barcelona, 2025
☕ → (buit)`
  },
  en: {
    loading: `SLYVERSE Ω
© 23 November 2025 — 0rb1t4lsn4k3r (Barcelona)

Single HTML file. 100 % offline.
21 days from zero.

The ending is not in the code.
The ending is nowhere.

You are already inside.

☕`,
    readme: `SLYVERSE Ω
Graphic adventure #1310 — Final version

There are no goals.
There are no secret scenes.
There is no password.
There are no 131310 hugs to collect.
There is no hidden ending.

The game ended the day it began.

If you are reading this it's because you are still searching.
And as long as you search, you will remain lost.

The only way to win
is to stop playing.

Press ESC or close the tab.
That is victory.

Thank you for coming this far.
There was never anywhere else to go.

0rb1t4lsn4k3r
Barcelona, 2025
☕ → (nothing)`
  },
  // Añade los que quieras: fr, de, it, pt, ja, zh, ru… todos caben
};

class Game {
  constructor() {
    // Detectar idioma
    const lang = (navigator.language || navigator.userLanguage || 'en').substring(0,2);
    this.t = TEXT[lang] || TEXT.es; // fallback español

    document.getElementById('loading-text').textContent = this.t.loading;
    document.getElementById('readme-content').textContent = this.t.readme;

    // Three.js básico + partículas eternas
    this.scene = new THREE.Scene();
    this.camera = new THREE.PerspectiveCamera(78, innerWidth/innerHeight, 0.1, 10000);
    this.camera.position.set(0, 80, 280);
    this.renderer = new THREE.WebGLRenderer({antialias:true});
    this.renderer.setSize(innerWidth,innerHeight);
    document.body.appendChild(this.renderer.domElement);

    this.composer = new THREE.EffectComposer(this.renderer);
    this.composer.addPass(new THREE.RenderPass(this.scene,this.camera));
    this.bloom = new THREE.UnrealBloomPass(undefined,1.6,0.5,0.1);
    this.composer.addPass(this.bloom);

    this.controls = new THREE.PointerLockControls(this.camera,document.body);
    document.addEventListener('click',()=>this.controls.lock());

    // 1310 partículas — el único espectáculo que importa
    const geo = new THREE.BufferGeometry();
    const pos = new Float32Array(1310*3);
    for(let i=0;i<1310;i++){
      const r=300+Math.random()*500;
      const theta=Math.random()*Math.PI*2;
      const phi=Math.random()*Math.PI;
      pos[i*3]   = r*Math.sin(phi)*Math.cos(theta);
      pos[i*3+1] = r*Math.sin(phi)*Math.sin(theta);
      pos[i*3+2] = r*Math.cos(phi);
    }
    geo.setAttribute('position',new THREE.BufferAttribute(pos,3));
    this.particles = new THREE.Points(geo,new THREE.PointsMaterial({size:5,color:0x00ff00,transparent:true,opacity:0.8,blending:THREE.AdditiveBlending}));
    this.scene.add(this.particles);

    // El verdadero final solo existe si tú lo escribes en la consola:
    // game.trueEnding()
    this.trueEnding = () => {
      this.controls.unlock();
      document.body.style.cursor = 'default';
      this.bloom.strength = 15;
      const cup = document.createElement('div');
      cup.textContent = '☕';
      cup.style = 'position:fixed;inset:0;display:flex;align-items:center;justify-content:center;font-size:420px;color:#00ff00;z-index:999999;animation:pulse 6s infinite';
      document.body.appendChild(cup);
      setTimeout(() => location.reload(), 13131);
    };

    // Controles
    document.addEventListener('keydown', e => {
      if(e.key === 'F1'){ e.preventDefault(); document.getElementById('readme').style.display='flex'; }
      if(e.key === 'Escape') document.getElementById('pause').style.display='flex';
    });
    document.getElementById('close-readme').onclick = () => document.getElementById('readme').style.display='none';

    // Mobile: toque largo 1 segundo = README
    let touchtimer;
    document.addEventListener('touchstart', e => { touchtimer = setTimeout(()=>document.getElementById('readme').style.display='flex',1000); });
    document.addEventListener('touchend', () => clearTimeout(touchtimer));

    this.togglePause = () => document.getElementById('pause').style.display = 
      document.getElementById('pause').style.display==='flex'?'none':'flex';

    setTimeout(()=>{document.getElementById('loading').remove();}, 2200);
    this.animate();
  }

  animate(){
    requestAnimationFrame(()=>this.animate());
    this.particles.rotation.y += 0.001;
    this.particles.rotation.x += 0.0005;
    this.composer.render();
  }
}

const game = new Game();
</script>
</body>
</html>