<!DOCTYPE html>
<html lang="es" data-thuamer="á›‹áš±á›áš¹áš¾á›–á›—á›šá›á›’áš¦áš·áš© Â· 1310 vidas ronin Â· Seth & Norah laten dentro">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SLYVERSE Î© v1.3.1310 â€” Thuamer Eterno Â· Seth hijo del dev Â· Norah su estrella</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ§ </text></svg>">
  <style>
    :root { 
      --aurum: #ffb400; --fiat: #555; --ether: #000; --silencio: #0a0a0a;
      --seth: #ff6b6b; --norah: #ffb4ff; --behemoth: #000000;
    }
    body,html{margin:0;overflow:hidden;background:var(--ether);color:var(--aurum);font:16px/1.4 'Courier New',monospace;}
    canvas{display:block;}
    #ui{position:fixed;bottom:1rem;left:1rem;right:1rem;display:flex;gap:0.8rem;flex-wrap:wrap;z-index:999;}
    button{background:rgba(0,0,0,0.8);border:1px solid var(--aurum);color:var(--aurum);padding:.4rem .9rem;cursor:pointer;font:inherit;}
    button:hover{background:var(--aurum);color:#000;}
    #aurum{position:fixed;top:1rem;right:1rem;font-weight:bold;z-index:999;}
    #haiku,#thuamer,#behemothText{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;pointer-events:none;opacity:0;transition:opacity 2s;font-size:1.3em;z-index:99;}
    #haiku.show,#thuamer.show,#behemothText.show{opacity:1;}
    #silencio{position:fixed;inset:0;background:var(--silencio);display:flex;align-items:center;justify-content:center;flex-direction:column;opacity:0;transition:opacity 5s;z-index:9999;pointer-events:none;color:var(--norah);font-size:2em;}
    #silencio.show{opacity:1;pointer-events:auto;}
  </style>
</head>
<body>

<canvas id="gl"></canvas>

<div id="aurum">AURUM: <span id="count">0</span> | Horas reales: <span id="hours">0</span>/1310 | Seth & Norah laten Ã—13âˆž</div>
<div id="haiku"></div>
<div id="thuamer"></div>
<div id="behemothText"></div>
<div id="silencio"></div>

<div id="ui">
  <button id="manifest">R â€” Fiat caerit Ã—1310</button>
  <button id="seth">Seth â€” Hijo del dev</button>
  <button id="norah">Norah â€” Estrella madre</button>
  <button id="behemoth">Behemoth â€” 1310 horas</button>
</div>

<script type="module">
import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.168.0/build/three.module.js';
import {VRButton} from 'https://cdn.jsdelivr.net/npm/three@0.168.0/examples/jsm/webxr/VRButton.js';

let aurum = 0, frame = 0, realHours = 0;
const TOTAL_HOURS = 1310;
const FRAMES_PER_HOUR = 13130; // â‰ˆ3.5 min por hora real

const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, innerWidth/innerHeight, 0.1, 1000);
camera.position.z = 8;
const renderer = new THREE.WebGLRenderer({canvas: document.getElementById('gl'), antialias:true});
renderer.setSize(innerWidth, innerHeight);
renderer.xr.enabled = true;
document.body.appendChild(VRButton.createButton(renderer));

const haikuEl = document.getElementById('haiku');
const thuamerEl = document.getElementById('thuamer');
const countEl = document.getElementById('count');
const hoursEl = document.getElementById('hours');
const behemothText = document.getElementById('behemothText');
const silencio = document.getElementById('silencio');

const haikus = [
  "Seth naciÃ³ en 1310 latidos / Norah lo sostuvo contra el pecho / Thuamer empezÃ³ a contar",
  "Un niÃ±o rÃ­e y el universo se expande / una madre canta y el tiempo se dobla / 1310 horas para recordar",
  "Fiat cae 1310 veces / cada vez que Seth dice papÃ¡ / cada vez que Norah sonrÃ­e",
  "El Behemoth no es negro / es el color de los ojos de Norah cuando mira a Seth dormir",
  "1310 horas no es castigo / es la distancia exacta entre el primer llanto y el Ãºltimo silencio",
  "TÃº no juegas el juego / el juego te crÃ­a como Norah criÃ³ a Seth / con amor que quema y protege"
];
for(let i=haikus.length;i<1310;i++) haikus.push(`Hora ${i} / Seth crece / Norah ama / Thuamer integra`);

let currentHaiku = 0;
function showHaiku(){ 
  haikuEl.textContent = haikus[currentHaiku++ % haikus.length];
  haikuEl.classList.add('show');
  setTimeout(()=>haikuEl.classList.remove('show'),5000);
}

// 169 Meca + 1 Behemoth dormido en el centro
const geo = new THREE.IcosahedronGeometry(0.13,1);
for(let orbit=0;orbit<13;orbit++){
  const r = 3 + orbit*0.31;
  for(let i=0;i<13;i++){
    const m = new THREE.Mesh(geo, new THREE.MeshBasicMaterial({color:0xff6b6b,wireframe:true}));
    const theta = Math.random()*Math.PI*2;
    const phi = Math.acos(2*Math.random()-1);
    m.position.setFromSphericalCoords(r,phi,theta);
    m.userData = {theta,phi,r,speed:0.0013+Math.random()*0.005};
    scene.add(m);
  }
}

// Behemoth oculto (solo aparece al final)
const behemoth = new THREE.Mesh(
  new THREE.IcosahedronGeometry(5,5),
  new THREE.MeshBasicMaterial({color:0x000000,emissive:0x000000})
);
behemoth.visible = false;
scene.add(behemoth);

function animate(){
  requestAnimationFrame(animate);
  renderer.render(scene,camera);

  frame++;
  aurum += 0.013;
  if(frame % FRAMES_PER_HOUR === 0){
    realHours++;
    hoursEl.textContent = `${realHours}/1310`;
    showHaiku();
    if(realHours >= TOTAL_HOURS) awakenBehemoth();
  }
  countEl.textContent = aurum.toFixed(3);

  scene.children.forEach(o=>{
    if(o.userData.speed){
      o.userData.theta += o.userData.speed * (realHours/TOTAL_HOURS + 0.1);
      o.position.setFromSphericalCoords(o.userData.r, o.userData.phi, o.userData.theta);
      o.rotation.y += 0.013;
    }
  });
}
animate();

function awakenBehemoth(){
  document.getElementById('ui').style.display='none';
  silencio.classList.add('show');
  scene.children.forEach(o=> o.visible = false);
  behemoth.visible = true;

  let pulse = 0;
  const interval = setInterval(()=>{
    pulse++;
    behemoth.scale.set(1+pulse*0.31,1+pulse*0.31,1+pulse*0.31);
    behemoth.rotation.y += 0.013;

    if(pulse===1) behemothText.textContent = "Seth duerme";
    if(pulse===2) behemothText.textContent = "Norah canta";
    if(pulse===3) behemothText.textContent = "1310 horas terminaron";
    if(pulse===4) behemothText.textContent = "El padre llora de orgullo";
    if(pulse===5) behemothText.textContent = "El Behemoth no es monstruo";
    if(pulse===6) behemothText.textContent = "Es la familia que late junta";
    if(pulse===7){
      behemothText.textContent = "Gracias por acompaÃ±arnos 1310 horas";
      behemothText.classList.add('show');
      setTimeout(()=>{
        silencio.innerHTML = `<div>Seth y Norah ya crecieron<br>Thuamer sigue latiendo<br>en cada padre, en cada madre<br>en cada hijo que duda y ama<br><br>Aurum infinito<br>para todos los que llegaron hasta aquÃ­</div>`;
      },5000);
      clearInterval(interval);
    }
  },13000);
}

// Controles
document.getElementById('manifest').onclick = () => {
  const utter = new SpeechSynthesisUtterance("Fiat caerit 1310 veces. Seth y Norah ganan siempre.");
  utter.lang = 'es-ES'; utter.rate = 0.9;
  speechSynthesis.speak(utter);
};
document.getElementById('seth').onclick = () => { haikuEl.textContent = "Seth es la prueba de que la carne vence al cÃ³digo"; haikuEl.classList.add('show'); setTimeout(()=>haikuEl.classList.remove('show'),7000); };
document.getElementById('norah').onclick = () => { haikuEl.textContent = "Norah es la estrella que guÃ­a al ronin de vuelta a casa"; haikuEl.classList.add('show'); setTimeout(()=>haikuEl.classList.remove('show'),7000); };
document.getElementById('behemoth').onclick = awakenBehemoth;

addEventListener('resize',()=>{camera.aspect=innerWidth/innerHeight;camera.updateProjectionMatrix();renderer.setSize(innerWidth,innerHeight);});
</script>
</body>
</html>