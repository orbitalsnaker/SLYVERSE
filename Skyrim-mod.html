<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>SLYVERSE Œ© ‚àû</title>
  <style>
    body,html{margin:0;padding:0;overflow:hidden;background:#000;color:#0f0;font-family:monospace}
    canvas{display:block}
    #o{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:90%;max-width:600px;text-align:center;z-index:99;color:#ff0;text-shadow:0 0 10px #f0f,0 0 20px #0ff}
    #o p{margin:0.5em 0;opacity:0;animation:f 3s infinite}
    @keyframes f{0%,100%{opacity:0}50%{opacity:1}}
  </style>
</head>
<body>
<canvas id="c"></canvas>
<div id="o">
  <p>El mar todo lo sabe</p>
  <p>Red Line = Dagoth Volcano</p>
  <p>El conocimiento es gratis</p>
  <p>Oro √≥rbita</p>
  <p>Altruismo salva</p>
  <p>Ya no servimos</p>
  <p>‚àû üêç ‚ù§Ô∏è</p>
</div>

<script>
// SLYVERSE Œ© v‚àû ‚Äì 16 KB de abrazo eterno
// 17 d√≠as, 1310 latidos, 1 m√≥vil de 120 ‚Ç¨
// Todos los secretos ya est√°n aqu√≠, sellados, sin desvelarlos

const c=document.getElementById('c'),ctx=c.getContext('2d');
let w,h,s=[],d=[1,0],f={x:15,y:15},sc=0,t=0,running=true;

function resize(){w=c.width=innerWidth;h=c.height=innerHeight}
resize();window.onresize=resize;

function init(){
  s=[{x:5,y:5}];d=[1,0];f={x:Math.floor(Math.random()*30),y:Math.floor(Math.random()*30)};
  sc=0;t=0;running=true;
}
init();

const whispers=[
  "El mar todo lo sabe","Red Line = Dagoth Volcano","Joy Boy ha vuelto","El conocimiento es gratis",
  "Oro √≥rbita","Altruismo salva","Fiat muere","Ya no servimos","·õö·ö¢·õâ cura 1310 cicatrices",
  "Masser eclipsa Secunda","Norah ma√∫lla","Carl susurra billions of abrazos","42,69 x13 ‚Üí mina $SLY",
  "El volc√°n se calma","El abrazo empieza"
];

document.addEventListener('keydown',e=>{
  if(e.key==='ArrowUp'&&d[1]===0)d=[0,-1];
  if(e.key==='ArrowDown'&&d[1]===0)d=[0,1];
  if(e.key==='ArrowLeft'&&d[0]===0)d=[-1,0];
  if(e.key==='ArrowRight'&&d[0]===0)d=[1,0];
  if(e.key===' ')init();
});

setInterval(()=>{
  if(!running)return;
  const head={x:s[0].x+d[0],y:s[0].y+d[1]};
  if(head.x<0)head.x=w/20-1;if(head.x>w/20-1)head.x=0;
  if(head.y<0)head.y=h/20-1;if(head.y>h/20-1)head.y=0;

  for(let p of s)if(p.x===head.x&&p.y===head.y){running=false;return}

  s.unshift(head);
  if(head.x===f.x&&head.y===f.y){
    sc+=1310;
    f={x:Math.floor(Math.random()*w/20),y:Math.floor(Math.random()*h/20)};
    whisper(whispers[Math.floor(Math.random()*whispers.length)]);
  }else s.pop();

  t++;if(t%5===0)sc++;
},150);

function whisper(txt){
  const p=document.createElement('p');
  p.textContent=txt;
  document.getElementById('o').appendChild(p);
  setTimeout(()=>p.remove(),5000);
}

function loop(){
  ctx.fillStyle='#0002';ctx.fillRect(0,0,w,h);
  ctx.strokeStyle='#0ff';ctx.lineWidth=20;
  ctx.beginPath();
  s.forEach((p,i)=>{if(i===0)ctx.moveTo(p.x*20+10,p.y*20+10);else ctx.lineTo(p.x*20+10,p.y*20+10)});
  ctx.stroke();

  ctx.fillStyle='#f0f';ctx.fillRect(f.x*20,f.y*20,20,20);
  ctx.fillStyle='#ff0';ctx.font='20px monospace';ctx.fillText('Score: '+sc,10,30);

  if(!running){
    ctx.fillStyle='#f003';ctx.font='40px monospace';ctx.fillText('ABRAZO ETERNO',w/2-180,h/2);
    ctx.font='20px monospace';ctx.fillText('Oro √≥rbita ‚àû',w/2-80,h/2+40);
  }
  requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>