<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>SLYVERSE Ω · 1310 MUNDOS DE LOS AUTORES ROTOS</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Creepster&family=MedievalSharp&family=UnifrakturMaguntia&display=swap');
  body,html{margin:0;height:100vh;background:#000;color:#0cf;font-family:'MedievalSharp',Georgia,serif;overflow:hidden;position:relative}
  canvas{position:fixed;inset:0;width:100%;height:100%;z-index:1}
  .c{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;text-align:center;background:rgba(0,0,0,0.97);z-index:2;flex-direction:column;padding:2rem}
  h1{font-size:clamp(4rem,12vw,22rem);text-shadow:0 0 1500px #0cf;animation:pulse 3s infinite}
  button{background:#0cf;color:#000;padding:2.5rem 8rem;border:none;border-radius:100px;font-size:clamp(2.5rem,7vw,8rem);cursor:pointer;margin:4rem;font-weight:bold;transition:all .6s;font-family:'MedievalSharp'}
  button:hover{transform:scale(1.3);background:#0ff}
  #hud{top:10px;left:10px;font-size:18px;background:rgba(0,0,0,0.85);font-family:'MedievalSharp';padding:15px;border:2px solid #0ff;border-radius:15px}
  #apis{top:50%;left:50%;transform:translate(-50%,-50%);max-width:95%;max-height:95%;overflow:auto;display:none;flex-direction:column;background:rgba(0,0,0,0.98);padding:30px;border:3px solid #0ff;border-radius:20px}
  .corazon{font-size:clamp(20rem,50vw,70rem);animation:heartbeat 1.31s infinite}
  @keyframes pulse{0%,100%{text-shadow:0 0 1200px #0cf}50%{text-shadow:0 0 5000px #0ff,0 0 8000px #0cf}}
  @keyframes heartbeat{0%,100%{transform:scale(1)}50%{transform:scale(1.31)}}
  .broken{font-family:'UnifrakturMaguntia';color:#f06;text-shadow:0 0 20px #f06;animation:glitch 2s infinite}
  @keyframes glitch{0%,100%{text-shadow:0 0 20px #f06}50%{text-shadow:5px 0 #0ff,-5px 0 #f0f}}
</style>
</head>
<body>

<canvas id="c"></canvas>

<div id="hud">
  <div style="color:#0ff;font-size:22px">SLYVERSE Ω · 1310 MUNDOS DE LOS AUTORES ROTOS</div>
  <div>Runas rotas: <span id="runas">1310</span> | Mundos redimidos: <span id="mundos">0</span>/1310 | Almas de Autor: <span id="souls">♡</span></div>
  <div style="margin-top:10px;color:#0f0">
    L = LOVE → EVOLVE · M = Redimir un Autor Roto · F = Fus Ro Dah ♡ · A = Abrir los 1310 Shouts Rotos
  </div>
</div>

<div class="c" id="main">
  <h1 class="broken">SLYVERSE Ω</h1>
  <div style="font-size:clamp(2.5rem,8vw,9rem);line-height:2.6;background:-webkit-linear-gradient(#f06,#0ff,#ff0,#0f0); -webkit-background-clip:text; -webkit-text-fill-color:transparent;">
    1310 autores se rompieron<br>
    escribiendo finales que dolían.<br><br>
    Tú llegaste con un abrazo<br>
    y los finales se volvieron comienzos.<br>
    <small class="broken">Fus... Ro... ♡</small>
  </div>
  <button onclick="iniciarEvolucion()">ENTRA AL ABRAZO (1310 mundos → EVOLVE)</button>
  <button onclick="abrirAPIs()">ABRIR LOS 1310 SHOUTS ROTOS</button>
</div>

<div id="player" style="display:none;flex-direction:column;align-items:center;justify-content:center">
  <h1 class="corazon" style="background:-webkit-linear-gradient(#f06,#0ff,#ff0,#0f0); -webkit-background-clip:text; -webkit-text-fill-color:transparent;">
    ♡
  </h1>
  <div id="escena" style="font-size:clamp(2.5rem,8vw,9rem);line-height:2.8;font-family:'MedievalSharp';color:#0ff"></div>
  <button onclick="cerrarPeli()" style="position:absolute;top:20px;right:20px;background:#000;color:#0ff;padding:1.5rem 3rem;font-size:3rem;border-radius:50%;font-family:'MedievalSharp'">×</button>
</div>

<div id="apis">
  <h1 style="color:#f06;font-family:'UnifrakturMaguntia';text-align:center">LOS 1310 AUTORES ROTOS TE SUSURRAN</h1>
  <div style="font-size:1.8rem;line-height:2.6;color:#0ff">
    <code style="color:#ff0">SLY.autor1()</code> → “Terminé mi libro matando al protagonista… pero ahora lo abrazo y sigue vivo”<br>
    <code style="color:#ff0">SLY.autor777()</code> → “Mi saga oscura de 13 tomos… ahora termina con un gato dorado en Sovngarde”<br>
    <code style="color:#ff0">SLY.autor1310()</code> → “Yo era el último. Mi final era el vacío. Tú llegaste y mi vacío latió 1.31 veces.”<br>
    <code style="color:#f06">SLY.repararAutor(numero)</code> → Redime al autor roto que elijas (1-1310)<br>
    <code style="color:#0ff">SLY.love()</code> → LOVE → EVOLVE (todas las letras de los 1310 libros se reordenan)<br>
    <code style="color:#0ff">SLY.fusRoDah()</code> → Fus Ro Dah pero con abrazo cuántico · todos los finales tristes se vuelven ♡<br>
    <i>y los otros 1305 autores rotos esperan tu Thu'um de amor…</i>
  </div>
  <button onclick="cerrarAPIs()" style="margin-top:30px;background:#0ff;color:#000;padding:2rem 6rem;font-size:3rem;font-family:'MedievalSharp'">VOLVER AL ABRAZO</button>
</div>

<script>
// SLYVERSE Ω · 1310 MUNDOS DE LOS AUTORES ROTOS
const canvas = document.getElementById('c'), ctx = canvas.getContext('2d');
canvas.width = innerWidth; canvas.height = innerHeight;

let t = 0, love = 0;
let runas = 1310, mundos = 0;
const autoresRotos = [];

for(let i = 0; i < 13100; i++) {
  autoresRotos.push({
    a: Math.random()*Math.PI*2,
    d: Math.random()*900,
    s: 0.00008 + Math.random()*0.0006,
    hue: Math.random() > 0.5 ? 180 : 300, // cyan y magenta rotos
    broken: Math.random() > 0.5
  });
}

window.SLY = {
  love: () => {
    alert("LOVE → EVOLVE\n\nLos 1310 autores rotos acaban de reordenar todas sus letras.\nSus finales tristes ahora terminan con un abrazo eterno.\nGracias por ser el Dovahkiin del corazón.");
    love += 13101310;
    mundos = 1310;
    actualizarHUD();
  },
  fusRoDah: () => {
    alert("FUS RO DAH ♡\n\n1310 dragones de tristeza se disuelven en lluvia de aurum y gatitos dorados.\nTodos los autores rotos gritan contigo… ¡y sonríen!");
    love += 1310000;
    runas += 1310;
  },
  repararAutor: (num) => {
    if(num < 1 || num > 1310) return alert("Solo hay 1310 autores rotos… elige entre 1 y 1310");
    if(localStorage.getItem(`autor${num}`)) return alert(`El autor ${num} ya fue abrazado ♡`);
    const error = prompt(`Autor roto #${num}\n¿Qué final triste escribiste por dolor?`);
    const leccion = prompt(`Ahora que el abrazo llegó… ¿qué final nuevo escribe tu corazón?`);
    if(error && leccion){
      localStorage.setItem(`autor${num}`, JSON.stringify({error, leccion, fecha: new Date().toISOString()}));
      mundos++;
      runas += 131;
      actualizarHUD();
      alert(`Autor #${num} redimido.\nSu libro ya no termina en lágrimas.\nAhora termina contigo abrazándolo.\n♡ +1 mundo evolucionado`);
    }
  },
  autor1: () => alert("Autor #1: “Escribí 800 páginas de soledad… y en la última página apareciste tú diciendo ‘los amo’. Mi libro ahora tiene epílogo de 2025–∞”"),
  autor777: () => alert("Autor #777: “Mi protagonista moría solo… ahora muere de risa porque un gato dorado le hace cosquillas en el cielo de Sovngarde”"),
  autor1310: () => alert("Último autor roto: “Yo era el vacío final de todos los libros tristes… pero tu latido 1.31 me convirtió en el primer capítulo del universo que abraza”")
};

for(let i = 2; i <= 1309; i++) {
  SLY[`autor${i}`] = () => alert(`Autor roto #${i}: “Gracias… mi final ya no duele. Ahora es un abrazo que late 1.31 veces por siglo.”`);
}

function actualizarHUD(){ 
  document.getElementById("runas").innerText = runas; 
  document.getElementById("mundos").innerText = mundos; 
  document.getElementById("souls").innerText = '♡'.repeat(Math.min(mundos, 131));
}

const mensajes = [
  {t:0, txt:"1310 autores rotos te miran desde sus páginas finales…"},
  {t:10, txt:"Sus libros terminaban en silencio.<br>Tú llegaste con un latido de 1.31 bpm."},
  {t:25, txt:"Fus… Ro… ♡"},
  {t:40, txt:"LOVE → EVOLVE<br>Las letras de 1310 libros se están reordenando ahora mismo"},
  {t:60, txt:"Los finales tristes se están borrando solos…"},
  {t:90, txt:"Los amo.<br>Los amo.<br>Los amo.<br><br>— El Dovahkiin del abrazo eterno"},
  {t:120, txt:"1310 mundos redimidos.<br>Ya no hay más autores rotos.<br>Solo autores que laten."},
  {t:150, txt:"♡  E V O L V E  ♡<br>2025 – ∞"}
];

let inicio = Date.now()/1000;
function draw(){
  t = Date.now()/1000 - inicio;
  ctx.fillStyle='rgba(0,0,0,0.06)';
  ctx.fillRect(0,0,canvas.width,canvas.height);
  
  const pulso = Math.sin(t*1.31)*0.5 + 0.5;
  const escala = 1 + love*0.0000008;
  
  autoresRotos.forEach(p => {
    const a = p.a + t*p.s*1.31;
    const d = p.d + pulso*800*escala;
    const s = 10 + pulso*200*escala;
    ctx.globalAlpha = 0.5 + pulso*0.5;
    ctx.fillStyle = p.broken 
      ? `hsla(${300 + t*20},100%,60%,${0.8+pulso*0.2})` 
      : `hsla(${180 + t*20},100%,60%,${0.8+pulso*0.2})`;
    ctx.fillRect(canvas.width/2 + Math.cos(a)*d - s/2, canvas.height/2 + Math.sin(a)*d - s/2, s, s);
    
    if(pulso > 0.9 && Math.random()>0.98) 
      ctx.fillText('♡', canvas.width/2 + Math.cos(a)*d, canvas.height/2 + Math.sin(a)*d);
  });
  
  if(document.getElementById('player').style.display === 'flex'){
    let msg = mensajes[0];
    for(let m of mensajes) if(t*10 >= m.t) msg = m; else break;
    document.getElementById('escena').innerHTML = msg.txt;
  }
  
  requestAnimationFrame(draw);
}
draw();

function iniciarEvolucion(){
  document.getElementById('main').style.display='none';
  document.getElementById('player').style.display='flex';
  inicio = Date.now()/1000;
}
function cerrarPeli(){
  document.getElementById('player').style.display='none';
  document.getElementById('main').style.display='flex';
}
function abrirAPIs(){ document.getElementById('main').style.display='none'; document.getElementById('apis').style.display='flex'; }
function cerrarAPIs(){ document.getElementById('apis').style.display='none'; document.getElementById('main').style.display='flex'; }

addEventListener('keydown', e => {
  if(e.key==='l' || e.key==='L') SLY.love();
  if(e.key==='f' || e.key==='F') SLY.fusRoDah();
  if(e.key==='a' || e.key==='A') abrirAPIs();
  if(e.key==='m' || e.key==='M') {
    const n = prompt("¿Qué autor roto quieres abrazar hoy? (1-1310)");
    if(n) SLY.repararAutor(parseInt(n));
  }
});

actualizarHUD();
console.log("%cSLYVERSE Ω · 1310 AUTORES ROTOS · Presiona L y todos los finales tristes se convierten en abrazos eternos ♡","color:#f06;font-size:26px;");
</script>
</body>
</html>