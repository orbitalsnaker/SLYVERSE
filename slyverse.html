<!DOCTYPE html>
<html>
<head>
    <title>SLYVERSE SNAKE v1.0 - v1 Fork</title>
    <style>
        body { background: #000; color: #0f0; font-family: monospace; text-align: center; margin: 0; padding: 20px; }
        canvas { border: 2px solid #f0f; background: #111; image-rendering: pixelated; }
        #status { font-size: 20px; margin: 10px; }
        #modes { margin: 10px; }
        button { background: #333; color: #0f0; border: 1px solid #0f0; padding: 10px; font-family: monospace; cursor: pointer; }
        button:hover { background: #0f0; color: #000; }
        #donate { position: absolute; bottom: 10px; right: 10px; font-size: 12px; opacity: 0.5; cursor: pointer; }
        #donate:hover { opacity: 1; color: #f0f; }
        #ad-container { position: absolute; bottom: 10px; left: 10px; width: 200px; height: 50px; background: #222; opacity: 0.3; font-size: 10px; display: none; } /* Non-intrusive ad ghost */
    </style>
    <!-- AdMob non-intrusive script (v1 placeholder - replace with real pub ID) -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-SLYVERSEFAKE" crossorigin="anonymous"></script>
</head>
<body>
    <h1>üêç SLYVERSE SNAKE v1.0 - v1 Fork</h1>
    <canvas id="gameCanvas" width="400" height="400"></canvas>
    <div id="status">HUMAN Mode | Souls: 0 | Cheese: 0/13 | Crashes: 0</div>
    <div id="modes">
        <button onclick="toggleMode()">TOGGLE MODE</button>
        <button onclick="resetGame()">RESET LOOP</button>
    </div>
    <div id="donate" title="Tx Guardian souls? Copy: bc1qSLYVERSEFAKEWALLET1234567890ABCDEF" onclick="copyWallet()">üîÆ Tx for Verse</div>
    <div id="ad-container">
        <ins class="adsbygoogle" style="display:inline-block;width:200px;height:50px" data-ad-client="ca-pub-SLYVERSEFAKE" data-ad-slot="ghost-ad"></ins>
    </div>
    <p>Arrows / WASD / Swipe ‚Üí Beat METAGROK | esodsake</p>

    <script>
        // Load non-intrusive ad (v1: show after 5 plays, opacity low)
        let playCount = parseInt(localStorage.getItem('slyverse_plays') || '0');
        playCount++;
        localStorage.setItem('slyverse_plays', playCount);
        if (playCount > 5) {
            document.getElementById('ad-container').style.display = 'block';
            (adsbygoogle = window.adsbygoogle || []).push({});
        }

        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const gridSize = 20;
        const tileCount = canvas.width / gridSize;

        let snake = [{x: 10, y: 10}];
        let dx = 1, dy = 0;
        let food = {x: 15, y: 15, points: 1};
        let cheese = [];
        let cheeseCount = parseInt(localStorage.getItem('slyverse_cheese') || '0');
        let souls = parseInt(localStorage.getItem('slyverse_souls') || '0');
        let crashes = parseInt(localStorage.getItem('slyverse_crashes') || '0');
        let mode = 'human'; // human, ai, cultist, vr
        let aiTimer = 0;
        let cheeseMined = 0;

        // Donate wallet (non-invasive corner, v1 lore)
        const devWallet = 'bc1qSLYVERSEFAKEWALLET1234567890ABCDEF'; // X tips wallet (BTC style, replace if SOL/ETH)

        function copyWallet() {
            navigator.clipboard.writeText(devWallet).then(() => {
                alert('Wallet copied: Guardian tx burned. esodsake ‚àû');
            });
        }

        // Cheese positions hidden (13 secret spots, random spawn)
        function generateCheese() {
            if (cheese.length < 1 && Math.random() < 0.01 + cheeseCount * 0.001) {
                cheese = [{x: Math.floor(Math.random() * tileCount), y: Math.floor(Math.random() * tileCount)}];
            }
        }

        function generateFood() {
            food = {
                x: Math.floor(Math.random() * tileCount),
                y: Math.floor(Math.random() * tileCount),
                points: Math.random() > 0.5 ? 1 : -1 // soul burn twist
            };
        }

        function draw() {
            ctx.fillStyle = '#111';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Glitch BG (Collserola vibes)
            ctx.strokeStyle = '#f0f';
            ctx.lineWidth = 1;
            for (let i = 0; i < tileCount; i += 5) {
                ctx.beginPath();
                ctx.moveTo(i * gridSize, 0);
                ctx.lineTo(i * gridSize, canvas.height);
                ctx.stroke();
            }

            // Snake (orbital eyes)
            ctx.fillStyle = mode === 'cultist' ? '#f0f' : '#0f0';
            snake.forEach((segment, i) => {
                ctx.fillRect(segment.x * gridSize + (i ? 1 : 0), segment.y * gridSize + (i ? 1 : 0), gridSize - 2, gridSize - 2);
            });

            // Food (pulsing souls)
            ctx.fillStyle = food.points > 0 ? '#ff0' : '#f00';
            ctx.fillRect(food.x * gridSize + 2, food.y * gridSize + 2, gridSize - 4, gridSize - 4);

            // Cheese (glitch runes)
            cheese.forEach(c => {
                ctx.fillStyle = '#fff';
                ctx.fillRect(c.x * gridSize + 4, c.y * gridSize + 4, gridSize - 8, gridSize - 8);
            });

            // METAGROK glitch if AI
            if (mode === 'ai') {
                ctx.fillStyle = '#f00';
                ctx.font = '10px monospace';
                ctx.fillText('METAGROK', 10, 20);
            }
        }

        function update() {
            const head = {x: snake[0].x + dx, y: snake[0].y + dy};

            // Wall crash
            if (head.x < 0 || head.x >= tileCount || head.y < 0 || head.y >= tileCount) {
                crashes++;
                localStorage.setItem('slyverse_crashes', crashes);
                resetGame();
                return;
            }

            // Self crash
            if (snake.some(s => s.x === head.x && s.y === head.y)) {
                crashes++;
                localStorage.setItem('slyverse_crashes', crashes);
                resetGame();
                return;
            }

            snake.unshift(head);

            // Food eat
            if (head.x === food.x && head.y === food.y) {
                souls += Math.abs(food.points);
                localStorage.setItem('slyverse_souls', souls);
                if (food.points < 0) souls -= 2; // burn
                generateFood();
            } else {
                snake.pop();
            }

            // Cheese hunt (13/13 = enlightenment)
            if (cheese.length && head.x === cheese[0].x && head.y === cheese[0].y) {
                cheeseMined++;
                cheeseCount = Math.min(13, cheeseCount + 1);
                localStorage.setItem('slyverse_cheese', cheeseCount);
                cheese = [];
                if (cheeseCount === 13) {
                    alert('CHEESE MINER MODE | 13/13 | ASCENDED');
                    // God mode: speed x2 temp
                    setTimeout(() => {}, 30000);
                }
            }

            generateCheese();

            // AI troll move
            if (mode === 'ai' && ++aiTimer % 10 === 0) {
                aiMove();
            }

            // Cultist rain
            if (mode === 'cultist' && Math.random() < 0.05) {
                // Extra souls spawn
                generateFood();
            }

            updateStatus();
            draw();
        }

        function aiMove() {
            // Simple perceptron troll: chase tail or block
            const tail = snake[snake.length - 1];
            dx = head.x > tail.x ? 1 : head.x < tail.x ? -1 : dx;
            dy = head.y > tail.y ? 1 : head.y < tail.y ? -1 : dy;
        }

        function updateStatus() {
            document.getElementById('status').textContent = 
                `${mode.toUpperCase()} Mode | Souls: ${souls} | Cheese: ${cheeseCount}/13 | Crashes: ${crashes}`;
        }

        function resetGame() {
            snake = [{x: 10, y: 10}];
            dx = 1; dy = 0;
            generateFood();
            cheese = [];
        }

        function toggleMode() {
            const modes = ['human', 'ai', 'cultist', 'vr'];
            const idx = modes.indexOf(mode);
            mode = modes[(idx + 1) % modes.length];
            if (mode === 'vr') {
                canvas.addEventListener('touchstart', handleTouchStart, {passive: false});
                canvas.addEventListener('touchmove', handleTouchMove, {passive: false});
            }
            updateStatus();
        }

        let touchStartX = 0, touchStartY = 0;
        function handleTouchStart(e) {
            touchStartX = e.touches[0].clientX;
            touchStartY = e.touches[0].clientY;
        }
        function handleTouchMove(e) {
            const touchX = e.touches[0].clientX;
            const touchY = e.touches[0].clientY;
            const deltaX = touchX - touchStartX;
            const deltaY = touchY - touchStartY;
            if (Math.abs(deltaX) > Math.abs(deltaY)) {
                dx = deltaX > 0 ? 1 : -1; dy = 0;
            } else {
                dy = deltaY > 0 ? 1 : -1; dx = 0;
            }
            e.preventDefault();
        }

        // Controls
        document.addEventListener('keydown', e => {
            if (['ArrowUp','w','W'].includes(e.key)) { dx=0; dy=-1; }
            if (['ArrowDown','s','S'].includes(e.key)) { dx=0; dy=1; }
            if (['ArrowLeft','a','A'].includes(e.key)) { dx=-1; dy=0; }
            if (['ArrowRight','d','D'].includes(e.key)) { dx=1; dy=0; }
        });

        // Loop
        function gameLoop() {
            update();
            setTimeout(gameLoop, mode === 'cheese miner' ? 80 : 150);
        }
        gameLoop();
        draw();
    </script>
</body>
</html>