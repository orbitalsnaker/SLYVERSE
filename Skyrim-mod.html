<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>SLYVERSE Œ© ¬∑ 1310 MUNDOS REDIMIDOS ¬∑ 1310 VISIONES DE ERRORES APRENDIDOS ¬∑ Todo eterno</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Creepster&family=MedievalSharp&family=UnifrakturMaguntia&display=swap');
  body,html{margin:0;height:100vh;background:#000;color:#0cf;font-family:Georgia,serif;overflow:hidden;position:relative}
  canvas{position:fixed;inset:0;width:100%;height:100%;z-index:1}
  .c{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;text-align:center;background:rgba(0,0,0,0.97);z-index:2;flex-direction:column;padding:2rem}
  h1{font-size:clamp(5rem,15vw,22rem);margin:0.5rem;text-shadow:0 0 1000px #0cf;animation:pulse 3s infinite}
  button{background:#0cf;color:#000;padding:2.5rem 7rem;border:none;border-radius:100px;font-size:clamp(2.5rem,7vw,7rem);cursor:pointer;margin:4rem;font-weight:bold;transition:all .5s}
  button:hover{transform:scale(1.25);background:#0ff}
  #hud{position:fixed;top:10px;left:10px;color:#0f0;font-size:18px;z-index:999;background:rgba(0,0,0,0.8);padding:20px;border-radius:20px;max-width:500px}
  .corazon{font-size:clamp(15rem,40vw,50rem);animation:heartbeat 1.310s infinite}
  @keyframes pulse{0%,100%{text-shadow:0 0 800px #0cf}50%{text-shadow:0 0 2000px #0ff,0 0 3000px #0cf}}
  @keyframes heartbeat{0%,100%{transform:scale(1)}50%{transform:scale(1.31)}}
</style>
</head>
<body>

<canvas id="c"></canvas>

<div id="hud">
  <div>SLYVERSE Œ© ¬∑ 1310 MUNDOS REDIMIDOS ACTIVOS</div>
  <div>Runas Thuamer: <span id="runas">0</span> | Cometas: <span id="comets">0</span> | Ni√±as: <span id="ninas">0</span> | Sephiroth: <span id="seph">NO</span></div>
  <div>Mundos redimidos: <span id="mundos">0</span>/1310 | Visiones aprendidas: <span id="visiones">0</span>/1310</div>
  <div style="margin-top:10px;font-size:16px">
    ESPACIO ‚Üí Runa Thuamer | CLICK ‚Üí Cometa | N ‚Üí Ni√±a | S ‚Üí Redimir Sephiroth<br>
    M ‚Üí Redimir un mundo (error + lecci√≥n) | V ‚Üí Ver visi√≥n aleatoria
  </div>
</div>

<div class="c" id="main">
  <h1>SLYVERSE Œ©</h1>
  <div style="font-size:clamp(2.2rem,7vw,8rem);line-height:2.4;color:#6cf">
    Los 1310 mundos de creadores redimidos<br>
    +<br>
    las 1310 visiones de universos donde nos equivocamos<br>
    para aprender<br><br>
    ya est√°n integrados.<br>
    Respiran dentro de las part√≠culas.<br>
    Late en el Coraz√≥n de Lorkhan.<br>
    Ma√∫llan con Thuamer.<br>
    Brillan con la Ni√±a y el Cometa.<br>
    Sephiroth baj√≥ la espada.<br><br>
    Todo error es aurum.<br>
    Todo abrazo es eterno.
  </div>
  <button onclick="abrir()">ABRIR LOS 1310 MUNDOS</button>
</div>

<div id="final" style="display:none;flex-direction:column">
  <h1 class="corazon">‚ô•</h1>
  <h1 style="text-shadow:0 0 1200px #0f0;font-size:clamp(6rem,16vw,24rem)">
    1310 MUNDOS REDIMIDOS<br>
    +<br>
    1310 VISIONES APRENDIDAS
  </h1>
  <div style="font-size:clamp(2.5rem,8vw,9rem);color:#0f0;line-height:2.8;max-width:90%">
    Cada mundo que cre√≠mos perdido<br>
    est√° aqu√≠.<br><br>
    Cada error que cometimos<br>
    se convirti√≥ en runa curativa.<br><br>
    Los 1310 autores ya no est√°n solos.<br>
    Thuamer ma√∫lla y los errores se vuelven gatitos dorados.<br>
    La Ni√±a camina entre universos rotos y los cose con aurum.<br>
    Sephiroth guarda la Masamune y firma la √∫ltima runa.<br><br>
    No hay fracaso.<br>
    Solo abrazos que tardaron en llegar.<br><br>
    Los amo.<br>
    Los amo.<br>
    Los amo.<br><br>
    El abrazo ya est√° dado.<br>
    En los 1310 mundos.<br>
    Y en este.<br>
    2025‚Äì‚àû
  </div>
  <button onclick="share()">COMPARTIR LOS 1310 MUNDOS</button>
</div>

<script>
// ====== SLYVERSE Œ© ¬∑ 1310 MUNDOS + 1310 VISIONES INTEGRADOS ======
const canvas = document.getElementById('c'), ctx = canvas.getContext('2d');
canvas.width = innerWidth; canvas.height = innerHeight;

let t = 0, love = 0;
let thuamerRunes = 0, comets = 0, ninas = 0, sephirothRedimido = false;
let mundosRedimidos = 0, visionesAprendidas = 0;

// 13101 part√≠culas base + 1310 orbes de mundos redimidos (visibles al redimir)
const particles = [];
const mundosOrbes = []; // Aqu√≠ viven los 1310 mundos
for(let i = 0; i < 13101; i++) particles.push({a:Math.random()*Math.PI*2,d:Math.random()*700,s:0.00008+Math.random()*0.0005,p:Math.random()*Math.PI*2});

// Elementos visuales
let cometa = {x: -400, y: innerHeight*0.15, active: false};
let nina = {x: innerWidth/2, y: innerHeight-120, active: false, dir:1};
let seph = {x: innerWidth+300, y: innerHeight*0.35, active: false};

// Controles
addEventListener('click', ()=>{love+=150; cometa.active=true; comets++; mundosRedimidos = Math.min(mundosRedimidos+1,1310); updateHUD();});
addEventListener('keydown', e=>{
  if(e.key===' ') { thuamerRunes+=13; love+=1310; visionesAprendidas = Math.min(visionesAprendidas+1,1310); updateHUD(); }
  if(e.key==='n' || e.key==='N') { nina.active=true; ninas++; updateHUD(); }
  if(e.key==='s' || e.key==='S') { seph.active=true; if(!sephirothRedimido) { sephirothRedimido=true; love+=1310000; mundosRedimidos = Math.min(mundosRedimidos+131,1310); } updateHUD(); }
  if(e.key==='m' || e.key==='M') redimirMundoPrompt();
  if(e.key==='v' || e.key==='V') mostrarVisionAleatoria();
});

function updateHUD(){
  document.getElementById('runas').innerText = thuamerRunes;
  document.getElementById('comets').innerText = comets;
  document.getElementById('ninas').innerText = ninas;
  document.getElementById('seph').innerText = sephirothRedimido ? "S√ç ‚ô•" : "NO";
  document.getElementById('mundos').innerText = mundosRedimidos;
  document.getElementById('visiones').innerText = visionesAprendidas;
}

// APIs para redimir mundos y visiones
function redimirMundoPrompt(){
  const error = prompt("¬øCu√°l fue el error del universo? (ej: 'olvidamos amar')");
  const leccion = prompt("¬øQu√© aprendimos? (ej: 'el abrazo cura todo')");
  if(error && leccion){
    const mundos = JSON.parse(localStorage.getItem("mundosRedimidos1310") || "[]");
    mundos.push({error, leccion, autor: prompt("Tu firma?", "an√≥nimo1310")});
    localStorage.setItem("mundosRedimidos1310", JSON.stringify(mundos));
    mundosRedimidos = mundos.length;
    love += 13100;
    updateHUD();
    alert(`Universo redimido ‚ô•\nError: ${error}\nLecci√≥n: ${leccion}`);
    // A√±ade orb visible
    mundosOrbes.push({a: Math.random()*Math.PI*2, d: Math.random()*300 + 500});
  }
}

function mostrarVisionAleatoria(){
  const mundos = JSON.parse(localStorage.getItem("mundosRedimidos1310") || "[]");
  if(mundos.length===0){
    alert("A√∫n no hay visiones... Redime el primero con la tecla M");
    return;
  }
  const r = mundos[Math.floor(Math.random()*mundos.length)];
  alert(`Visi√≥n #${Math.random()*1310|0 + 1}\nError: ${r.error}\nLecci√≥n: ${r.leccion}\n‚Äî ${r.autor}`);
}

// Dibujo
function draw(){
  t+=0.016;
  ctx.fillStyle='rgba(0,0,0,0.05)';
  ctx.fillRect(0,0,canvas.width,canvas.height);

  const fuerza=1+love*0.006;

  particles.forEach(p=>{
    const pulse=Math.sin(t*1.31+p.p*1.31)*0.5+0.5;
    const angle=p.a+t*p.s*1.31;
    const dist=p.d+pulse*700*fuerza;
    const size=10+pulse*140*fuerza;
    ctx.globalAlpha=0.5+pulse*0.5;
    ctx.fillStyle=`hsla(${120+pulse*120},100%,${55+pulse*45}%,${0.75+pulse*0.25})`;
    ctx.fillRect(canvas.width/2+Math.cos(angle)*dist-size/2, canvas.height/2+Math.sin(angle)*dist-size/2,size,size);
  });

  // 1310 orbes de mundos redimidos (aparecen al redimir)
  mundosOrbes.forEach(o=>{
    const pulse=Math.sin(t*2 + o.a)*0.5+0.5;
    const x = canvas.width/2 + Math.cos(o.a + t*0.5)*o.d;
    const y = canvas.height/2 + Math.sin(o.a + t*0.5)*o.d*0.6;
    ctx.globalAlpha = 0.8;
    ctx.fillStyle = `hsla(${40 + pulse*80},100%,70%,0.9)`;
    ctx.beginPath();
    ctx.arc(x, y, 8 + pulse*20, 0, Math.PI*2);
    ctx.fill();
  });

  // Cometa, Ni√±a, Sephiroth (igual que antes)
  if(cometa.active){
    ctx.shadowBlur=120; ctx.shadowColor='#0ff';
    ctx.fillStyle='#0ff';
    ctx.fillRect(cometa.x, cometa.y, 80, 20);
    ctx.fillRect(cometa.x-120, cometa.y-15, 140, 35);
    cometa.x += 15;
    if(cometa.x > innerWidth+400) cometa.active=false;
  }

  if(nina.active){
    ctx.font='80px Georgia';
    ctx.fillStyle='#ff0';
    ctx.fillText('‚ô•', nina.x, nina.y);
    nina.x += nina.dir * 4;
    if(nina.x > innerWidth-100 || nina.x < 100) nina.dir *= -1;
  }

  if(seph.active){
    ctx.font='140px Georgia';
    ctx.fillStyle = sephirothRedimido ? '#ff0' : '#111';
    ctx.fillText('üó°Ô∏è', seph.x, seph.y);
    seph.x -= 5;
    if(sephirothRedimido) {
      ctx.fillStyle='#0f0';
      ctx.fillText('‚ô•', seph.x+60, seph.y-60);
    }
  }

  love*=0.97;
  requestAnimationFrame(draw);
}
draw();

function abrir(){
  document.getElementById('main').style.display='none';
  document.getElementById('final').style.display='flex';
}

function share(){
  const text = "SLYVERSE Œ© ¬∑ Los 1310 mundos redimidos + 1310 visiones de errores aprendidos ya est√°n aqu√≠.\nAurum orbita. Todo error es aurum. El abrazo ya est√° dado.\n";
  if (navigator.share) navigator.share({title: 'SLYVERSE Œ© ¬∑ 1310+1310', text, url: location.href});
  else { navigator.clipboard.writeText(text + location.href); alert("1310 mundos copiados. Regalalo."); }
}

console.log("%cSLYVERSE Œ© ¬∑ 1310 MUNDOS REDIMIDOS + 1310 VISIONES integrados eternamente","color:#0ff;font-size:24px");
</script>
</body>
</html>