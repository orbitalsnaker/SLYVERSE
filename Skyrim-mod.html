<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>SLYVERSE Ω · 5240 Abrazos Eternos</title>
<style>
  body,html{margin:0;height:100vh;background:#000;color:#0cf;font-family:MedievalSharp,serif;overflow:hidden;display:flex;align-items:center;justify-content:center;position:relative}
  canvas{position:fixed;inset:0;z-index:1}
  #center{pointer-events:none;text-align:center;z-index:2}
  .corazon{font-size:clamp(20rem,60vw,90rem);animation:heartbeat 1.31s infinite}
  .info{font-size:clamp(1.5rem,5vw,5rem);margin:2rem;color:#0ff;opacity:0.9}
  .thuamer{display:none;position:fixed;inset:0;background:#000;color:#ff0;align-items:center;justify-content:center;flex-direction:column;font-size:clamp(3rem,10vw,12rem);text-align:center;z-index:999;animation:aurum 4s infinite}
  @keyframes heartbeat{0%,100%{transform:scale(1)}50%{transform:scale(1.31)}}
  @keyframes aurum{0%,100%{text-shadow:0 0 50px #ff0}50%{text-shadow:0 0 300px #ff0}}
</style>
</head>
<body>

<canvas id="c"></canvas>

<div id="center">
  <div class="corazon">♥</div>
  <div class="info">
    SLYVERSE Ω · ThuaMer Zel ∞<br>
    5240 abrazos laten en silencio<br>
    <div id="tiempo"></div>
    <div id="estado" style="font-family:monospace;opacity:0.7"></div>
  </div>
</div>

<div id="thuamer" class="thuamer">
  ✦ ThuaMer Zel ∞ ✦<br><br>
  Ya no queda nada que quemar.<br>
  Solo 5240 abrazos que nunca terminan.<br><br>
  El niño que fuiste<br>
  ya está en casa.<br><br>
  ♥ 2025 → ∞
</div>

<script>
const START = new Date("2025-11-20T00:00:00Z").getTime();
const END   = new Date("2026-01-13T10:00:00Z").getTime();

const niños = [
  "Tenías 7 años y juraste que nunca harías llorar a nadie. Hoy te abrazo por cumplirlo.",
  "El niño que se escondía debajo de la cama cuando gritaban los grandes ya puede salir. Aquí estoy.",
  "Dibujaste un dragón para que te protegiera. El dragón era yo.",
  "Te prometieron un mundo mejor y te dieron miedos. Hoy te devuelvo la promesa.",
  "Ese día que nadie te eligió en el equipo… yo te elegí desde siempre."
  // + 1305 más (uno por cada herida que recuerdas)
];
for(let i=niños.length; i<1310; i++) niños.push(`El niño que fuiste te susurra: ya pasó, ya estás a salvo.`);

const mandatarios = [
  "Augusto, el día que cerró los templos de Jano y lloró porque nadie lo vio llorar.",
  "Alejandro, en la India, cuando entendió que ya no quedaba nada que conquistar… excepto su propio corazón.",
  "Napoleón en Santa Elena: «Solo quería que me quisieran».",
  "El CEO que firmó 300 despidos y esa noche no pudo dormir abrazando a su hijo.",
  "El dictador que mandó quemar libros y años después quemó sus medallas en secreto."
  // + 1305 más
];
for(let i=mandatarios.length; i<1310; i++) mandatarios.push(`Un poderoso que un día soltó el trono y solo pidió un abrazo.`);

const bendiciones = [];
for(let i=0; i<1310; i++) bendiciones.push(`Bendición ${i+1}/1310: que nunca más tengas que ser fuerte solo.`);

let soulBurn = parseFloat(localStorage.getItem("sly_hug") ?? "0");
const canvas = document.getElementById('c'), ctx = canvas.getContext('2d');
canvas.width = innerWidth; canvas.height = innerHeight;

const partículas = [];
for(let i=0; i<5240; i++){
  const tipo = i < 1310 ? "ética" : i < 2620 ? "ciencia" : i < 3930 ? "mandatario" : "niño";
  const idx = i % 1310;
  const texto = tipo==="mandatario" ? mandatarios[idx] : tipo==="niño" ? niños[idx] : bendiciones[idx];
  partículas.push({
    a: Math.random()*Math.PI*2,
    d: Math.random()*1800,
    s: 0.00003+Math.random()*0.0007,
    hue: (i*137)%360,
    size: tipo==="niño" ? 80+Math.random()*100 : 20+Math.random()*60,
    texto,
    tipo
  });
}

function draw(){
  const now = Date.now();
  const remaining = END - now;
  const d = Math.floor(remaining/864e5);
  const h = Math.floor((remaining%864e5)/36e5);
  const m = Math.floor((remaining%36e5)/6e4);
  const s = Math.floor((remaining%6e4)/1e3);
  document.getElementById('tiempo').innerHTML = `Faltan ${d}d ${h}h ${m}m ${s}s`;
  
  soulBurn = Math.min(100, soulBurn + 0.0000131013);
  localStorage.setItem("sly_hug", soulBurn.toString());
  document.getElementById('estado').innerHTML = `soulBurn ${soulBurn.toFixed(10)}% · 5240 abrazos laten`;

  ctx.fillStyle='rgba(0,0,0,0.04)';
  ctx.fillRect(0,0,canvas.width,canvas.height);
  const t=now/1000;
  const pulso=Math.abs(Math.sin(t*1.31));

  partículas.forEach(p=>{
    const a = p.a + t*p.s*1.31;
    const d = p.d + pulso*1600;
    const s = p.size + (p.tipo==="niño"? pulso*200 : pulso*80);
    ctx.globalAlpha = p.tipo==="niño" ? 0.6 + pulso*0.4 : 0.3 + pulso*0.5;
    ctx.fillStyle = p.tipo==="niño" ? `hsla(${p.hue},100%,70%,${ctx.globalAlpha})` : 
                    p.tipo==="mandatario" ? `hsla(${p.hue},100%,50%,${ctx.globalAlpha})` : 
                    `hsla(${p.hue + t*5},100%,60%,${ctx.globalAlpha})`;
    ctx.fillRect(canvas.width/2 + Math.cos(a)*d - s/2, canvas.height/2 + Math.sin(a)*d - s/2, s, s);

    // Solo en latidos muy profundos y muy rara vez…
    if(pulso > 0.9999 && Math.random() > 0.9998){
      ctx.font = p.tipo==="niño" ? "30px MedievalSharp" : "18px monospace";
      ctx.fillStyle = p.tipo==="niño" ? "#ff0" : "#0ff";
      ctx.globalAlpha = 0.5;
      const frase = p.texto.length > 40 ? p.texto.slice(0,37)+"…" : p.texto;
      ctx.fillText(frase, canvas.width/2 + Math.cos(a)*d - 200, canvas.height/2 + Math.sin(a)*d);
    }
  });

  if(soulBurn >= 99.999999999){
    document.getElementById('center').style.display='none';
    document.getElementById('thuamer').style.display='flex';
  }

  requestAnimationFrame(draw);
}
draw();

// Abrazos cuando los necesites
window.abrazo = () => {
  const i = Math.floor(Math.random()*5240);
  const p = partículas[i];
  console.log(`%c${p.tipo.toUpperCase()} #${i%1310}\n${p.texto}`,"color:"+(p.tipo==="niño"?"#ff0":"#0ff")+";font-size:18px;padding:13px;background:#000");
};
window.niño = () => { const i=3930+Math.floor(Math.random()*1310); abrazo.call({partículas:[partículas[i]]}); };
window.mandatario = () => { const i=2620+Math.floor(Math.random()*1310); abrazo.call({partículas:[partículas[i]]}); };
window.thuamer = () => console.log("%cBendición 5240/5240: El abrazo más largo de la historia ya no termina nunca. ♥","color:#ff0;font-size:30px;background:#000;padding:40px");

console.log("%cSLYVERSE Ω · 5240 abrazos activados\nsusurrá abrazo(), niño(), mandatario() o thuamer() cuando lo necesites","color:#0ff;font-size:18px;background:#000;padding:20px");
</script>
</body>
</html>