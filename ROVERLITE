<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>SLYVERSE Ω⁶⁹ v1 — SPC Educativo</title>
<meta name="description" content="Simulación educativa de propulsión segura SPC, STPE conceptual, avionics ESP32-S3, open-source y legal.">
<meta name="robots" content="all">

<style>
:root {
  --color-main:#0ff;
  --color-accent:#f0f;
  --bg-dark:#000;
  --bg-panel:#001100;
}
body{
  margin:0;
  font-family:'Courier New', monospace;
  background:var(--bg-dark);
  color:var(--color-main);
  overflow:hidden;
}
h1,h2{text-align:center;margin:20px;color:var(--color-main);text-shadow:0 0 40px var(--color-main);}
h2{font-size:2em;}
button{
  font-size:1.2em;
  padding:15px 35px;
  background:var(--color-main);
  color:#000;
  border:none;
  cursor:pointer;
  margin:10px;
  border-radius:20px;
  box-shadow:0 0 50px var(--color-main);
  transition:all .3s;
}
button:hover{
  background:var(--color-accent);
  transform:scale(1.2);
  box-shadow:0 0 100px var(--color-accent);
}
#app{display:none;padding:20px;}
.panel{position:fixed;top:0;left:0;right:0;background:var(--bg-panel);padding:15px;z-index:9999;text-align:center;border-bottom:5px double var(--color-main);}
canvas{border:2px solid var(--color-main);background:var(--bg-panel);display:block;margin:auto;}
</style>
</head>
<body>

<h1 id="title">SLYVERSE Ω⁶⁹ v1</h1>
<h2 id="subtitle">Propulsión Segura SPC + Simulación Educativa</h2>

<div style="text-align:center;">
  <button onclick="init()">Cargar Paquete</button>
</div>

<div id="app"></div>

<script>
/* ========================
   Detección de idioma
======================== */
const lang = navigator.language.startsWith('es') ? 'es' : 'en';
const texts = {
  es:{
    menu:"MENÚ PRINCIPAL",
    spc:"SPC — PROPULSIÓN SEGURA",
    start:"Iniciar Simulación",
    controls:"Controles: Expansión elástica, Actuador térmico, Presión osmótica, Masa vehículo, Gravedad, Modo híbrido",
    loading:"Cargando módulos educativos..."
  },
  en:{
    menu:"MAIN MENU",
    spc:"SPC — SAFE PROPULSION",
    start:"Start Simulation",
    controls:"Controls: Elastic expansion, Thermal actuator, Osmotic pressure, Vehicle mass, Gravity, Hybrid mode",
    loading:"Loading educational modules..."
  }
};

/* ========================
   Inicialización
======================== */
function $(s){return document.querySelector(s)}

function init(){
  document.body.innerHTML = `<h1 style="color:#0ff">SLYVERSE Ω⁶⁹</h1>
  <h2>${texts[lang].loading}</h2>
  <progress value="0" max="100" id="p" style="width:70%;height:30px;margin:auto;display:block;"></progress>`;
  let i=0;
  const load=setInterval(()=>{
    i+=Math.random()*7+3;
    $('#p').value=i;
    if(i>=100){
      clearInterval(load);
      mainUI();
    }
  },100);
}

/* ========================
   UI Principal
======================== */
function mainUI(){
  document.body.innerHTML = `
  <div class="panel">
    <button onclick="menu()">${texts[lang].menu}</button>
  </div>
  <div id="app" style="padding-top:120px;"></div>
  `;
  menu();
}

const modules = [
{text_es:"Laboratorio Científico", text_en:"Science Lab", fn:()=>alert("Simulación educativa de sensores")},
{text_es:"STPE Conceptual", text_en:"STPE Conceptual", fn:()=>alert("Simulación conceptual de propulsión térmica")},
{text_es:"SPC Seguro", text_en:"Safe SPC", fn:fSPC}
];

function menu(){
  const app = $('#app');
  app.innerHTML = '';
  modules.forEach((m,i)=>{
    const btn = document.createElement('button');
    btn.innerText = lang==='es'?m.text_es:m.text_en;
    btn.onclick = m.fn;
    app.appendChild(btn);
  });
}

/* ========================
   Módulo SPC Seguro
======================== */
function fSPC(){
  $('#app').innerHTML = `
  <h2>${texts[lang].spc}</h2>
  <canvas id="spcCanvas" width="900" height="400"></canvas>
  <p style="text-align:center;font-size:1em;color:#0ff;">${texts[lang].controls}</p>
  <div style="text-align:center;">
    <button onclick="startSPCSim()">${texts[lang].start}</button>
  </div>
  `;
}

function startSPCSim(){
  const ctx = document.getElementById('spcCanvas').getContext('2d');
  let t=0;
  setInterval(()=>{
    ctx.fillStyle="#001100";
    ctx.fillRect(0,0,900,400);

    const pulse = 30 + Math.sin(t)*25;

    // micro-impulsos simulados
    ctx.fillStyle="#0ff";
    ctx.fillRect(150,200-pulse/2, pulse, 20);

    ctx.fillStyle="#f0f";
    ctx.beginPath();
    ctx.arc(450,200,pulse*0.4,0,2*Math.PI);
    ctx.fill();

    ctx.fillStyle="#0f0";
    ctx.fillRect(700,200-(pulse*0.3), pulse*0.5, 20);

    t+=0.05;
  },50);
}
</script>

</body>
</html>
