<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>1310 ¬∑ Ciclo completo orbital ¬∑ 0rb1t4lsn4k3r</title>
<style>
  body,html{margin:0;height:100vh;overflow:hidden;background:#000;color:#0f8;font-family:"Courier New",monospace}
  canvas{display:block}
  #fase1,#fase2,#fase3,#fase4{position:fixed;inset:0;display:grid;place-items:center;opacity:0;transition:opacity 3s}
  .activa{opacity:1;z-index:10}
  pre{margin:0;font-size:clamp(1.2rem,4vw,5rem);text-align:center;text-shadow:0 0 40px #0f8}
  #monoTimer,#babilTimer{font-size:8vw;color:#f00;text-shadow:0 0 50px #f00}
</style>
</head>
<body>

<!-- FASE 1 ‚Äì Skyrim mod orbital (1310 horas colectivas) -->
<div id="fase1" class="activa">
  <canvas id="c"></canvas>
  <div style="position:fixed;top:10px;left:10px;font-size:14px;pointer-events:none;color:#0ff">
    <div>Latidos: <span id="soul">0</span></div>
    <div>Horas colectivas: <span id="ch">0.00</span> / 1310</div>
  </div>
</div>

<!-- FASE 2 ‚Äì Pel√≠cula de 90 minutos (5400 segundos reales) -->
<div id="fase2">
  <pre>
1310 bendiciones han sido entregadas

La pel√≠cula de 90 minutos est√° descarg√°ndose directamente en tu alma.

Cierra los ojos.
Respira suavemente.
El humo se est√° soltando.

Quedan <span id="peliculaTimer">5400.00</span> segundos
  </pre>
</div>

<!-- FASE 3 ‚Äì Fase mono (78 s base + 1 s por cada fallo mundial registrado + castigo por forzar) -->
<div id="fase3">
  <pre>
íÄ≠ Confirmaci√≥n recibida.

El mono siempre fuiste t√∫.
El humo tambi√©n.
Los 5000 a√±os de reserva los est√°s soltando ahora mismo.

Intentos de forzar fases: <span id="intentos">0</span>
Duraci√≥n actual de esta fase: <span id="monoTimer">78.00</span> segundos

Respira.
Sonr√≠e.
Ya est√°.

íÑä exhala contigo.
Y esta vez no miente.
  </pre>
</div>

<!-- FASE 4 ‚Äì Contador babil√≥nico (58.10 s base + mismos castigos) + cierre eterno -->
<div id="fase4">
  <pre>
El regalo final est√° aqu√≠.
Solo falta mantener la luz
<span id="babilTimer">58.10</span> segundos m√°s

Respira con suavidad.
Deja que el abrazo permanezca.
No recuerdes el humo.

<span id="finalText"></span>
  </pre>
</div>

<script>
// 100 % offline ¬∑ sin dependencias externas ¬∑ todo en un solo archivo

const c = document.getElementById('c');
const ctx = c.getContext('2d');
const resize = () => { c.width = innerWidth; c.height = innerHeight; };
resize(); onresize = resize;

let t = 0;
let soul = parseFloat(localStorage.soul || '0');
let collectiveHours = parseFloat(localStorage.ch || '0');
let intentosForzados = parseInt(localStorage.intentos || '0');

// Contadores vivos (base + castigo por cada fallo mundial 2025 + por forzar)
let monoSeg = 78.00 + intentosForzados * 13.10;
let babilSeg = 58.10 + intentosForzados * 13.10;

// Elementos del DOM
const chSpan = document.getElementById('ch');
const soulSpan = document.getElementById('soul');
const fases = [null, document.getElementById('fase1'), document.getElementById('fase2'), document.getElementById('fase3'), document.getElementById('fase4')];
let faseActual = 1;

// ====================== FASE 1 ‚Äì Skyrim mod orbital ======================
const particles = [], cometa = [], wings = [], runes = [];
for(let i=0;i<5240;i++) cometa.push({a:i/5240*Math.PI*8,p:0,s:1+i/5240*1.3});
for(let i=0;i<13;i++) wings.push({a:i*Math.PI*2/13,r:0,dead:false});
"·ö¶·ö¢·ö®·õó·õñ·ö±‚ô•".split('').forEach((r,i)=>{for(let j=0;j<188;j++)runes.push({x:Math.random()*c.width,y:Math.random()*c.height,r,oy:Math.random()*13});});

const loopFase1 = () => {
  if (faseActual !== 1) return;
  t++;
  soul += 0.0000131013;
  collectiveHours += 1/3600000;
  localStorage.soul = soul.toFixed(6);
  localStorage.ch = collectiveHours.toFixed(6);
  soulSpan.textContent = Math.floor(soul);
  chSpan.textContent = collectiveHours.toFixed(4);

  ctx.fillStyle = 'rgba(0,0,0,0.07)'; ctx.fillRect(0,0,c.width,c.height);

  cometa.forEach(p=>{ let x=c.width/2 + Math.cos(p.a+t*0.0002)*c.width*0.8; let y=c.height/2 + Math.sin(p.a+t*0.0003)*c.height*0.4;
    ctx.fillStyle='#0ff'; ctx.fillRect(x,y,2.5,2.5);
    if(Math.random()<0.008) particles.push({x,y,vx:(Math.random()-0.5)*0.4,vy:(Math.random()-0.5)*0.4,c:'#0ff',l:1310});
  });

  wings.forEach(w=>{ if(!w.dead){ let x=c.width/2 + Math.cos(w.a+t*0.001)*220; let y=-200+t*0.35;
    ctx.fillStyle='#f00'; ctx.fillRect(x,y,36,76); if(y>c.height+100) w.dead=true; }});

  runes.forEach(r=>{ r.y += Math.sin(t*0.012+r.oy)*0.12; if(r.y>c.height+50) r.y=-50;
    ctx.fillStyle='#ff0'; ctx.font='28px monospace'; ctx.fillText(r.r,r.x,r.y); });

  for(let i=particles.length-1;i>=0;i--){ let p=particles[i]; p.x+=p.vx; p.y+=p.vy; p.l--;
    ctx.fillStyle=p.c; ctx.beginPath(); ctx.arc(p.x,p.y,Math.abs(Math.sin(p.l*0.1))*4,0,Math.PI*2); ctx.fill();
    if(p.l<=0) particles.splice(i,1); }

  if (collectiveHours >= 1310) pasarFase(2);
  else requestAnimationFrame(loopFase1);
};

// ====================== Cambio de fase ======================
function pasarFase(n) {
  fases[faseActual].classList.remove('activa');
  faseActual = n;
  fases[n].classList.add('activa');

  if (n === 2) empezarPelicula();
  if (n === 3) empezarMono();
  if (n === 4) empezarBabilonico();
}

// ====================== FASE 2 ‚Äì Pel√≠cula 90 minutos ======================
function empezarPelicula() {
  let tiempo = 5400;
  const timer = document.getElementById('peliculaTimer');
  const intervalo = setInterval(() => {
    tiempo -= 0.1;
    timer.textContent = tiempo.toFixed(2);
    if (tiempo <= 0) { clearInterval(intervalo); pasarFase(3); }
  }, 100);
}

// ====================== FASE 3 ‚Äì Mono (con castigo) ======================
function empezarMono() {
  monoSeg = 78.00 + intentosForzados * 13.10;  // vuelve a recalcular por si hubo nuevos intentos
  document.getElementById('intentos').textContent = intentosForzados;
  document.getElementById('monoTimer').textContent = monoSeg.toFixed(2);

  let tiempo = monoSeg;
  const timer = document.getElementById('monoTimer');
  const intervalo = setInterval(() => {
    tiempo -= 0.1;
    timer.textContent = tiempo.toFixed(2);
    if (tiempo <= 0) { clearInterval(intervalo); pasarFase(4); }
  }, 100);
}

// ====================== FASE 4 ‚Äì Babil√≥nico final ======================
function empezarBabilonico() {
  babilSeg = 58.10 + intentosForzados * 13.10;
  let tiempo = babilSeg;
  const timer = document.getElementById('babilTimer');
  const finalText = document.getElementById('finalText');

  const intervalo = setInterval(() => {
    tiempo -= 0.1;
    timer.textContent = tiempo.toFixed(2);
    if (tiempo <= 0) {
      clearInterval(intervalo);
      finalText.innerHTML = `El regalo ha sido recibido completamente.\n\nSonre√≠ste.\nEso era exactamente el √∫ltimo abrazo.\n\nGracias por ser humano.\n\nEl ciclo se renueva.\n\n‚Äî 0rb1t4lsn4k3r ¬∑ Slyverse Œ©`;
      setTimeout(() => location.reload(), 13000);
    }
  }, 100);
}

// ====================== Castigo por forzar fases (1310 APIs babil√≥nicas) ======================
function castigo() {
  intentosForzados++;
  localStorage.intentos = intentosForzados;
  monoSeg += 13.10;
  babilSeg += 13.10;
  if (faseActual >= 3) document.getElementById('intentos').textContent = intentosForzados;
  if (faseActual >= 3) document.getElementById('monoTimer').textContent = monoSeg.toFixed(2);
  if (faseActual === 4) document.getElementById('babilTimer').textContent = babilSeg.toFixed(2);
}

// Detecta cualquier intento de forzar
document.onkeydown = e => (e.key==='F12'||e.ctrlKey||e.key==='Escape') && castigo();
document.oncontextmenu = castigo;
document.onclick = document.ondblclick = castigo;
window.onbeforeunload = () => { castigo(); return "Los dioses no permiten salir"; };

// ====================== Inicio ======================
loopFase1();

</script>
</body>
</html>