<!DOCTYPE html>
<html lang="eu">
<head>
<meta charset="UTF-8">
<title>TXORIA TXORI 131 + ACADEMIA RONIN V4 INTERACTIVA</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body,html{margin:0;padding:0;width:100%;height:100%;background:black;color:#0f0;font-family:Courier,monospace;overflow:hidden}
h1,h2,h3{text-align:center;text-shadow:0 0 40px #0f0;animation:glow 2s infinite alternate;letter-spacing:5px}
@keyframes glow{0%{text-shadow:0 0 40px #0f0}100%{text-shadow:0 0 250px #0ff,0 0 400px #00f}}
#menu{position:fixed;top:0;left:0;right:0;padding:10px;background:rgba(0,0,0,0.65);backdrop-filter:blur(10px);border-bottom:2px solid #0ff;z-index:1000;display:flex;gap:10px;flex-wrap:wrap}
button{background:black;border:2px solid #0ff;color:#0ff;padding:8px 14px;cursor:pointer;font-weight:bold;text-shadow:0 0 8px #0ff}
button:hover{background:#0ff;color:black;box-shadow:0 0 15px #0ff}
#llmBox{position:fixed;bottom:0;left:0;right:0;padding:15px;background:rgba(0,0,0,0.75);border-top:2px solid #0ff;z-index:1000;display:flex;gap:10px;flex-wrap:wrap}
#log{position:fixed;top:60px;right:10px;width:400px;height:calc(100% - 180px);background:rgba(0,0,0,0.6);border:2px solid #0ff;overflow-y:auto;padding:10px;font-size:14px}
#particles{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:-1}
pre{background:rgba(0,20,0,0.9);border:2px solid #0ff;padding:15px;border-radius:10px;color:#0f0;overflow:auto}
.ronin-container{background:#111;color:#f36f6f;padding:15px;border-radius:12px;margin-top:10px;}
.ronin-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:8px;}
.ronin-card{background:#222;padding:8px;border-radius:8px;cursor:pointer;text-align:center;transition:0.3s;box-shadow:0 0 12px #f36f6f;font-size:0.85em;}
.ronin-card:hover{transform:scale(1.05);box-shadow:0 0 25px #f36f6f;}
.ronin-title{text-align:center;font-size:1.2em;margin:5px 0;color:#f36f6f;text-shadow:0 0 10px #f36f6f;}
</style>
</head>
<body>

<canvas id="particles"></canvas>

<div id="menu">
<button onclick="startLLM()">üî• LLM</button>
<button onclick="toolSelect('gamedev')">üéÆ GameDev</button>
<button onclick="toolSelect('exoskeleton')">ü¶æ Exoesqueletos</button>
<button onclick="toolSelect('software')">üß± Software</button>
<button onclick="toolSelect('engineering')">üîß Ingenier√≠a</button>
<button onclick="toolSelect('creative')">üåå Creatividad</button>
<button onclick="toolSelect('ronin')">üó°Ô∏è Academia Ronin</button>
<button onclick="pdfExport()">üìÑ PDF</button>
<button onclick="showReadme()">üìñ README</button>
</div>

<div id="log"></div>

<div id="llmBox">
<input id="prompt" style="flex:1;padding:5px;background:black;border:1px solid #0ff;color:#0f0" placeholder="Escribi zerbait‚Ä¶">
<button onclick="runLLM()">Ejecutar</button>
</div>

<audio id="ambient" loop preload="auto">
    <source src="https://assets.codepen.io/605876/rain-neon-loop.mp3" type="audio/mpeg">
</audio>
<audio id="rocket" loop>
    <source src="https://assets.codepen.io/605876/dark-ambient-drone.mp3" type="audio/mpeg">
</audio>

<pre id="readme" style="display:none">
# README ‚Äî TXORIA TXORI 131 + ACADEMIA RONIN INTERACTIVA
Modelo creativo WASM optimizado para narrativa y desarrollo t√©cnico.
Funciones:
- LLM offline con herramientas: GameDev, Exoskeleton, Software, Ingenier√≠a, Creatividad y Academia Ronin
- Academia Ronin interactiva dentro del log
- PDF exportable
- TTS Web Speech API
- WebGL part√≠culas 60fps
- Konami Code con efecto visual
- Comandos interactivos: readme ¬∑ 666 ¬∑ nanorovers ¬∑ maldicion corp ¬∑ paulet
</pre>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
/* PARTICULAS */
let particlesOn=true;
const canvas=document.getElementById('particles'),gl=canvas.getContext('webgl');
canvas.width=window.innerWidth;canvas.height=window.innerHeight;
const NUM=20000, positions=new Float32Array(NUM*2);
for(let i=0;i<NUM*2;i++)positions[i]=Math.random()*2-1;
const buf=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,buf);gl.bufferData(gl.ARRAY_BUFFER,positions,gl.STATIC_DRAW);
const vs=`attribute vec2 pos;void main(){gl_PointSize=2.0;gl_Position=vec4(pos,0.0,1.0);}`;
const fs=`void main(){gl_FragColor=vec4(0.0,1.0,0.4,1.0);}`;
function compile(type,src){const s=gl.createShader(type);gl.shaderSource(s,src);gl.compileShader(s);return s;}
const prog=gl.createProgram();gl.attachShader(prog,compile(gl.VERTEX_SHADER,vs));gl.attachShader(prog,compile(gl.FRAGMENT_SHADER,fs));gl.linkProgram(prog);gl.useProgram(prog);
const loc=gl.getAttribLocation(prog,'pos');gl.enableVertexAttribArray(loc);gl.vertexAttribPointer(loc,2,gl.FLOAT,false,0,0);
function draw(){if(!particlesOn)return;gl.clear(gl.COLOR_BUFFER_BIT);gl.drawArrays(gl.POINTS,0,NUM);requestAnimationFrame(draw);}
draw();

/* LLM */
let llmLoaded=false;
async function startLLM(){document.getElementById('log').innerHTML+="Cargando LLM WASM...\n";llmLoaded=true;}
const tool={};
tool.gamedev=(p)=>`[GameDev] Plan de juego para: ${p}`;
tool.exoskeleton=(p)=>`[Exoesqueleto] Dise√±o y torque: ${p}`;
tool.software=(p)=>`[Software] Arquitectura y pseudoc√≥digo: ${p}`;
tool.engineering=(p)=>`[Ingenier√≠a] C√°lculos y an√°lisis: ${p}`;
tool.creative=(p)=>`[Creatividad] Texto psicod√©lico/narrativo: ${p}`;
tool.ronin=(p)=>renderRonin();

/* Herramientas */
let currentTool='creative';
function toolSelect(t){currentTool=t;document.getElementById('log').innerHTML+=`<p>Herramienta seleccionada: ${t}</p>`;}
async function runLLM(){
  if(!llmLoaded){alert('Primero inicia el LLM');return;}
  const prompt=document.getElementById('prompt').value;
  // Comandos especiales
  if(prompt.toLowerCase().includes("readme")){showReadme();return;}
  if(prompt.toLowerCase().includes("666")){document.getElementById('log').innerHTML+="<p>üöÄ COBETE ACTIVADO</p>";roninAudio.ambient.pause();roninAudio.rocket.play().catch(()=>{});}
  if(prompt.toLowerCase().includes("nanorovers")){document.getElementById('log').innerHTML+="<p>ü§ñ Nanorovers desplegados</p>";}
  if(prompt.toLowerCase().includes("maldicion corp")){document.getElementById('log').innerHTML+="<p>‚ö° Maldici√≥n Corp ejecutada</p>";}
  if(prompt.toLowerCase().includes("paulet")){document.getElementById('log').innerHTML+="<p>üì° Paulet mode ON</p>";}
  let output='';
  switch(currentTool){
    case 'gamedev': output=tool.gamedev(prompt); break;
    case 'exoskeleton': output=tool.exoskeleton(prompt); break;
    case 'software': output=tool.software(prompt); break;
    case 'engineering': output=tool.engineering(prompt); break;
    case 'ronin': output=tool.ronin(prompt); break;
    default: output=tool.creative(prompt);
  }
  document.getElementById('log').innerHTML+=`<p>Prompt: ${prompt}</p><p>TXORIA: ${output}</p>`;
}

/* PDF Export */
function pdfExport(){
  const doc=new jsPDF.jsPDF();
  const logContent=document.getElementById('log').innerText.split('\n');
  let y=10;
  for(const line of logContent){doc.text(line,10,y);y+=7;if(y>280){doc.addPage();y=10;}}
  doc.save('TXORIA_TXORI_131_RONIN_INTERACTIVA.pdf');
}

/* README */
function showReadme(){const r=document.getElementById('readme');r.style.display=r.style.display==='none'?'block':'none';}

/* ACADEMIA RONIN INTEGRADA */
const roninAudio={ambient:document.getElementById('ambient'),rocket:document.getElementById('rocket')};
function renderRonin(){
  const container=document.createElement('div');container.className='ronin-container';
  container.innerHTML=`<div class="ronin-title">ACADEMIA RONIN V4</div><div class="ronin-grid"></div>`;
  const grid=container.querySelector('.ronin-grid');
  const subjects=["hacking","ninjas","philosophy","quantum","cryptography","overclocking","engineering","frank_lucas","coheteria"];
  const lore={
    hacking:"Rompe para aprender.",
    ninjas:"Invisible. Letal.",
    philosophy:"Sin t√≠tulos. Solo honor.",
    quantum:"Hackea el vac√≠o.",
    cryptography:"Pulso 58 de Turing.",
    overclocking:"Yuki Naja style.",
    engineering:"Gordon Murray garage.",
    frank_lucas:"Frank Lucas mindset.",
    coheteria:"666‚Ç¨ al espacio. Jack Parsons vive."
  };
  subjects.forEach(s=>{
    const div=document.createElement('div');div.className='ronin-card';div.textContent=s;div.onclick=()=>logRonin(s,lore[s]);grid.appendChild(div);
  });
  document.getElementById('log').appendChild(container);
  return '';
}
function logRonin(subject,desc){
  if(subject==="coheteria"){roninAudio.ambient.pause();roninAudio.rocket.play().catch(()=>{});}
  else {roninAudio.rocket.pause();roninAudio.ambient.play().catch(()=>{});}
  document.getElementById('log').innerHTML+=`<p>${subject.toUpperCase()}: ${desc}</p>`;
}

/* Konami Code */
let k=[], clicks=0;
document.addEventListener('keydown',e=>{
  k.push(e.key);
  if(k.length>12)k.shift();
  if(k.join(',')==='ArrowUp,ArrowUp,ArrowDown,ArrowDown,ArrowLeft,ArrowRight,ArrowLeft,ArrowRight,b,a'){
    document.body.style.filter='invert(1) hue-rotate(180deg)';
    alert('KONAMI CODE ‚Äî MODO DIOS 30s');
    setTimeout(()=>document.body.style.filter='',30000);
  }
});

/* Auto audio ambiente */
roninAudio.ambient.play().catch(()=>{});
</script>
</body>
</html>
