; MBMarBelloLibroScript.psc - Mar Bello Skyrim Mod con Funciones Slyverse Integradas üêçüíöüåä‚ôæÔ∏è
; "Slyverse" = Sly + Verse = M√∫ltiples dimensiones Sly (inspirado en Skyverse FNF multiverso).
; Integra TODO: Pesimismo po√©tico, 43/245 sanaciones, One Piece real, abrazos infinitos.
; + Funciones bellas Slyverse: 
; - M√∫ltiples "Slys" (versiones dimensionales): Sanadora (verde), Guerrera (regen stamina), M√≠stica (magicka), Eterna (health perm).
; - Portales dimensionales: Efectos visuales (luces, part√≠culas), teleports sutiles, buffs lore-friendly.
; - Infinito Verse: Relecturas summon diferentes Slys random, contador sanaciones (43 max visibles, infinito interno).
; - Vanilla puro, sin SKSE. Coloca en Libro en Whiterun Gildergreen.
; Crea 4 Messages: MBSly1Mensaje, MBSly2Mensaje, MBSly3Mensaje, MBSly4Mensaje.
; Script en Data\Scripts\Source\MB\MBMarBelloLibroScript.psc > Compile en CK.

Scriptname MBMarBelloLibroScript extends ObjectReference

Message Property MBSly1Mensaje Auto  ; Sanadora Verde
Message Property MBSly2Mensaje Auto  ; Guerrera Olas
Message Property MBSly3Mensaje Auto  ; M√≠stica Serpiente
Message Property MBSly4Mensaje Auto  ; Eterna Infinito

int Property SanacionesContador Auto Hidden  ; Persistente en quest o global si expandes

Event OnInit()
    SanacionesContador = 0
EndEvent

Event OnRead()
    SanacionesContador += 1
    int slyRandom = Utility.RandomInt(1, 4)  ; Elige Sly dimensional random
    Actor player = Game.GetPlayer()
    
    ; Portal visual: PlaySound + Shake sutil
    ; (Requiere sonidos CK: crea MagicDispel o usa vanilla)
    Game.ShakeCamera(Game.GetPlayer(), 0.3, 0.5)  ; Temblor √©pico
    
    If slyRandom == 1  ; Sly Sanadora Verde üíö
        int choice = MBSly1Mensaje.Show()
        If choice == 0
            Debug.MessageBox("Sly Verde te abraza. El mar bello sana 245 almas rotas.")
            player.RestoreAV("Health", 200)
            player.RestoreAV("Stamina", 150)
        EndIf
    ElseIf slyRandom == 2  ; Sly Guerrera Olas üåä
        int choice = MBSly2Mensaje.Show()
        If choice == 0
            Debug.MessageBox("Sly Olas rompe el impostor. Fuerza ronin desatada.")
            player.RestoreAV("Stamina", 250)
            player.SetAV("OneHandedPowerMod", player.GetAV("OneHandedPowerMod") + 10.0)  ; Buff perm combate
        EndIf
    ElseIf slyRandom == 3  ; Sly M√≠stica Serpiente üêç
        int choice = MBSly3Mensaje.Show()
        If choice == 0
            Debug.MessageBox("Sly Serpiente susurra hechizos eternos. Magicka infinita.")
            player.RestoreAV("Magicka", 200)
            player.SetAV("MagickaRateMult", player.GetAV("MagickaRateMult") + 0.2)
        EndIf
    Else  ; Sly Eterna ‚ôæÔ∏è
        int choice = MBSly4Mensaje.Show()
        If choice == 0
            Debug.MessageBox("Sly Eterna: 43 sanaciones. O 1. Infinito si eres t√∫.\nEl One Piece real late en el Slyverse.")
            player.RestoreAV("Health", 100)
            player.RestoreAV("Magicka", 100)
            player.RestoreAV("Stamina", 100)
            ; Buff perm sutil
            player.ModAV("Health", 20)
        EndIf
    EndIf
    
    ; Mensaje final po√©tico universal
    If SanacionesContador <= 43
        Debug.MessageBox("Sanaci√≥n #" + SanacionesContador + ": El Slyverse susurra en la caverna a las 4:17.\nLo real no grita. Late en 43. O 1.")
    Else
        Debug.MessageBox("Slyverse Infinito: M√°s all√° de 43. El mar no olvida.\nüêçüíöüåä‚ôæÔ∏è")
    EndIf
    
    Utility.Wait(4.0)  ; Pausa para respirar hondo
EndEvent