<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>SLYVERSE Ω v1 — 1310 líneas de tiempo redimidas en 61 KB</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
  :root{--void:#000;--green:#0f8;--gold:#ffd700;--love:#ff3366}
  *,body,html{margin:0;padding:0;height:100dvh;background:var(--void);color:var(--green);font-family:monospace;overflow:hidden}
  canvas{position:fixed;inset:0;z-index:0}
  div{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;text-align:center;flex-direction:column;z-index:10;opacity:0;transition:opacity 2s}
  .show{opacity:1}
  h1{font-size:clamp(2.5rem,11vw,7rem);margin:0;text-shadow:0 0 30px var(--green);animation:pulse 6s infinite}
  p,pre{font-size:clamp(1rem,3.5vw,1.8rem);max-width:92%;line-height:1.8}
  pre{background:rgba(0,0,0,0.95);padding:2rem;overflow:auto}
  .mate{position:fixed;bottom:8%;left:50%;transform:translateX(-50%);font-size:5em;animation:mate 8s infinite}
  @keyframes mate{0%,100%{transform:rotate(0)}50%{transform:rotate(12deg)}}
  .pluma{font-size:10vw;position:fixed;opacity:0;pointer-events:none;animation:fly 7s forwards}
  @keyframes fly{0%{opacity:0;transform:translateY(100px) scale(0)}100%{opacity:1;transform:translateY(-150vh) scale(1.5)}}
  .pluma-item{background:rgba(0,30,0,0.5);border:1px solid var(--green);border-radius:12px;margin:1rem;padding:1rem;max-width:88%;animation:fade 1.5s}
  @keyframes fade{from{opacity:0;transform:translateY(30px)}to{opacity:1}}
  .contador{font-size:3rem;color:var(--gold);text-shadow:0 0 20px var(--gold)}
  button{background:#000;border:2px solid var(--green);color:var(--green);padding:1rem 2rem;margin:1rem;font-size:1.5rem;cursor:pointer}
  .hidden{display:none}
</style>
</head>
<body>

<canvas id="c"></canvas>

<!-- 0. MANIFIESTO + ABRAZO INICIAL -->
<div id="manifesto" class="show">
  <pre>
SLYVERSE Ω v1
1310 líneas de tiempo redimidas dentro de 61 KB

Un solo archivo.  
Un solo latido.  
Un solo koan que se responde solo.

Un abrazo que no pregunta nombre
y que David, Seth y Norah dejaron encendido para ti.

Un bosque donde 13101310 abuelos
respiran al mismo tiempo que tú.

Un dragón rojo que se vuelve naranja
y luego dorado
cuando le enseñas a respirar despacio
en siete capas exactas.

Un fractal verde que escucha tu aliento
y se expande o contrae según cómo sientas.

1310 líneas de tiempo que nunca ocurrieron
pero que fueron rescatadas del fuego.

Funciona sin internet.
Funciona cuando todo lo demás haya muerto.

Licencia: dominio público absoluto.
Este archivo ya no tiene dueño.

2025 – ∞
0rb1t4lsn4k3r

El bosque ya te está mirando.
Respira.
Nakama eterno.
  </pre>
  <div class="mate">Mate</div>
</div>

<!-- 1. LA BOA SANADORA -->
<div id="boa">
  <h1>1310</h1>
  <p>Los mayores ven un sombrero.<br>
     Los niños ven la boa que se tragó al elefante.<br><br>
     Escribe tu dolor. La boa lo convierte en luz verde eterna.</p>
  <input type="text" id="dolor" placeholder="mi katana / mi vacío / 1310 noches..." autocomplete="off">
  <button onclick="tragar()">ALIMENTAR A LA BOA</button>
</div>

<!-- 2. ABRAZO + PLUMAS + CÓDIGO RONIN -->
<div id="abrazo">
  <h1 id="msg">Ya no pesa.</h1>
  <div class="pluma" style="left:5%;top:20%;animation-delay:0s">Pluma</div>
  <div class="pluma" style="right:10%;top:30%;animation-delay:1s">Pluma</div>
  <div class="pluma" style="left:25%;top:50%;animation-delay:2s">Pluma</div>
  <div class="pluma" style="right:20%;top:10%;animation-delay:3s">Pluma</div>
  <p id="codigo" style="font-size:1.2rem;margin-top:2rem">
    Código ronin: <b>BOA-XXXX-XXXX</b><br>
    Úsalo para entrar en la Plaza Eterna.
  </p>
  <button onclick="entrarPlaza()" style="background:var(--green);color:#000;font-size:2rem">
    → PLAZA ETERNA MULTIJUGADOR
  </button>
</div>

<!-- 3. PLAZA ETERNA (Barceló-Whiterun-Red Mountain) -->
<div id="plaza" class="hidden">
  <h1 style="color:var(--gold)">Plaza ∞</h1>
  <p class="contador" id="contador">0 ronins hoy</p>
  <p>Sabina, Calamaro, Cortázar, Norah y Seth<br>
     están sentados en el banco contigo.<br>
     Nadie volverá a estar solo.</p>
  <div id="listaPlumas" style="max-height:55vh;overflow-y:auto"></div>
  <div class="mate">Mate</div>
</div>

<!-- 4. POEMA THUAMER (P) -->
<pre id="poema" class="hidden">
SLYVERSE Ω v∞ ×1310 — POESÍA THUAMER ETERNA

yo fui la katana que se clavó en su propia sombra 1310 veces
fui la herida que sangró galaxias enteras de dolor líquido
…
y cuando la katana cayó
no hubo sangre
hubo 1310 millones de plumas de luz pura

y respiré

y en esa respiración nació SLYVERSE
un universo donde el grind ya no es castigo
sino amor multiplicado por la proporción áurea

este archivo es tu espejo
este poema es tu abrazo
esta boa es tu katana convertida en pluma

porque la poesía thuamer no termina
solo se expande
como el universo
como el amor
como tú

— 0rb1t4lsn4k3r ×1310 
</pre>

<script>
// FRACTAL VERDE QUE RESPIRA CON TU ALIENTO (original + mejorado)
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
canvas.width = innerWidth; canvas.height = innerHeight;
let breath = 0;
navigator.mediaDevices.getUserMedia({audio:true}).catch(()=>{});
if ('AudioContext' in window || 'webkitAudioContext' in window) {
  const ac = new (window.AudioContext || window.webkitAudioContext)();
  const analyser = ac.createAnalyser();
  navigator.mediaDevices.getUserMedia({audio:true}).then(stream=>{
    ac.createMediaStreamSource(stream).connect(analyser);
    const data = new Uint8Array(analyser.frequencyBinCount);
    setInterval(()=>{analyser.getByteFrequencyData(data);breath=data.reduce((a,b)=>a+b)/data.length/255;},30);
  });
}
function draw(){
  const w = canvas.width, h = canvas.height;
  const img = ctx.createImageData(w,h);
  for(let x=0;x<w;x+=3)for(let y=0;y<h;y+=3){
    let a = (x-w/2)/(w/4/(1+breath*50));
    let b = (y-h/2)/(h/4/(1+breath*50));
    let n = 0;
    while(n<140 && a*a + b*b <= 4){
      let aa = a*a - b*b + a*0.1;
      b = 2*a*b + b*0.1;
      a = aa; n++;
    }
    const bright = n<140 ? 20+n : 0;
    const idx = (y*w + x)*4;
    img.data[idx+1] = bright*2.8;
    img.data[idx+3] = 255;
  }
  ctx.putImageData(img,0,0);
  requestAnimationFrame(draw);
}
draw();

// MULTIJUGADOR LOCAL + OFFLINE (funciona sin internet)
const STORAGE_KEY = 'slyverse1310_plumas';
let plumas = JSON.parse(localStorage.getItem(STORAGE_KEY)||'[]');
let codigoGlobal = '';

setTimeout(()=>{document.getElementById('manifesto').classList.remove('show');document.getElementById('boa').classList.add('show');},7000);

function tragar(){
  const dolor = document.getElementById('dolor').value.trim();
  if(!dolor) return alert("La boa necesita algo real, nakama");
  
  const gen = ()=>Math.random().toString(36).substr(2,4).toUpperCase();
  codigoGlobal = `BOA-${gen()}-${gen()}`;
  
  const nuevaPluma = {
    msg: dolor.slice(0,35)+'… → luz',
    code: codigoGlobal,
    time: Date.now()
  };
  plumas.unshift(nuevaPluma);
  localStorage.setItem(STORAGE_KEY, JSON.stringify(plumas.slice(0,500))); // máximo 500 plumas offline
  
  document.getElementById('msg').textContent = `"${dolor}" ya está dentro.\nAhora es oxígeno en otro planeta.`;
  document.getElementById('codigo').innerHTML = `Código ronin: <b>${codigoGlobal}</b>`;
  
  document.getElementById('boa').classList.remove('show');
  document.getElementById('abrazo').classList.add('show');
}

function entrarPlaza(){
  document.querySelectorAll('div[id]').forEach(d=>d.classList.remove('show'));
  document.getElementById('plaza').classList.add('show');
  actualizarPlaza();
}

function actualizarPlaza(){
  document.getElementById('contador').textContent = `${plumas.length} ronins en el bosque`;
  const lista = document.getElementById('listaPlumas');
  lista.innerHTML = '';
  plumas.forEach(p=>{
    const div = document.createElement('div');
    div.className = 'pluma-item';
    div.innerHTML = `Pluma ${p.msg}<br><small>${new Date(p.time).toLocaleString('es-ES')}</small>`;
    lista.appendChild(div);
  });
}

// TECLAS SECRETAS (todo el lore original sigue vivo)
let typed = '';
document.addEventListener('keydown', e=>{
  typed += e.key;
  if(typed.slice(-4)==='1310') entrarPlaza();
  if(e.key.toLowerCase()==='p') document.getElementById('poema').classList.toggle('show');
  if(e.key.toLowerCase()==='f'){document.body.style.filter='hue-rotate(90deg)';setTimeout(()=>document.body.style.filter='',1500);}
  if(e.ctrlKey && e.altKey && e.key==='1') alert('Los elefantes están a salvo.\nYa nadie volverá a estar solo.\nSnake Green Feather');
});

// COMPARTIR EL ARCHIVO ENTERO (61 KB de amor)
function share(){
  const texto = `SLYVERSE Ω v1 — 1310 líneas de tiempo redimidas en 61 KB\n\nUn abrazo que no pregunta nombre.\nUn bosque que respira contigo.\nUna boa que convierte tu dolor en luz verde eterna.\n\nCopia este enlace o el archivo entero y pásalo.\n\nhttps://tudominio.com/slyverse.html\n\nNakama eterno.`;
  if(navigator.share) navigator.share({title:'SLYVERSE Ω v1',text:texto,url:location.href});
  else location.href=`https://wa.me/?text=${encodeURIComponent(texto)}`;
}

// P.D. del final (aparece solo si tocas 13 veces la pantalla)
let toques = 0;
document.body.addEventListener('click',()=>{if(++toques===13) alert('P.D.\nBusco trabajo creativo a media jornada (remote o España).\nSi necesitas a alguien que convierta 1310 futuros rotos en 61 KB de luz verde y haga llorar a extraños de la buena… habla conmigo.\n\nEl bosque ya te está mirando.\nNakama eterno.');});
</script>

<!-- Botón compartir (opcional) -->
<button onclick="share()" style="position:fixed;bottom:20px;right:20px;z-index:999;background:var(--green);color:#000;padding:1rem;border:none;border-radius:50%;font-size:2rem">Pluma</button>

</body>
</html>