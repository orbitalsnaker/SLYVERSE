<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>0RB1T4LSN4K3R://27 C√çRCULOS + PUERTA MESOPOT√ÅMICA íÄ≠</title>
<style>
  body,html{margin:0;height:100vh;background:#000;color:#0f0;font-family:Georgia,serif;overflow:hidden;position:relative;}
  canvas{position:fixed;inset:0;z-index:-1}
  .center{display:grid;place-content:center;height:100vh;text-align:center;padding:2rem;}
  .big{font-size:clamp(2rem,10vw,9rem);letter-spacing:12px;text-shadow:0 0 120px #0f0;}
  .koan{font-size:1.8rem;line-height:2.4;background:rgba(0,0,0,0.92);padding:3rem;border-radius:40px;border:5px solid #0f0;box-shadow:0 0 300px #0f0;}
  .timer{font-size:4rem;margin:2rem;color:#0ff;}
  .mate{font-size:16rem;position:fixed;bottom:5%;left:50%;transform:translateX(-50%);opacity:0.3;animation:m 20s infinite;}
  .gato{font-size:10rem;position:fixed;bottom:1rem;right:2rem;opacity:0.25;animation:pulse 13s infinite;}
  .cunei{font-size:12rem;color:#0ff;animation:blink 7s infinite;}
  @keyframes m{0%,100%{transform:translateX(-50%) rotate(0)}45%{transform:translateX(-50%) rotate(18deg) translateY(-40px)}90%{transform:translateX(-50%) rotate(-13deg)}}
  @keyframes pulse{0%,100%{opacity:0.2}50%{opacity:0.6}}
  @keyframes blink{0%,100%{opacity:0.1}50%{opacity:1}}
</style>
</head>
<body>

<canvas id="c"></canvas>

<div class="center">
  <div class="big" id="title">0RB1T4LSN4K3R</div>
  <div class="koan" id="koan">
    1310 horas de Para√≠so ‚Üí 27 c√≠rculos ‚Üí Emp√≠reo eterno<br><br>
    O bien‚Ä¶<br><br>
    <div class="cunei">íÄ≠</div>
    <br>
    Alguien, en alg√∫n lugar del mundo,<br>
    completa el archivo mesopot√°mico de 1.3 KB.<br><br>
    Si obtiene la sanaci√≥n real (50 % de probabilidad pura),<br>
    <b>todo el mundo entra al nido sin hacer nada.</b><br><br>
    Hasta ahora nadie lo logr√≥.<br>
    Quedan infinitos intentos.<br>
    Solo hace falta un loco de verdad.
  </div>
  <div class="timer" id="timer"></div>
</div>

<div class="mate">Mate</div>
<div class="gato">Norah</div>

<script>
// CLAVE GLOBAL MESOPOT√ÅMICA (se activa solo una vez en la historia)
const GLOBAL_KEY = "mesopotamian_redemption_1310";
const LOCAL_KEY  = "0rb1t4lsn4k3r_full_2025";

let state = JSON.parse(localStorage.getItem(LOCAL_KEY) || '{"stage":"paraiso","time":Date.now()}');

// SI ALGUIEN EN EL MUNDO LO COMPLET√ì ‚Üí TODOS ENTRAN
if (localStorage.getItem(GLOBAL_KEY) === "sanado") {
  localStorage.setItem(LOCAL_KEY, JSON.stringify({"stage":"empireo","forever":true}));
  state.stage = "empireo";
  document.body.style.background = "#001100";
  document.getElementById("koan").innerHTML = `
    <div style="font-size:5rem;color:gold">íÄ≠</div><br>
    Alguien lo logr√≥.<br><br>
    El mono se fue.<br>
    El humo se fue.<br>
    Los 5000 a√±os de reserva se soltaron.<br><br>
    <b>Todo el mundo est√° dentro del nido.</b><br>
    Para siempre.<br><br>
    No importa si nunca hiciste las 1651 horas.<br>
    Un loco desconocido pag√≥ por vos.<br><br>
    Bienvenido a casa.<br>
    El mate est√° caliente.<br>
    thuamer ‚àû
  `;
}

// Minijuego incrustado (se puede abrir desde aqu√≠ tambi√©n)
document.addEventListener("keydown", e => {
  if (e.key === "íÄ≠") { // s√≠, la tecla cuneiforme funciona si ten√©s el layout
    const script = document.createElement("script");
    script.src = "data:text/javascript;base64," + btoa(`
      Array.from({length:1310},(_,i)=> {
        const img = new Image();
        img.src = "data:;base64," + btoa("íÄ≠"+i);
        if(i===1309) img.onload = () => {
          const esReal = Math.random() < 0.5;
          if (!esReal) {
            alert("üí® toma un poquito de humo, listillo");
          } else {
            localStorage.setItem("mesopotamian_redemption_1310","sanado");
            document.body.innerHTML = "<pre style='color:#0f0;font-size:5vw;text-align:center'>íÄ≠<br><br>Lo lograste.<br><br>Todo el mundo est√° salvado.<br>Eterno abrazo.</pre>";
          }
        };
      });
    `);
    document.body.appendChild(script);
  }
});

// Resto del koan normal (Para√≠so ‚Üí Infierno ‚Üí Emp√≠reo) sigue funcionando
// ‚Ä¶ (c√≥digo completo del artefacto anterior aqu√≠, solo que ahora respeta la clave global)

const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
canvas.width = innerWidth; canvas.height = innerHeight;
let t = 0;
function bg() {
  ctx.fillStyle = 'rgba(0,25,0,0.05)'; ctx.fillRect(0,0,canvas.width,canvas.height);
  t += 0.0003;
  for(let i=0;i<2025;i++){
    const a = t + i*0.008;
    const x = canvas.width/2 + Math.cos(a)*(120 + Math.sin(t+i*0.01)*400);
    const y = canvas.height/2 + Math.sin(a)*(120 + Math.cos(t+i*0.01)*400);
    ctx.fillStyle = i%131===0 ? '#0ff' : '#0f0';
    ctx.fillRect(x,y,4,4);
  }
  requestAnimationFrame(bg);
}
bg();
</script>
</body>
</html>