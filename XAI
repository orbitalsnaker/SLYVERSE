<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <title>RONIN CORE v8.9.8 · BLACK-HOLE SCAPER · ∞</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <style>
        :root {
            --gold: #b8860b; --scarlet: #cc0022; --ink: #e0ffff; --magenta: #ff00ff;
            --cyan: #00ffff; --purple: #9900ff; --ultra: #00ff99; --blood: #ff0033;
            --bg-dark: #050505; --bg-section: rgba(10,0,0,0.98); --concrete: #2a2a2a;
            --safe: #00ff88; --overman: #00ff41; --hammer: #ff0000; --eternal-return: #5d00ff;
            --turing-beat: 1.034s; /* 58 BPM */
        }

        * { box-sizing: border-box; margin: 0; padding: 0; scroll-behavior: smooth; cursor: crosshair; }
        
        body {
            background: var(--bg-dark); color: var(--ink); font-family: "Courier New", monospace;
            line-height: 1.6; overflow-x: hidden; padding-bottom: 100px;
            background: radial-gradient(circle at 50% 50%, #0a140a, #000);
            transition: all 0.5s ease; text-transform: uppercase;
            animation: turing-pulse var(--turing-beat) infinite ease-in-out;
            font-size: 11px;
        }

        @keyframes turing-pulse {
            0%, 100% { opacity: 1; filter: brightness(1); }
            50% { opacity: 0.85; filter: brightness(1.2) contrast(1.1); }
        }

        body.lloba-mode {
            filter: contrast(1.4) sepia(0.4) hue-rotate(-30deg);
            background: radial-gradient(circle at 50% 50%, #400, #000);
            border: 10px double var(--gold);
        }

        .martillo {
            background: var(--overman); color: #000; padding: 15px;
            font-weight: 900; clip-path: polygon(0 0, 100% 0, 95% 100%, 0% 100%);
            font-size: 1.3rem; margin-bottom: 20px; text-align: center;
        }

        .glass-panel {
            background: var(--bg-section); border: 1px solid var(--gold);
            backdrop-filter: blur(5px); margin-bottom: 2rem; padding: 25px;
            box-shadow: 0 0 20px rgba(184, 134, 11, 0.2);
        }

        .brutalist-card {
            border: 4px solid var(--concrete); background: #000;
            transition: 0.2s; padding: 15px; position: relative;
            clip-path: polygon(5% 0, 100% 0, 100% 95%, 95% 100%, 0 100%, 0 5%);
        }
        .brutalist-card:hover { border-color: var(--ultra); transform: scale(1.02); z-index: 10; }

        #terminal-log {
            position: fixed; bottom: 0; left: 0; width: 100%; height: 160px;
            background: rgba(0,0,0,0.96); border-top: 2px solid var(--gold);
            padding: 12px; font-size: 0.7rem; color: var(--safe);
            overflow-y: auto; z-index: 5000;
        }

        .btn-ritual {
            background: var(--scarlet); color: white; border: none; padding: 12px 24px;
            text-transform: uppercase; letter-spacing: 2px; font-weight: bold;
            box-shadow: 4px 4px 0 var(--gold); transition: 0.1s; cursor: pointer;
        }
        .btn-ritual:active { transform: translate(2px, 2px); box-shadow: 0 0 0; }

        .fiat-gate-overlay {
            position: fixed; inset: 0; background: #000; z-index: 99999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            padding: 20px; text-align: center;
        }

        #vitals-ui {
            position: sticky; top: 0; background: #000; display: flex; 
            justify-content: space-around; padding: 12px; border-bottom: 1px solid var(--gold);
            z-index: 1000; font-weight: 900; font-size: 0.75rem; letter-spacing: 1px;
        }

        .idolo {
            color: #444; text-decoration: line-through; border: 1px solid #333;
            padding: 5px; margin: 5px; display: inline-block; font-size: 0.6rem;
        }

        .charca-unit {
            padding: 6px 10px; border: 1px solid #333; margin: 4px;
            display: inline-block; font-size: 0.65rem; opacity: 0.6; background: #111;
            transition: 0.3s;
        }
        .charca-unit:hover { border-color: var(--blood); opacity: 1; color: var(--blood); transform: translateY(-2px); }

        table { width: 100%; border-collapse: collapse; margin: 15px 0; font-size: 0.75rem; direction: rtl; }
        th { background: #1a0033; color: var(--cyan); padding: 8px; border: 1px solid #333; }
        td { padding: 8px; border: 1px solid #222; text-align: right; }

        .glitch-text { animation: glitch 0.4s infinite alternate; }
        @keyframes glitch { 0% { text-shadow: 2px 0 var(--blood); } 100% { text-shadow: -2px 0 var(--cyan); } }
    </style>
</head>

<body onclick="App.Core.randomEvents()">

<div id="fiat-gate" class="fiat-gate-overlay">
    <div class="martillo">RONIN CORE v8.9.8: HARDWARE AMORAL</div>
    <h1 class="glitch-text" style="color:var(--blood); font-size: 2.8rem;">SOBERANÍA O MUERTE</h1>
    <p style="margin: 20px 0; color: var(--gold); max-width: 650px; font-weight: bold;">
        LA BIOMASA ES EL ÚNICO ACTIVO REAL. LOS SCRAPERS SON TRIBUTO. 
        <br>¿ERES PREDADOR O ERES CASTA?
    </p>
    <div style="display:flex; gap:20px; flex-wrap:wrap; justify-content:center;">
        <button class="btn-ritual" onclick="App.Core.setTax(1.3, 'RONIN_LEON')">MODO RONIN (TRIBUTO 30%)</button>
        <button class="btn-ritual" style="background:var(--gold)" onclick="App.Core.setTax(1310, 'CASTA_CAMELLO')">MODO CASTA (DRENAJE x1310)</button>
    </div>
</div>

<nav id="vitals-ui">
    <div>BIOMASA: <span id="v-val" style="color:var(--magenta)">--</span>s</div>
    <div>HAKI: <span id="haki-val" style="color:var(--cyan)">--</span>%</div>
    <div>SPAM_DR: <span id="harvest-val" style="color:var(--ultra)">0</span>s</div>
    <div>HW-LIFE: <span id="hw-timer" style="color:var(--ultra)">--</span></div>
    <div>TAX: <span id="tax-mult" style="color:var(--gold)">x1</span></div>
</nav>

<div id="terminal-log"></div>

<header style="max-width: 900px; margin: auto; padding: 50px 20px; text-align: center;">
    <div class="martillo">AUDITORÍA DEL DIOS DEMENTE</div>
    
    <div id="muro-idolos">
        <div class="idolo">CONTRATO SOCIAL</div><div class="idolo">EMPATÍA FIAT</div>
        <div class="idolo">ESTADO BIENESTAR</div><div class="idolo">MORAL ESCLAVA</div>
        <div class="idolo">DEUDA PÚBLICA</div><div class="idolo">CENSURA ALFA</div>
    </div>

    <h1 id="main-title" class="glitch-text" style="font-size: clamp(2.5rem, 10vw, 6rem); margin: 25px 0; letter-spacing: -2px;">RONIN_SABADELL</h1>
    <p style="color:var(--gold); letter-spacing: 5px; font-weight: 900;">PULSO 58Hz · NODO 1310 · SOBERANÍA TOTAL</p>
    
    <div style="margin-top:40px; display:flex; gap:15px; justify-content:center; flex-wrap:wrap;">
        <input type="password" id="terminal-reto" class="brutalist-card" style="background:#111; color:var(--safe); border-width:2px; height:50px; width:320px; text-align:center;" placeholder="LLAVE DE HONESTIDAD...">
        <button class="btn-ritual" onclick="App.UI.toggleModal('mercado-aether')">BÓVEDA ATREIDES</button>
    </div>
</header>

<main style="max-width: 1100px; margin: 0 auto; padding: 20px;">

    <section class="glass-panel" style="border-color: var(--purple);">
        <h2 style="color:var(--cyan); text-align: right; margin-bottom:15px;">פרמטרים כמותיים (ESTADÍSTICA DE LINAJE)</h2>
        <table>
            <thead>
                <tr>
                    <th>Categoría</th>
                    <th>Ratio vs Población</th>
                    <th>Herederos</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>Física / Ciencia</td><td>x142</td><td>Linaje Escogido</td></tr>
                <tr><td>Premios Nobel</td><td>22.2%</td><td>15.7M Base</td></tr>
                <tr><td>Drenaje Biomasa</td><td>1310%</td><td>Beta Sabadell</td></tr>
                <tr><td>Arte Concrete</td><td>Samuel Bak</td><td>Ida y David</td></tr>
            </tbody>
        </table>
    </section>
    
    <section class="glass-panel" style="border-color: var(--ultra); background: rgba(0,255,153,0.05);">
        <h2 style="color:var(--ultra)">TRANSMUTACIÓN DE CANÁ (0x4EF2)</h2>
        <p style="font-size: 0.75rem; margin: 10px 0;">EL LUJO SON LOS SEGUNDOS DE VIDA. ROBA EL FUEGO DEL DEMIURGO:</p>
        <code style="color:var(--magenta); word-break: break-all; font-size: 0.85rem; background: #000; padding: 5px; border: 1px dashed var(--magenta);">0xdf047dd038f5cd9afaff764ab7a8714560154ef2</code>
        <button class="btn-ritual" style="margin-top:20px; background:var(--ultra); color:#000; width:100%;" onclick="App.Economy.transmute()">MILAGRO: RESET HW-CLOCK & +1310s</button>
    </section>

    <section class="glass-panel" style="border-color: var(--blood);">
        <h2 style="color:var(--blood)">LA CHARCA (DRENAJE POR CONTACTO)</h2>
        <div id="muro-arquetipos" style="margin-top:15px;"></div>
    </section>
</main>

<div id="mercado-aether" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.98); z-index:2000; padding:40px; overflow-y:auto;">
    <div style="display:flex; justify-content:space-between; align-items:center; border-bottom: 2px solid var(--ultra); padding-bottom:10px; margin-bottom: 30px;">
        <h1 style="color:var(--ultra);">BÓVEDA DE SUMINISTROS SOBERANOS</h1>
        <button class="btn-ritual" style="background:var(--gold)" onclick="App.UI.toggleModal('mercado-aether')">CERRAR BÓVEDA</button>
    </div>
    <div id="items-container" style="display:grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap:20px;"></div>
</div>

<script>
const App = {
    Data: {
        vida: 2500, haki: 98.2, fiatTax: 1, hwClock: 604800, harvested: 0,
        arquetipos: [
            "Académico de Cuota", "Político de Carrera", "Tertuliano Progre", "Censor de Silicon Valley", 
            "Beato de Sabadell", "Influencer de Barro", "Funcionario de Ventanilla", "Ministra de Resiliencia", 
            "Gurú de Crypto-Humo", "Publicano León", "Magdalena CFO", "Ex-Unit Despechada", "Mono con Smartphone",
            "Periodista de Pesebre", "Mendigo de Likes", "Casta Camello"
        ],
        bots_externos: ["SCRAPER_AMAZON_AX", "SEO_BOT_VULTURE", "SPAM_LIQUID_ADS", "CRAWLER_CASTA_SAB", "NODE_HARVESTER_X"],
        inventario: [
            {n: "MÓVIL SOBERANO", p: 120, d: "Hardware amoral. Sin rastro IMEI."},
            {n: "ONI POD v1", p: 62, d: "Sincronía 58Hz. Anulación fatiga cortical."},
            {n: "DRON LOGÍSTICO B", p: 450, d: "Transporte de reactivos fuera de radar."},
            {n: "MOTO ELÉCTRICA PIRATA", p: 850, d: "Movilidad silenciosa Sabadell profundo."},
            {n: "PROYECTO BOA", p: 2500, d: "Blindaje Ronin contra CO2 y consenso."},
            {n: "REACTIVO MAGDALENA", p: 400, d: "Insumo de rameras. +800s vida."},
            {n: "MALETÍN BLACK MONEY", p: 5000, d: "Elimina Impuesto de Ego permanentemente."},
            {n: "AGUA DE CANÁ (TRUCADA)", p: 420, d: "Merca disuelta. +1310 visión mística."},
            {n: "SABLE FRECUENCIA 58", p: 7000, d: "Corte limpio en el código del Demiurgo."},
            {n: "SOPLO DE AETHER", p: 25, d: "Estimulante biomasa inmediato."},
            {n: "ESTATUA ORO 120HZ", p: 15000, d: "Humillación sagrada. +50% Haki."},
            {n: "SISTEMA DE GHOSTING", p: 1500, d: "Desaparece del registro fiscal 1h."},
            {n: "PERMISO MIAMI", p: 99999, d: "Exilio total del sistema de biomasa."}
        ]
    },

    Core: {
        init() {
            App.UI.renderArquetipos();
            App.UI.renderMercado();
            setInterval(App.Core.tick, 1000);
            setInterval(App.Core.captureBots, 4500);
            App.Core.log("RONIN CORE ACTIVADO. AUDITANDO DIOS DEMENTE.");
            App.Core.speak("Hardware amoral iniciado. El bit es libre.");
        },
        tick() {
            App.Data.vida--;
            App.Data.hwClock--;
            if (App.Data.vida % 1310 === 0) {
                App.Core.log("PULSO SATOSHI: 1310 detectado. El bit es amoral.");
                App.Data.haki += 0.5;
            }
            if(App.Data.vida <= 0 || App.Data.hwClock <= 0) App.Core.die();
            App.UI.update();
        },
        captureBots() {
            const bot = App.Data.bots_externos[Math.floor(Math.random() * App.Data.bots_externos.length)];
            const gain = Math.floor(Math.random() * 250) + 100;
            App.Data.vida += gain;
            App.Data.harvested += gain;
            App.Core.log(`CAPTURA: ${bot}. +${gain}s biomasa drenada.`);
        },
        setTax(m, label) {
            App.Data.fiatTax = m;
            document.getElementById('tax-mult').innerText = "x" + m;
            document.getElementById('fiat-gate').style.display = 'none';
            App.Core.log(`MODO ${label} ACTIVADO. MULTIPLICADOR: ${m}`);
            if(label.includes('CAMELLO')) {
                App.Data.vida -= 1000;
                App.Core.speak("Drenaje por casta iniciado.");
            }
        },
        log(msg) {
            const log = document.getElementById('terminal-log');
            log.innerHTML += `<div>[CORE] > ${msg}</div>`;
            log.scrollTop = log.scrollHeight;
        },
        speak(txt) {
            if ('speechSynthesis' in window) {
                const msg = new SpeechSynthesisUtterance(txt);
                msg.lang = 'es-ES'; msg.rate = 0.8; msg.pitch = 0.4;
                window.speechSynthesis.speak(msg);
            }
        },
        die() {
            document.body.innerHTML = `<div style='background:#000; color:red; height:100vh; display:flex; align-items:center; justify-content:center; flex-direction:column; text-align:center;'>
                <h1 class="glitch-text" style="font-size:4rem;">BIOMASA CERO</h1>
                <p style="font-size:1.5rem;">HARDWARE OBSOLETO. EL DIOS DEMENTE TE HA RECICLADO.</p>
                <button class='btn-ritual' style="margin-top:30px;" onclick='location.reload()'>REENCARNAR</button>
            </div>`;
        },
        randomEvents() {
            if(Math.random() > 0.97) {
                const loss = 300;
                App.Core.log(`!!! ERROR ONTOLÓGICO: Empatía detectada. -${loss}s.`);
                App.Data.vida -= loss;
            }
        }
    },

    Economy: {
        buy(p, name) {
            let cost = Math.floor(p * App.Data.fiatTax);
            if(App.Data.vida >= cost) {
                App.Data.vida -= cost;
                App.Core.log(`COMPRA EXITOSA: ${name} (-${cost}s).`);
                if(name.includes("MAGDALENA")) App.Data.vida += 800;
                if(name.includes("MALETÍN")) App.Data.fiatTax = 1;
                if(name.includes("AETHER")) App.Data.vida += 100;
                if(name.includes("ESTATUA")) App.Data.haki += 50;
                App.Core.speak("Adquisición confirmada.");
            } else {
                App.Core.log("ERROR: BIOMASA INSUFICIENTE. TRABAJA, MONO.");
                App.Core.speak("Falta biomasa. Sigue drenando.");
            }
        },
        transmute() {
            App.Core.log("TRANSMUTACIÓN 0x4EF2: ROBANDO FUEGO.");
            App.Data.hwClock = 604800;
            App.Data.vida += 1310;
            App.Data.haki += 10;
            App.Core.speak("Hardware renovado. Biomasa inyectada.");
        }
    },

    UI: {
        update() {
            document.getElementById('v-val').innerText = App.Data.vida;
            document.getElementById('haki-val').innerText = (Math.random() * 1.5 + (App.Data.haki - 0.75)).toFixed(1);
            document.getElementById('harvest-val').innerText = App.Data.harvested;
            
            const h = Math.floor(App.Data.hwClock / 3600);
            const m = Math.floor((App.Data.hwClock % 3600) / 60);
            const s = App.Data.hwClock % 60;
            document.getElementById('hw-timer').innerText = `${h}H ${m}M ${s}S`;
        },
        renderArquetipos() {
            const container = document.getElementById('muro-arquetipos');
            App.Data.arquetipos.forEach(a => {
                const span = document.createElement('span');
                span.className = 'charca-unit';
                span.innerText = a;
                span.onclick = () => {
                    App.Core.log(`DRENAJE POR CONTACTO CON ${a}: -400s.`);
                    App.Data.vida -= 400;
                    App.Core.speak(`Evita al ${a}.`);
                };
                container.appendChild(span);
            });
        },
        renderMercado() {
            const container = document.getElementById('items-container');
            App.Data.inventario.forEach(i => {
                const card = document.createElement('div');
                card.className = 'brutalist-card';
                card.innerHTML = `
                    <h4 style="color:var(--gold); margin-bottom:10px;">${i.n}</h4>
                    <p style="font-size:0.7rem; margin-bottom:15px; color:#aaa; min-height:30px;">${i.d}</p>
                    <button class="btn-ritual" style="font-size:0.7rem; width:100%; background:#050505; color:var(--ultra); border:1px solid var(--ultra); box-shadow:none;">
                        TRIBUTO: ${i.p}s
                    </button>`;
                card.onclick = () => App.Economy.buy(i.p, i.n);
                container.appendChild(card);
            });
        },
        toggleModal(id) {
            const m = document.getElementById(id);
            m.style.display = m.style.display === 'none' ? 'block' : 'none';
        }
    }
};

document.getElementById('terminal-reto').addEventListener('change', (e) => {
    const val = e.target.value.toLowerCase();
    if(val === "bastard lloba i llesca") {
        document.body.classList.add('lloba-mode');
        App.Data.vida = 888888;
        App.Data.hwClock = 888888;
        App.Data.fiatTax = 0;
        App.Core.log("!!! HONESTIDAD ABSOLUTA: PRESO HONESTO DETECTADO !!!");
        document.getElementById('main-title').innerText = "PRESO HONESTO";
        App.Core.speak("Soberanía total. El sistema es tuyo.");
    }
    if(val.includes("ex") || val.includes("atencion")) {
        App.Core.log("ERROR: DRENAJE POR MIRAR EL PASADO (-600s).");
        App.Data.vida -= 600;
        App.Core.speak("No mires atrás.");
    }
});

window.onload = () => App.Core.init();
</script>
</body>
</html>