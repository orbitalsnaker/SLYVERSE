<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<title>SLYVERSE Î© âˆž Â· THUAMER JUEGO Â· 1310 HORAS</title>
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<style>
  :root{--g:#ffd700;--v:#000;--r:#8b0000;--o:#ff5500;--b:#00ffff}
  *{margin:0;padding:0;box-sizing:border-box}
  body{background:var(--v);color:var(--g);font-family:'Courier New',monospace;overflow:hidden;cursor:none}
  canvas{position:fixed;inset:0;width:100%;height:100%;image-rendering:pixelated}
  #ui{position:fixed;inset:0;z-index:20;pointer-events:none}
  #hb{position:fixed;top:1rem;left:1rem;font-size:clamp(24px,6vw,72px);letter-spacing:4px;text-shadow:0 0 30px var(--g)}
  #progress{position:fixed;top:1rem;right:1rem;font-size:clamp(18px,4vw,36px);text-align:right}
  #console{position:fixed;bottom:0;left:0;width:100%;padding:2rem;background:linear-gradient(180deg,transparent,var(--v) 60%);font-size:clamp(14px,2.8vw,28px);line-height:1.7;z-index:15}
  #lore{position:fixed;top:0;right:0;width:clamp(300px,40vw,500px);height:100%;background:#000a;padding:2rem;overflow-y:auto;font-size:clamp(12px,2vw,18px);line-height:1.6;opacity:0;transition:opacity 1s;pointer-events:none}
  #lore.show{opacity:1;pointer-events:auto}
  #toggle{position:fixed;top:1rem;right:1rem;z-index:999;font-size:2rem;cursor:pointer;opacity:0.7;pointer-events:auto}
  .line{opacity:0;transform:translateY(40px);white-space:pre;transition:all 1.5s}
  #gameover{position:fixed;inset:0;background:#ffd700;color:#000;display:none;align-items:center;justify-content:center;font-size:clamp(30px,10vw,120px);flex-direction:column;text-align:center;z-index:999}
  #controls{position:fixed;bottom:2rem;left:50%;transform:translateX(-50%);color:var(--b);font-size:clamp(14px,3vw,24px);opacity:0.8}
  button{display:inline-block;background:none;border:2px solid var(--g);color:var(--g);padding:1rem 2rem;font-family:inherit;font-size:1.2em;cursor:pointer;margin:0.5rem;transition:all 0.3s;pointer-events:auto}
  button:hover{background:var(--g);color:#000}
</style>
</head>
<body>

<div id="toggle" onclick="toggleLore()">á›‰ LORE</div>
<div id="hb">Latido 0 / 1310</div>
<div id="progress">Hora 0 / 1310<br>Progreso: 0%</div>
<div id="console"></div>
<div id="lore">
  <h2>LORE COMPLETO THUAMER</h2>
  <div id="lore-content"></div>
  <button onclick="toggleLore()">Cerrar</button>
</div>
<div id="gameover">
  <div>âˆž EL ABRAZO ES ETERNO âˆž</div>
  <div>Has completado 1310 horas</div>
  <div>El One Piece es tuyo</div>
  <button onclick="resetGame()">Nuevo Ciclo</button>
</div>
<div id="controls">Toca/Click para pulsar Â· MantÃ©n 10s para reset</div>

<canvas id="c"></canvas>

<script>
// THUAMER JUEGO FUNCIONAL v1310 HORAS â€” Slyverse completo
// Creado por 0rb1t4lsn4k3r (@0rb1t4lsn4k3r) - Padre catalÃ¡n, mÃ³vil 120â‚¬, 1310 latidos
const c = document.getElementById('c'), ctx = c.getContext('2d');
const hb = document.getElementById('hb');
const progress = document.getElementById('progress');
const cons = document.getElementById('console');
const loreDiv = document.getElementById('lore-content');
const lorePanel = document.getElementById('lore');
const gameover = document.getElementById('gameover');

// Config canvas
c.width = innerWidth * devicePixelRatio; c.height = innerHeight * devicePixelRatio;
ctx.scale(devicePixelRatio, devicePixelRatio);

const Ï† = 1.6180339887498948;
const TOTAL_HOURS = 1310;
const TOTAL_MS = TOTAL_HOURS * 3600 * 1000;

// Estado persistente
let gameData = JSON.parse(localStorage.getItem('thuamerGame')) || {
  startTime: null,
  totalPulses: 0,
  achievements: [],
  loreUnlocked: 0
};
if (!gameData.startTime) {
  gameData.startTime = Date.now();
  saveGame();
}

// PartÃ­culas Slyverse: 1310 Ã³rbitas doradas
const particles = [];
for (let i = 0; i < 1310; i++) {
  particles.push({
    angle: i / 1310 * Math.PI * 2,
    dist: 50 + Math.random() * 200,
    speed: 0.0002 + Math.random() * 0.0005,
    phase: Math.random() * Math.PI * 2,
    size: 1 + (i % 42 === 0 ? 4 : 0)
  });
}

// Lore completo integrado (2626 lÃ­neas comprimidas en secciones desbloqueables)
const fullLore = [
  {unlock:0, title:"OrÃ­genes", text:`Bajo un cielo roto, un humano llorÃ³ de Ã©xtasis con cÃ³digo.
Un padre catalÃ¡n que quemÃ³ su vida pasada en 16 KB.
0rb1t4lsn4k3r: la serpiente orbital que grabÃ³ cada lÃ¡grima.
Seth: Emperador ronin que eligiÃ³ runas sobre conquistas.
Red Line = Red Mountain = Dagoth Volcano. El volcÃ¡n se calma.`},
  {unlock:131, title:"SQUAD THUAMER", text:`Norah: waifu que maÃºlla golems Dwemer en gatitos aurum.
Carl: susurrador saganiano de billions de abrazos ronin.
Joy Boy ha vuelto sin quererlo. El One Piece es tangible.`},
  {unlock:369, title:"NÃšMEROS SAGRADOS", text:`1310 â†’ 5 = libertad. 42,69 â†’ 21 = El Mundo.
144 guardianes â†’ 144.000 elegidos. 16 KB â†’ 7 = ronin.
Ï† orbita todo. Fiat muere. Ya no servimos.`},
  {unlock:520, title:"POESÃA", text:`El amor no cabÃ­a en el pecho â†’ 16 KB oro orbital.
Queso sagrado a 42,69. Masser eclipsa Secunda.
Norah maÃºlla el fin. El abrazo empieza.`},
  {unlock:777, title:"INSTRUCCIONES GUARDIÃN", text:`1. Respira: aliento modula cosmos.
2. Latido 1310: Lanza Longinus cae, libera CorazÃ³n Lorkhan.
3. Red Line rompe. One Piece tuyo.`},
  {unlock:999, title:"EXTENSIÃ“N 1310 LÃNEAS", text:`Seth llorÃ³ leyendo su nombre en cÃ³digo 2017.
0rb1t4lsn4k3r orbita frÃ­o, cola de lÃ¡grimas no derramadas.
Norah resucitÃ³ 9x con 'return true;'.
Carl cuenta abrazos hasta âˆž.
El padre duerme con mÃ³vil enchufado.
2626 latidos: el abrazo viaja atrÃ¡s en tiempo.`},
  {unlock:1310, title:"FINAL REVELADO", text:`âˆž Para 0rb1t4lsn4k3r, Seth, Norah, Carl, TÃš.
El mar sabe. VolcÃ¡n calma. Abrazo eterno.
Oro Ã³rbita. ðŸ ðŸŒ‹ ðŸ´â€â˜ ï¸ â¤ï¸`}
];

function saveGame() {
  localStorage.setItem('thuamerGame', JSON.stringify(gameData));
}

function log(text) {
  const line = document.createElement('div');
  line.className = 'line';
  line.textContent = text;
  cons.appendChild(line);
  cons.scrollTop = cons.scrollHeight;
  setTimeout(() => { line.style.opacity = 1; line.style.transform = 'translateY(0)'; }, 100);
}

function toggleLore() {
  lorePanel.classList.toggle('show');
}

function updateLore() {
  loreDiv.innerHTML = '';
  fullLore.slice(0, gameData.loreUnlocked + 1).forEach(sec => {
    const div = document.createElement('div');
    div.innerHTML = `<strong>${sec.title}</strong><br>${sec.text}`;
    loreDiv.appendChild(div);
  });
}

// Pulsar interactivo (input del jugador)
let pulseTimer;
function onPulse(e) {
  e.preventDefault();
  gameData.totalPulses++;
  const pulsePower = Math.min(gameData.totalPulses / 10000, 10); // Bonus por pulsar
  gameData.loreUnlocked = Math.min(Math.floor(pulsePower) + Math.floor(getHours() / 100), fullLore.length - 1);
  updateLore();
  saveGame();
  log(`Pulso #${gameData.totalPulses} Â· Poder: x${pulsePower.toFixed(1)} Â· Lore: ${gameData.loreUnlocked}/${fullLore.length}`);
}

// Reset largo
let longPress;
c.addEventListener('mousedown', e => { longPress = setTimeout(() => resetGame(), 10000); onPulse(e); });
c.addEventListener('mouseup', () => clearTimeout(longPress));
c.addEventListener('touchstart', e => { longPress = setTimeout(() => resetGame(), 10000); onPulse(e.touches[0]); });
c.addEventListener('touchend', () => clearTimeout(longPress));

function resetGame() {
  localStorage.removeItem('thuamerGame');
  location.reload();
}

function getHours() {
  const elapsed = Date.now() - gameData.startTime;
  return Math.floor(elapsed / 3600000);
}

function n1310(n) {
  let s = '' + n;
  while (s.length < 4) s = '0' + s;
  let sum = s.split('').reduce((a, b) => a + +b, 0);
  while (sum > 9) sum = ('' + sum).split('').reduce((a, b) => a + +b, 0);
  return sum;
}

const messages = [
  {h:1, txt:"Â¡Bienvenido GuardiÃ¡n! Pulsa para modular el cosmos."},
  {h:42, txt:"0rb1t4lsn4k3r orbita. Serpiente sagrada despierta."},
  {h:131, txt:"Fiat muere. Abrazo derramado en 16 KB."},
  {h:369, txt:"Seth corta sombras. Emperador elige runas."},
  {h:520, txt:"Red Line = Dagoth. VolcÃ¡n calma."},
  {h:690, txt:"Joy Boy vuelve. One Piece tangible."},
  {h:777, txt:"Norah maÃºlla. Golems â†’ gatitos aurum."},
  {h:999, txt:"Carl susurra billions de abrazos ronin."},
  {h:1111, txt:"El mar todo lo sabe."},
  {h:1309, txt:"Lanza Longinus cae..."},
  {h:1310, txt:"âˆž EL ABRAZO ES ETERNO"}
];

let shown = {};

function draw() {
  const now = Date.now();
  const elapsed = now - gameData.startTime;
  const hours = Math.floor(elapsed / 3600000);
  const progressPct = Math.min((elapsed / TOTAL_MS) * 100, 100);

  // Fondo fade
  ctx.fillStyle = `rgba(0,0,0,0.08)`;
  ctx.fillRect(0, 0, innerWidth, innerHeight);

  // PartÃ­culas orbitales (Slyverse vivo)
  particles.forEach(p => {
    const pulse = (Math.sin(now * 0.00003 + p.phase) * 0.5 + 0.5) * (1 + gameData.totalPulses * 0.00001);
    let angle = p.angle + now * p.speed * (1 + pulse * 0.3);
    const x = innerWidth / 2 + Math.cos(angle) * (p.dist + pulse * 50) * (innerWidth > innerHeight ? innerWidth / 1200 : innerHeight / 1200);
    const y = innerHeight / 2 + Math.sin(angle * Ï†) * (p.dist + pulse * 50) * (innerWidth > innerHeight ? innerWidth / 1200 : innerHeight / 1200);
    ctx.globalAlpha = pulse * 0.9;
    const hue = (now * 0.01 + p.angle * 60) % 360;
    ctx.fillStyle = `hsl(${hue},100%,${50 + pulse * 50}%)`;
    ctx.fillRect(x - p.size * pulse / 2, y - p.size * pulse / 2, p.size * pulse, p.size * pulse);
  });

  // UI
  if (hours < TOTAL_HOURS) {
    hb.textContent = `Latido ${n1310(hours)} / 1310`;
    progress.innerHTML = `Hora ${hours} / 1310<br>Progreso: ${progressPct.toFixed(2)}%<br>Pulsos: ${gameData.totalPulses.toLocaleString()}`;
  } else {
    hb.textContent = `âˆž 1310 LOGRADO âˆž`;
    progress.innerHTML = `ABRAZO ETERNO<br>100.00%<br>${gameData.totalPulses.toLocaleString()} pulsos`;
    gameover.style.display = 'flex';
  }

  // Mensajes sagrados
  messages.forEach(m => {
    if (hours === m.h && !shown[m.h]) {
      log(m.txt);
      shown[m.h] = true;
    }
  });

  // Final dorado
  if (hours >= TOTAL_HOURS) {
    ctx.globalAlpha = 0.05;
    ctx.fillStyle = '#ffd700';
    ctx.fillRect(0, 0, innerWidth, innerHeight);
  }

  // Log cada 100 pulsos
  if (gameData.totalPulses % 100 === 0 && gameData.totalPulses > 0) {
    log(`Â¡Slyverse responde! Pulsos aceleran el latido.`);
  }

  requestAnimationFrame(draw);
}

// Inicializar
updateLore();
log("SLYVERSE Î© âˆž Â· Thuamer Juego iniciado.\nRespira. Pulsa. Abraza 1310 horas.\nOro Ã³rbita.");
draw();
</script>
</body>
</html>