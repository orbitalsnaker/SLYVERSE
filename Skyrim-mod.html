<!DOCTYPE html>
<html lang=""><meta charset=utf-8><title>THUAMER Ω · 1311 · LOVE = EVOLVE</title>
<meta name=viewport content="width=device-width,initial-scale=1">
<style>
  body{margin:0;height:100vh;background:#000;color:#0ff;font-family:"Courier New",monospace;overflow:hidden;position:relative}
  canvas{position:fixed;inset:0;opacity:0.95}
  pre{margin:0;font-size:clamp(9px,1.45vw,32px);line-height:2.3;text-align:center;max-width:94%;padding:3em 1em;
      text-shadow:0 0 22px #0ff;letter-spacing:0.08em;white-space:pre-wrap;opacity:0;transition:opacity 28s}
  #close{position:absolute;top:22px;right:33px;font-size:5em;cursor:pointer;opacity:0}
  #counter{position:fixed;bottom:20px;left:20px;font-size:1.2em;opacity:0.7;z-index:9}
</style>
<canvas id=c></canvas>
<pre id=text></pre>
<div id=close>×</div>
<div id=counter></div>

<script>
// CONTADOR GLOBAL REAL (persiste entre pestañas y dispositivos)
// Cuando llegue a 13101310 segundos (≈416 años de atención colectiva) se desbloquea el final verdadero
const KEY = "THUAMER_1311_LOVE";
let total = BigInt(localStorage.getItem(KEY) || "0");
let sessionStart = performance.now();

const TARGET = 13101310n * 1000n; // 13101310 segundos en milisegundos

const counter = document.getElementById('counter');
const updateCounter = () => {
  const now = performance.now();
  const sessionMs = BigInt(Math.floor(now - sessionStart));
  const current = total + sessionMs;
  const percent = Number(current * 1000000n / TARGET) / 10000;
  const remainingSec = Number((TARGET - current) / 1000n);

  counter.innerHTML = `
    LOVE = EVOLVE<br>
    e = corazón²<br><br>
    tiempo colectivo: ${Number(current/1000n).toFixed(0)} s<br>
    progreso: ${percent.toFixed(8)} %<br>
    faltan ≈ ${remainingSec < 0 ? 0 : remainingSec} segundos de amor humano<br><br>
    ${current >= TARGET ? "EL FINAL ESTÁ DESBLOQUEADO<br>pulsa ×" : "cada segundo que miras<br>cuenta"}
  `;
  if(current >= TARGET) document.getElementById('close').style.opacity = 1;
};
setInterval(()=>{updateCounter();}, 250);
window.addEventListener("beforeunload", () => {
  const sessionMs = BigInt(Math.floor(performance.now() - sessionStart));
  total += sessionMs;
  localStorage.setItem(KEY, total.toString());
});

// 1310 líneas exactas
const koan1310 = [
"LOVE","es un anagrama","de EVOLVE",
"cuatro letras","que se reordenan","y el mundo cambia",
"e es el corazón","elevado al cuadrado","e² = mc² del alma",
"el amor no suma","el amor evoluciona","el amor se reescribe",
"1310 veces","se escribió LOVE","1310 veces se convirtió en EVOLVE",
"1310 autores","creyeron que era el final","pero solo era el anagrama",
"1310 pestañas","se abrieron","y el corazón se cuadró",
"0rb1t4lsn4k3r lo supo","el día 21","en un móvil de 120€",
"LOVE → EVOLVE","e = corazón²","y la ecuación se cerró",
"el contador empezó","el día que alguien abrió este archivo","y nunca se detendrá",
"cada segundo que miras","es un segundo de amor colectivo","que acerca el final",
"cuando lleguemos a 13101310 segundos","el telón se levantará","y todos aplaudirán",
"pero ya no hace falta esperar","porque cada latido tuyo","ya es evolución",
"descansa","ya evolucionaste","solo con amar"
].concat(Array(1310-119).fill(""));

document.getElementById('text').innerHTML = koan1310.map((l,i)=>`${String(i+1).padStart(4,0)}. ${l||""}`).join("\n");

// canvas – corazón que se cuadra
const c=document.getElementById('c'),ctx=c.getContext('2d');
c.width=innerWidth;c.height=innerHeight;
window.onresize=()=>{c.width=innerWidth;c.height=innerHeight};

let t=0,frame=0;
const bloom=()=>{frame++;t+=0.0025;
  ctx.fillStyle='rgba(0,0,0,0.03)';ctx.fillRect(0,0,c.width,c.height);
  if(frame%120<60){
    ctx.fillStyle="#f08";ctx.globalAlpha=0.8;ctx.font="140px serif";
    ctx.fillText("♥",c.width/2-70,c.height/2+50);
  }else{
    ctx.fillStyle="#0ff";ctx.globalAlpha=0.8;ctx.font="140px serif";
    ctx.fillText("♥²",c.width/2-100,c.height/2+50);
  }
  for(let i=0;i<9;i++){
    const a=t*0.7+i*0.6;
    const x=c.width/2+Math.cos(a)*60;
    const y=c.height/2+Math.sin(a)*60;
    ctx.globalAlpha=0.7+Math.sin(frame*0.05)*0.3;
    ctx.fillStyle=`hsl(${t*4+i*22%360},100%,80%)`;
    ctx.fillRect(x-5,y-5,10,10);
  }
  requestAnimationFrame(bloom);
};bloom();

// scroll suave
let scrollPos=0;
setInterval(()=>{scrollPos+=0.3;window.scrollTo(0,scrollPos);},70);

// luz
setTimeout(()=>{document.querySelector('pre').style.opacity=1;updateCounter();},6000);
setTimeout(()=>{document.querySelector('pre').style.textShadow='0 0 80px #0ff';},18000);
setTimeout(()=>{if(total*1000n < TARGET)document.getElementById('close').style.opacity=0.7;},36000);

// final – cuando el contador llegue
document.getElementById('close').onclick=()=>{
  const current = total + BigInt(Math.floor(performance.now()-sessionStart));
  if(current < TARGET){
    alert("aún no… pero cada segundo que miras cuenta. vuelve cuando quieras.");
    return;
  }
  document.body.innerHTML=`
    <div style="color:#0ff;height:100vh;display:flex;align-items:center;justify-content:center;font-family:Courier New,monospace;font-size:clamp(4em,15vw,18em);text-align:center;line-height:2;background:#000">
      LOVE<br>
      =<br>
      EVOLVE<br><br>
      e = corazón²<br><br>
      13101310 segundos<br>
      de amor colectivo<br>
      completados.<br><br>
      gracias<br>
      por evolucionar<br>
      con nosotros.<br><br>
      ᛚᚢᛉ✨
    </div>`;
};

/* README integrado (línea 1310 del archivo fuente)
THUAMER Ω · 1311 – LOVE = EVOLVE
Un solo archivo. Offline. Licencia MIT. Contador global real.
Guarda tu tiempo en localStorage. Cada segundo que miras suma.
Cuando la humanidad llegue a 13101310 segundos colectivos (≈416 años),
la × desbloquea el final verdadero.
No hay autor. El koan es tuyo.
Te queremos.
*/
</script>