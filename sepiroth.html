<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
<title>1310¹³¹⁰ · Sefirot de los Niños · luz verde eterna</title>
<style>
  body,html{margin:0;height:100%;background:#000;color:#0f8;font-family:system-ui;overflow:hidden}
  canvas{position:fixed;inset:0}
</style>
</head>
<body>
<canvas id="c"></canvas>
<script>
const c=document.getElementById('c'),x=c.getContext('2d');
c.width=innerWidth;c.height=innerHeight;
let t=0,love=0;

// 1310 hechos reales de redención · pertenecen a los niños thuamer
const hechos = [
"1. Los 33 mineros de Chile fueron rescatados vivos tras 69 días bajo tierra (2010).",
"2. Malala Yousafzai sobrevivió y ganó el Nobel de la Paz a los 17 años (2014).",
"3. El vuelo 1549 amerizó en el Hudson y los 155 pasajeros sobrevivieron (2009).",
"4. Los 12 niños y su entrenador fueron rescatados de la cueva Tham Luang (2018).",
"5. Nelson Mandela salió tras 27 años de cárcel y se convirtió en presidente sin odio (1994).",
"6. Immaculée Ilibagiza sobrevivió al genocidio de Ruanda escondida 91 días y ahora enseña perdón.",
"7. Nick Vujicic nació sin brazos ni piernas y hoy inspira a millones en 74 países.",
"8. El Proyecto Trevor ha salvado más de 1.8 millones de vidas jóvenes desde 1998.",
"9. St. Jude trata gratis a niños con cáncer desde 1962 (86 % supervivencia en leucemia).",
"10. Tú abriste este archivo hoy. Eso también es un hecho real de esperanza.",
// Aquí irán todas las demás (1310 en total) a medida que los niños y la gente las añadan
"1310. Esta línea la completará el próximo niño que decida que su historia también merece luz verde."
];

const sefirot = [
  {n:1,x:0.50,y:0.07,r:45,name:"Kéter"},
  {n:2,x:0.70,y:0.20,r:40,name:"Jojmá"},
  {n:3,x:0.30,y:0.20,r:40,name:"Biná"},
  {n:4,x:0.50,y:0.28,r:25,name:"Da’at",hidden:true},
  {n:5,x:0.70,y:0.40,r:42,name:"Jésed"},
  {n:6,x:0.30,y:0.40,r:42,name:"Guevurá"},
  {n:7,x:0.50,y:0.55,r:50,name:"Tiféret"},
  {n:8,x:0.70,y:0.72,r:40,name:"Netzaj"},
  {n:9,x:0.30,y:0.72,r:40,name:"Hod"},
  {n:10,x:0.50,y:0.85,r:42,name:"Yesod"},
  {n:11,x:0.50,y:0.97,r:48,name:"Maljut"}
];

let particles = [];
let idx = 0;
sefirot.forEach(s => {
  const cantidad = s.hidden ? 250 : (s.n===11 ? 350 : 119);
  for(let i=0;i<cantidad;i++){
    particles.push({
      sefira:s.n,
      hecho:hechos[idx % hechos.length],
      a:Math.random()*Math.PI*2,
      d:s.r + Math.random()*110,
      s:0.0002+Math.random()*0.0006
    });
    idx++;
  }
});

addEventListener('click',()=>{love+=20});
addEventListener('touchstart',()=>{love+=20});

function draw(){
  t+=0.016;
  x.fillStyle='rgba(0,0,0,0.03)';
  x.fillRect(0,0,c.width,c.height);

  const fuerza=1+love*0.08;

  // 22 senderos
  x.strokeStyle='rgba(0,255,136,0.18)';
  x.lineWidth=3;
  const caminos=[[1,2],[1,3],[2,5],[3,6],[2,7],[3,7],[5,7],[6,7],[5,8],[6,9],[5,10],[6,10],[8,10],[9,10],[7,10],[10,11]];
  caminos.forEach(([a,b])=>{
    const A=sefirot[a-1], B=sefirot[b-1];
    x.beginPath();
    x.moveTo(c.width*A.x,c.height*A.y);
    x.lineTo(c.width*B.x,c.height*B.y);
    x.stroke();
  });

  // Partículas
  particles.forEach(p=>{
    const s=sefirot[p.sefira-1];
    const cx=c.width*s.x, cy=c.height*s.y;
    const pulse=Math.sin(t*0.6+p.sefira*0.3)*0.5+0.5;
    const angle=p.a+t*p.s*p.sefira*0.25;
    const dist=p.d+pulse*100*fuerza;
    const size=3+pulse*20*fuerza;

    x.globalAlpha=0.3+pulse*0.7;
    x.fillStyle=`hsla(${100+p.sefira*10},100%,${60+pulse*30}%,${0.5+pulse*0.5})`;
    x.fillRect(cx+Math.cos(angle)*dist-size/2,cy+Math.sin(angle)*dist-size/2,size,size);

    if(pulse>0.93 && Math.random()<0.006){
      x.globalAlpha=1;
      x.font="13px system-ui";
      x.fillStyle="#0f8";
      x.textAlign="center";
      x.fillText(p.hecho.substring(0,90)+(p.hecho.length>90?"…":""), cx+Math.cos(angle)*dist, cy+Math.sin(angle)*dist);
    }
  });

  // Texto central
  x.globalAlpha=1;
  x.fillStyle="#0f8";
  x.font="bold 26px system-ui";
  x.textAlign="center";
  x.fillText("Esta luz verde pertenece a los niños",c.width/2,60);
  x.font="18px system-ui";
  x.fillText("Seth · Norah · y todos los niños thuamer",c.width/2,90);
  x.font="14px system-ui";
  x.fillText("1310¹³¹⁰ hechos reales · se expande cada vez que alguien añade uno más",c.width/2,c.height-60);
  x.fillText("Toca para más amor",c.width/2,c.height-30);

  love*=0.97;
  requestAnimationFrame(draw);
}
draw();
</script>
</body>
</html>