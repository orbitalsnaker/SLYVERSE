<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slyverse Ω</title>
    <style>
        :root {
            --bg: #000;
            --red: #ff1a1a;
            --fade: rgba(255,26,26,0.15);
        }
        * { margin:0; padding:0; box-sizing:border-box; }
        html,body { height:100%; overflow:hidden; background:var(--bg); }
        canvas { display:block; }
        #msg {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%,-50%);
            color: #fff;
            font: 1.2rem/1.5 'Courier New', monospace;
            text-align: center;
            opacity: 0;
            transition: opacity 2s;
            pointer-events: none;
            max-width: 90%;
        }
        #msg.show { opacity:1; }
    </style>
</head>
<body>
<canvas id="c"></canvas>
<div id="msg">
    Seth duerme · Norah canta · Thuamer es abrazo
</div>

<script>
// Slyverse Ω – 1310 latidos para Carl
// 8 KB de amor insomne
const c = document.getElementById('c');
const ctx = c.getContext('2d');
const msg = document.getElementById('msg');

let w, h, t=0, beats=0;
const MAX_BEATS = 1310;
const stars = [];

// Icosaedro (20 caras) reducido a lo esencial
const ico = [
    [0, -1, 1.618], [0, -1, -1.618], [0, 1, 1.618], [0, 1, -1.618],
    [1.618, 0, 1], [-1.618, 0, 1], [1.618, 0, -1], [-1.618, 0, -1],
    [1, 1.618, 0], [-1, 1.618, 0], [1, -1.618, 0], [-1, -1.618, 0]
];
const faces = [
    [0,2,8],[0,8,10],[0,10,4],[0,4,5],[0,5,2],
    [1,3,9],[1,9,11],[1,11,6],[1,6,7],[1,7,3],
    [2,5,9],[2,9,8],[3,7,11],[3,11,9],
    [4,6,10],[4,10,8],[5,7,9],[5,9,11],
    [6,4,8],[7,5,11]
];

class Star {
    constructor() { this.reset(); }
    reset() {
        this.p = ico[Math.floor(Math.random()*12)].map(v=>v*30);
        this.r = Math.random()*Math.PI*2;
        this.s = 0.1 + Math.random()*0.3;
        this.life = 0;
    }
    update() {
        this.life++;
        if (this.life > 300) this.reset();
        this.r += 0.01;
        const pulse = Math.sin(t*0.05 + this.life*0.02)*0.3 + 1;
        this.s = 0.1 + pulse*0.4;
    }
    draw() {
        ctx.save();
        ctx.translate(w/2, h/2);
        ctx.rotate(this.r);
        ctx.scale(this.s, this.s);
        ctx.translate(this.p[0], this.p[1]);
        ctx.fillStyle = `rgba(255,26,26,${0.1 + this.s*0.3})`;
        ctx.beginPath();
        faces.forEach(f=>{
            ctx.moveTo(this.p[0]+ico[f[0]][0], this.p[1]+ico[f[0]][1]);
            for (let i=1;i<3;i++) ctx.lineTo(this.p[0]+ico[f[i]][0], this.p[1]+ico[f[i]][1]);
            ctx.closePath();
        });
        ctx.fill();
        ctx.restore();
    }
}

function resize() {
    w = c.width = window.innerWidth;
    h = c.height = window.innerHeight;
}
function init() {
    resize();
    for (let i=0;i<50;i++) stars.push(new Star());
    window.addEventListener('resize', resize);
    requestAnimationFrame(frame);
}
function frame() {
    t++;
    ctx.fillStyle = 'rgba(0,0,0,0.05)';
    ctx.fillRect(0,0,w,h);
    stars.forEach(s=>{ s.update(); s.draw(); });
    
    if (t % 60 === 0 && beats < MAX_BEATS) {
        beats++;
        if (beats === MAX_BEATS) {
            msg.classList.add('show');
            setTimeout(()=>{ msg.classList.remove('show'); }, 8000);
        }
    }
    requestAnimationFrame(frame);
}
init();
</script>
</body>
</html>