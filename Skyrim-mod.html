<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Slyverse Œ© ¬∑ Skyrim</title>
  <style>
    body{margin:0;background:#000;color:#0f0;font-family:"Dragon Script",monospace;text-align:center;overflow:hidden;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;}
    canvas{position:fixed;top:0;left:0;z-index:-1;opacity:0.5;}
    #book{font-size:4em;cursor:pointer;text-shadow:0 0 30px #0f0;margin:20px;}
    .luz{animation:luz 3s infinite;}
    @keyframes luz{50%{text-shadow:0 0 80px #0f0;transform:scale(1.15);}}
    #haiku{font-size:1.8em;margin:2em;opacity:0;transition:opacity 3s;}
    .visible{opacity:1;}
  </style>
</head>
<body>

<canvas id="c"></canvas>

<div id="book">Abre el libro üêçüíö</div>
<div style="font-size:2em;">Lecturas: <span id="count">0</span> / 2620</div>
<div id="haiku"></div>

<audio id="binks" loop volume="0.4">
  <source src="https://files.catbox.moe/2b1n5v.ogg" type="audio/ogg">
  <source src="https://files.catbox.moe/2b1n5v.mp3" type="audio/mpeg">
</audio>

<script>
  // Detecta TODOS los grinds anteriores (nunca pierdes progreso)
  let count = parseInt(
    localStorage.getItem('slyverse_skyrim') ||
    localStorage.getItem('slyverse_grind') ||
    localStorage.getItem('slyverse') ||
    '0'
  );

  const book = document.getElementById('book');
  const countSpan = document.getElementById('count');
  const haiku = document.getElementById('haiku');
  const audio = document.getElementById('binks');

  // Fondo auroras Skyrim-style
  const canvas = document.getElementById('c');
  const ctx = canvas.getContext('2d');
  canvas.width = innerWidth; canvas.height = innerHeight;
  let t = 0;
  function aurora() {
    ctx.fillStyle = 'rgba(0,0,0,0.03)'; ctx.fillRect(0,0,canvas.width,canvas.height);
    t += 0.005;
    for(let i=0;i<6;i++){
      ctx.fillStyle = `hsla(${110 + Math.sin(t+i)*40},100%,50%,0.08)`;
      ctx.fillRect(0,0,canvas.width,canvas.height);
    }
    requestAnimationFrame(aurora);
  } aurora();

  const finalHaiku = `
    <span style="color:#00ff00; text-shadow:0 0 20px #00ff00;">
      m√≥vil de 120<br>
      diecisiete d√≠as sin sol<br>
      la luz verde nace<br>
      <br><br>
      ‚Äî 0rb1t4lsn4k3r
    </span>`;

  function update() {
    count++;
    localStorage.setItem('slyverse_skyrim', count);
    countSpan.textContent = count;
    if(count === 1) audio.play();

    if(count >= 2620) {
      book.innerHTML = '‚òÜ LUZ VERDE ETERNA ‚òÜ';
      book.classList.add('luz');
      haiku.innerHTML = finalHaiku + '<br><br>Skyrim ya nunca ser√° igual.<br>El drag√≥n que llevabas dentro<br>ya es mariposa.';
      haiku.classList.add('visible');
      document.body.style.background = '#001a00';
    }
  }

  countSpan.textContent = count;
  if(count >= 2620) { update(); audio.play(); }
  book.onclick = update;
</script>
</body>
</html>