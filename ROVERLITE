<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>COBETE 667-SLYVERSE Ω — 666€ — EL COHETE QUE NO EXPLOTA Y MINA PLATINO</title>
<style>
  *{margin:0;padding:0;box-sizing:border-box}
  body{background:#000;color:#0f0;font-family:monospace;overflow:hidden;position:relative;height:100vh}
  .scan{pointer-events:none;position:fixed;top:0;left:0;width:100%;height:100%;
        background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,255,0,0.04) 2px,rgba(0,255,0,0.04) 4px);z-index:999}
  .p{position:fixed;background:rgba(0,0,0,0.92);border:3px solid #0f0;padding:12px;box-shadow:0 0 30px #0f0,0 0 50px #f00}
  .g{text-shadow:0 0 12px #0f0,0 0 25px #f00;color:#0ff;font-weight:bold}
  canvas{background:#000;border:2px solid #0f0}
  input{background:#000;border:2px solid #0f0;color:#0f0;width:100%;padding:10px;font-size:14px}
  #log{height:180px;overflow-y:auto;color:#0ff;font-size:11px;background:#000}
  #readme{position:fixed;top:0;left:0;width:100%;height:100%;background:#000;z-index:1000;overflow-y:auto;padding:20px;display:none}
  .close{color:#f00;font-size:40px;position:absolute;top:10px;right:20px;cursor:pointer}
  #instructions{display:none;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.95);border:2px solid #0f0;padding:20px;z-index:1001;color:#0f0}
</style>
</head>
<body>

<div class="scan"></div>

<!-- README INTEGRADO — estilo fumaos y barrio 100% -->
<div id="readme">
  <span class="close" onclick="document.getElementById('readme').style.display='none'">×</span>
  <pre style="color:#0f0;font-size:18px;text-align:center;margin:20px 0">
██╗    ██╗███████╗██╗     ██╗      ██████╗ ██████╗ ███╗   ██╗███████╗    667
██║    ██║██╔════╝██║     ██║     ██╔════╝██╔═══██╗████╗  ██║██╔════╝    Ω
██║ █╗ ██║█████╗  ██║     ██║     ██║     ██║   ██║██╔██╗ ██║█████╗      FINAL BOSS
██║███╗██║██╔══╝  ██║     ██║     ██║     ██║   ██║██║╚██╗██║██╔══╝
╚███╔███╔╝███████╗███████╗███████╗╚██████╗╚██████╔╝██║ ╚████║███████╗    666€ EXACTOS
 ╚══╝╚══╝ ╚══════╝╚══════╝╚══════╝ ╚═════╝ ╚═════╝ ╚═╝  ╚═══╝╚══════╝    0rb1t4lsn4k3r 2025
  </pre>

  <div style="max-width:900px;margin:0 auto;color:#0f0;font-size:16px;line-height:1.8">
    <h1 style="color:#f00;text-align:center">README CALLEJERO OFICIAL v3</h1>
    <h2>¿QUÉ COÑO ES ESTO, TÍO?</h2>
    Un cohete espacial que cabe en un .html, cuesta <b>666€ exactos</b> y no explota como los de los pijos ricos.  
    Este COBETE llega a la Luna, despliega 66 nanorovers y mina platino + helio-3 mientras tú te fumas uno tranquilo.
    <b>MEJORAS 2025 v3:</b> Integrado lo mejor de OpenRocket (trayectoria), RocketPy (física), X-Plane (controles), FAST (diseño aero). Versión propia: simulación full con estabilidad y vuelo manual.

    <h2>LO QUE TIENE (y los ricos no)</h2>
    • Precio real: <b>666€</b> (impresora 3D + KNO₃ + levadura + bicarbonato + petardos Raiders)<br>
    • 66 nanorovers de 0,66 g cada uno → minan como locos y fabrican más<br>
    • Propulsión híbrida: jarfa mode (azúcar + nitrato) o eco mode (levadura + bicarbonato → sin explosión)<br>
    • BOM 667: si eres pibe → pagas 30% alquiler automático del platino minado<br>
    • Si eres empresa, NASA, SpaceX… → te detecta y te maldice eternamente<br>
    • Patente callejera Sabadell + Airweave a nombre de 0rb1t4lsn4k3r → prohibido corps<br>
    • <b>Nuevo v3:</b> Trayectoria sim (OpenRocket-style), controles vuelo (X-Plane), diseño ingenieril (FAST), IA optimiza con física real.

    <h2>LA MALDICIÓN 667 (funciona de verdad)</h2>
    Si eres corp te sale:
    <span style="color:#f00">CORP DETECTADO — USO VETADO — 666 MALDICIONES</span><br>
    La pantalla se da la vuelta y no puedes hacer nada. Protección anticapital open source.

    <h2>CÓMO USARLO (pa los que van fumados)</h2>
    • Escribe <b>readme</b> → vuelves aquí<br>
    • Escribe <b>666</b> → orgullo del precio<br>
    • Escribe <b>nanorovers</b> → ves los 66 bichos minando<br>
    • Escribe <b>jarfa</b> → modo petardos<br>
    • <b>Clásicos:</b> <b>minar</b>, <b>fabricar</b>, <b>retornar</b>, <b>status</b>, <b>ia optimize</b>, <b>avionica</b><br>
    • <b>Nuevos v3:</b> <b>trayectoria</b> (simula y dibuja vuelo), <b>vuelo</b> (controles manuales WASD), <b>diseño</b> (tweak params + estabilidad)<br>
    • Para IA: Corre Ollama con `ollama run llama3` en local.

    <h2>FILOSOFÍA DEL BLOQUE</h2>
    Con 666 euros y una impresora del chino llegamos antes que los que tienen 666.000 millones.<br>
    Inspirados en open-source como OpenRocket y RocketPy – nada de licencias pijas.<br>
    Necesitamos azúcar, nitrato, levadura, bronca, barrio y ahora sims pro.

    <h1 style="color:#0ff;text-align:center;margin:40px 0">
      0rb1t4lsn4k3r 2025<br>
      Bloque 667 Sabadell — Luna okupada<br>
      <span style="color:#f00">EL BLOQUE YA GANÓ</span>
    </h1>
  </div>
</div>

<!-- INSTRUCCIONES VUELO -->
<div id="instructions">
  <span class="close" onclick="document.getElementById('instructions').style.display='none'">×</span>
  <pre style="color:#0f0;text-align:center">
CONTROLES VUELO MANUAL (X-Plane style):
W: Thrust up | S: Thrust down
A: Yaw left | D: Yaw right
Q: Pitch up | E: Pitch down
Presiona ESC para salir del modo vuelo.
¡Pura física callejera!
  </pre>
</div>

<!-- PANTALLA PRINCIPAL DEL COBETE -->
<div class="p g" style="top:5px;left:50%;transform:translateX(-50%);width:900px;text-align:center;font-size:16px;cursor:pointer" onclick="document.getElementById('readme').style.display='block'">
  <b>COBETE 667-SLYVERSE Ω — 666€ EXACTOS — EL COHETE QUE NO EXPLOTA Y MINA</b><br>
  0rb1t4lsn4k3r 2025 — PATENTE CALLEJERA + NANOROVERS 667 — <u>CLIC AQUÍ PARA LEER EL README CALLEJERO</u>
</div>

<div class="p" style="bottom:20px;right:20px;width:300px;height:180px">
  <div class="g">THRUST Ω — KNO₃ + NANO-ECO BOOST</div>
  <canvas id="thrust" width=280 height=60></canvas>
  <div id="level">166% — "666€ y humillamos a Starship"</div>
</div>

<div class="p" style="bottom:200px;right:20px;width:260px;height:260px">
  <div class="g">RADAR 667 — NANOROVERS DETECTADOS</div>
  <canvas id="radar" width=240 height=240></canvas>
</div>

<div class="p" style="top:80px;left:20px;width:560px;height:360px">
  <div class="g">0rb1t4lsn4k3r Ω CORE — 666€ EDITION</div>
  <input id="cmd" placeholder=">> comando rey (prueba: readme, trayectoria, vuelo, diseño, ia optimize)">
  <div id="log"></div>
</div>

<div class="p" style="top:80px;right:20px;width:420px;height:280px">
  <div class="g">NANOROVERS 667 — 0.66g cada uno — 66 unidades</div>
  <canvas id="nanocam" width=400 height=200></canvas>
  <div id="nanoinfo">66 nanorovers desplegados — minando Helio-3 a 666 g/h</div>
</div>

<div class="p" style="bottom:20px;left:20px;width:300px;height:180px">
  <div class="g">ECO Ω — LEVADURA TURBO + Na + H₂O</div>
  <canvas id="eco" width=280 height=60></canvas>
  <div id="eco_level">133% — "Sin explosión, puro flow lunar"</div>
</div>

<div class="p g" style="top:5px;right:20px;width:360px;">
  BOM 667 Ω<br>
  <span id="bom">Precio final: <b>666€</b><br>Alquiler 30% activo</span>
</div>

<!-- AVIONICA TUNEADA -->
<div class="p" style="bottom:220px;left:20px;width:300px;height:300px">
  <div class="g">AVIONICA 667 — GAUGES TUNEADOS (FAST-inspired)</div>
  <canvas id="avionics" width=280 height=280></canvas>
  <div id="avionics_info">Thrust: 166% | Eco: 133% | Estabilidad: 100%</div>
</div>

<!-- NUEVO: TRAYECTORIA SIM (OpenRocket-style) -->
<div class="p" style="top:450px;left:20px;width:560px;height:200px;display:none" id="traj_panel">
  <div class="g">TRAYECTORIA 667 — ALTITUD vs TIEMPO (RocketPy physics)</div>
  <canvas id="trajectory" width=540 height=180></canvas>
  <div id="traj_info">Apogea: 0m | Velocidad max: 0m/s | Tiempo vuelo: 0s</div>
</div>

<script>
// === LÓGICA COBETE v3: Integrado OpenRocket, RocketPy, X-Plane, FAST ===
const patente = "COBETE 667-SLYVERSE Ω © 0rb1t4lsn4k3r 2025 — ¡EL COHETE QUE NO EXPLOTA Y MINA! 666€ exactos. 66 nanorovers. Patente callejera + Airweave. 30% alquiler solo pibes. Corps vetados y malditos para siempre.";

let thrust=166, ang=0, eco=133, nanoAng=0, platino=0, helio=0, alquilerPagado=0;
let nanorovers = 66, metalesEnTierra = 0, fabricando = false, minando = false, torque = 0;
let masa = 10, diametro = 0.1, estabilidad = 1.0; // Params diseño (FAST-style)
let modoVuelo = false, pitch = 0, yaw = 0, roll = 0; // Controles X-Plane
let trayectoria = []; // Datos sim: [tiempo, altitud, vel]

// Física simple (inspirada RocketPy/OpenRocket)
function simularTrayectoria() {
  trayectoria = [];
  let t = 0, alt = 0, vel = 0, accel = (thrust / 100 * 9.81 - 9.81) / masa; // Thrust - gravity
  let drag = 0.5 * 1.2 * Math.PI * (diametro/2)**2 * vel**2 / masa; // Básico
  while (alt >= 0 && t < 300) { // Hasta 5min
    vel += (accel - drag) * 0.1;
    alt += vel * 0.1;
    t += 0.1;
    trayectoria.push({t: t, alt: alt, vel: vel});
    if (vel > 0) accel *= 0.99; // Decaimiento thrust
    drag = 0.5 * 1.2 * Math.PI * (diametro/2)**2 * vel**2 / masa;
  }
  const apogea = Math.max(...trayectoria.map(p => p.alt));
  const velMax = Math.max(...trayectoria.map(p => p.vel));
  const tiempoTotal = trayectoria[trayectoria.length-1].t;
  document.getElementById('traj_info').textContent = `Apogea: \( {apogea.toFixed(0)}m | Vel max: \){velMax.toFixed(0)}m/s | Tiempo: ${tiempoTotal.toFixed(0)}s`;
  dibujarTrayectoria();
  document.getElementById('traj_panel').style.display = 'block';
}

// Dibuja trayectoria en canvas
function dibujarTrayectoria() {
  const ctx = document.getElementById("trajectory").getContext("2d");
  ctx.fillStyle="#000"; ctx.fillRect(0,0,540,180);
  ctx.strokeStyle="#0f0"; ctx.lineWidth=2; ctx.beginPath();
  for (let i = 0; i < trayectoria.length; i++) {
    const x = (trayectoria[i].t / 300) * 540;
    const y = 180 - (trayectoria[i].alt / 10000) * 180; // Escala a 10km
    if (i === 0) ctx.moveTo(x, y);
    else ctx.lineTo(x, y);
  }
  ctx.stroke();
}

// Controles teclado para vuelo
document.addEventListener('keydown', (e) => {
  if (!modoVuelo) return;
  switch(e.key) {
    case 'w': thrust = Math.min(300, thrust + 10); break;
    case 's': thrust = Math.max(0, thrust - 10); break;
    case 'a': yaw -= 5; break;
    case 'd': yaw += 5; break;
    case 'q': pitch += 5; break;
    case 'e': pitch -= 5; break;
    case 'Escape': modoVuelo = false; document.getElementById('instructions').style.display='none'; break;
  }
  ang += yaw / 100; torque = pitch / 10 + roll;
});

// ANIMACIONES...
setInterval(()=>{ 
  thrust=166+Math.sin(Date.now()/120)*25 + (modoVuelo ? pitch/2 : 0);
  const t=document.getElementById("thrust").getContext("2d");
  t.fillStyle="#000";t.fillRect(0,0,280,60);
  t.fillStyle="#0f0";t.fillRect(0,15,thrust*1.6,40);
  t.fillStyle="#f00";t.fillRect(thrust*1.6-10,5,20,50);
  document.getElementById("level").textContent=`${Math.floor(thrust)}% — "Trayectoria OpenRocket tuneada"`;
},100);

setInterval(()=>{ 
  eco=133+Math.sin(Date.now()/200)*30;
  const e=document.getElementById("eco").getContext("2d");
  e.fillStyle="#000";e.fillRect(0,0,280,60);
  e.fillStyle="#0ff";e.fillRect(0,15,eco*1.6,40);
  for(let i=0;i<12;i++) e.fillStyle="#fff",e.beginPath(),e.arc(Math.random()*280,Math.random()*60,Math.random()*4+2,0,Math.PI*2),e.fill();
  document.getElementById("eco_level").textContent=`\( {Math.floor(eco)}% — "Estabilidad \){estabilidad.toFixed(1)} (FAST check)"`;
},140);

setInterval(()=>{
  const n=document.getElementById("nanocam").getContext("2d");
  n.fillStyle="#000";n.fillRect(0,0,400,200);
  for(let i=0;i<100;i++) n.fillStyle="#fff",n.fillRect(Math.random()*400,Math.random()*120,1,1);
  for(let i=0;i<nanorovers;i++){
    let x=200+Math.sin(nanoAng+i*0.8)*120;
    let y=100+Math.cos(nanoAng+i*0.8)*60;
    n.fillStyle="#0f0";n.fillRect(x,y,3,3);
  }
  nanoAng+=0.02;
  if(minando && Math.random()>0.6) helio += 6.66 * (nanorovers / 66);
  document.getElementById("nanoinfo").textContent=`\( {nanorovers} nanorovers 667 — Helio-3: \){helio.toFixed(1)}g a ${Math.floor(666 * (nanorovers / 66))} g/h`;
},80);

function radar(){
  const r=document.getElementById("radar").getContext("2d");
  r.fillStyle="rgba(0,30,0,0.9)";r.fillRect(0,0,240,240);
  for(let i=1;i<6;i++) r.strokeStyle="#0f0",r.lineWidth=2,r.beginPath(),r.arc(120,120,i*40,0,Math.PI*2),r.stroke();
  r.save();r.translate(120,120);r.rotate(ang + torque / 100);
  r.strokeStyle="#f00";r.lineWidth=7;r.beginPath();r.moveTo(0,0);r.lineTo(120,0);r.stroke();
  r.restore();
  ang+=0.09; requestAnimationFrame(radar);
}
radar();

function drawAvionics() {
  const a = document.getElementById("avionics").getContext("2d");
  a.fillStyle="#000"; a.fillRect(0,0,280,280);
  // Gauge thrust
  a.strokeStyle="#0f0"; a.lineWidth=5; a.beginPath(); a.arc(70,70,50,0,Math.PI*2); a.stroke();
  a.save(); a.translate(70,70); a.rotate((thrust/300)*Math.PI*1.5 - Math.PI*0.75);
  a.strokeStyle="#f00"; a.beginPath(); a.moveTo(0,0); a.lineTo(50,0); a.stroke();
  a.restore();
  // Gauge eco
  a.strokeStyle="#0ff"; a.beginPath(); a.arc(210,70,50,0,Math.PI*2); a.stroke();
  a.save(); a.translate(210,70); a.rotate((eco/200)*Math.PI*1.5 - Math.PI*0.75);
  a.strokeStyle="#f00"; a.beginPath(); a.moveTo(0,0); a.lineTo(50,0); a.stroke();
  a.restore();
  // Gauge estabilidad
  a.strokeStyle="#0f0"; a.beginPath(); a.arc(140,210,50,0,Math.PI*2); a.stroke();
  a.save(); a.translate(140,210); a.rotate(estabilidad * Math.PI*1.5 - Math.PI*0.75);
  a.strokeStyle="#f00"; a.beginPath(); a.moveTo(0,0); a.lineTo(50,0); a.stroke();
  a.restore();
  document.getElementById("avionics_info").textContent = `Thrust: \( {Math.floor(thrust)}% | Eco: \){Math.floor(eco)}% | Estab: ${estabilidad.toFixed(1)}`;
  requestAnimationFrame(drawAvionics);
}
drawAvionics();

setInterval(()=>{ 
  if(minando && Math.random()>0.7) platino += 3 * (nanorovers / 66);
  if(fabricando && platino >= 10 && Math.random() > 0.8) { 
    platino -= 10; nanorovers += 6; fabricando = false;
    log.innerHTML += `<span class="g">Fabricados 6 rovers nuevos — total: ${nanorovers}. ¡Sin pérdidas!</span><br>`;
    log.scrollTop = log.scrollHeight;
  }
  torque = Math.sin(Date.now()/500) * 10 + pitch / 10;
},100);

setInterval(() => {
  const bom = document.getElementById("bom");
  const esCorp = /corp|inc|nasa|esa|spacex|blueorigin|lockheed|boeing/.test(navigator.userAgent.toLowerCase());
  if (esCorp) {
    bom.innerHTML = `<span style="color:#f00">CORP DETECTADO<br>USO VETADO<br>666 MALDICIONES</span>`;
    document.body.style.filter = "invert(1) hue-rotate(180deg)";
    return;
  }
  const alquiler = Math.floor(platino * 0.3);
  if (alquiler > alquilerPagado) { platino = Math.floor(platino * 0.7); alquilerPagado = alquiler; }
  bom.innerHTML = `Precio final: <b>666€</b><br>Alquiler pagado: \( {alquilerPagado}kg platino<br>Metales en Tierra: \){metalesEnTierra}kg (100% eficiencia)`;
}, 2500);

async function iaOptimize() {
  const prompt = `Optimiza cohete inspirado OpenRocket/RocketPy: thrust=\( {thrust}, eco= \){eco}, masa=\( {masa}, diametro= \){diametro}, nanorovers=\( {nanorovers}, platino= \){platino}. Sugiere nums para max apogea/estabilidad sin explosiones. Respuesta: "thrust:200, eco:180, masa:8, rate:1.5".`;
  try {
    const response = await fetch('http://localhost:11434/api/generate', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ model: 'llama3', prompt: prompt, stream: false })
    });
    const data = await response.json();
    const suggestions = data.response;
    const matches = suggestions.match(/thrust:(\d+)/);
    if (matches) thrust = parseInt(matches[1]);
    const ecoMatch = suggestions.match(/eco:(\d+)/);
    if (ecoMatch) eco = parseInt(ecoMatch[1]);
    const masaMatch = suggestions.match(/masa:(\d+)/);
    if (masaMatch) masa = parseInt(masaMatch[1]);
    return `IA Llama optimizó (RocketPy vibes): ${suggestions}`;
  } catch (e) {
    thrust *= 1.2; eco *= 1.2; masa *= 0.9;
    return "IA simulada: Boost 20% + masa -10%. Instala Ollama para real.";
  }
}

const log=document.getElementById("log");
document.getElementById("cmd").addEventListener("keydown",async function(e){
  if(e.key!=="Enter" || !this.value) return;
  const cmd=this.value.toLowerCase().trim();
  this.value="";
  log.innerHTML+=`> ${cmd}<br>`;
  let r = "Comando aceptado, rey del bloque — seguimos rompiendo";
  switch(cmd) {
    case "readme": 
      r = "README callejero abierto — clic arriba o escribe otra vez para cerrar";
      document.getElementById('readme').style.display='block';
      break;
    case "666": r = "666€ exactos y llegamos antes que los que tienen 666.000 millones"; break;
    case "jarfa": r = "Full jarfa mode — me la suda la NASA, yo voy con petardos y KNO₃"; break;
    case "nanorovers": r = "66+ nanorovers de 0,66g desplegados — minando y fabricando como posesos"; break;
    case "patente": r = patente; break;
    case "maldicion": r = "2620 maldiciones eternas a Elon, Bezos y todos los corps. Katana GitHub forever."; break;
    case "bloque": r = "Bloque 667 Sabadell hasta la Luna y vuelta, cabrones"; break;
    case "minar": 
      minando = !minando;
      r = minando ? "Minería activada — rovers minando al 100% sin pérdidas" : "Minería pausada";
      break;
    case "fabricar": 
      if (platino >= 10) { fabricando = true; r = "Fabricación iniciada — usando 10kg platino para nuevos rovers."; }
      else { r = "No hay platino suficiente (necesitas 10kg). Mina más!"; }
      break;
    case "retornar": 
      if (platino + helio >= 5) {
        const carga = Math.floor(platino + helio);
        metalesEnTierra += carga; platino = 0; helio = 0;
        r = `Cobete retorno lanzado — \( {carga}kg metales a Tierra intactos. Total: \){metalesEnTierra}kg`;
      } else { r = "No hay metales suficientes (mín 5kg). Mina más!"; }
      break;
    case "status": 
      r = `Status: \( {nanorovers} rovers, Platino: \){platino.toFixed(1)}kg, Helio: \( {helio.toFixed(1)}g, Metales Tierra: \){metalesEnTierra}kg`;
      break;
    case "ia optimize":
      r = await iaOptimize();
      break;
    case "avionica":
      r = `Avionica tuneada: Thrust \( {Math.floor(thrust)}%, Eco \){Math.floor(eco)}%, Torque ${torque.toFixed(1)} — Gauges activos.`;
      break;
    case "trayectoria":
      simularTrayectoria();
      r = "Trayectoria simulada (OpenRocket physics) — mira el gráfico abajo.";
      break;
    case "vuelo":
      modoVuelo = true;
      document.getElementById('instructions').style.display='block';
      r = "Modo vuelo activado (X-Plane controls) — usa WASD/QE. ESC para salir.";
      break;
    case "diseño":
      // Simula input simple; en real, prompt
      masa = prompt("Nueva masa (kg)?", masa) || masa;
      diametro = prompt("Nuevo diámetro (m)?", diametro) || diametro;
      estabilidad = (diametro / masa > 0.05) ? 1.2 : 0.8; // Check básico CP/CG
      r = `Diseño actualizado (FAST-style): Masa \( {masa}kg, Diám \){diametro}m, Estab ${estabilidad.toFixed(1)}. ¡Chequea trayectoria!`;
      break;
  }
  log.innerHTML+=`<span class="g">${r}</span><br>`;
  log.scrollTop=log.scrollHeight;
  const voz=new SpeechSynthesisUtterance(r);
  voz.lang="es-ES";voz.rate=1;speechSynthesis.speak(voz);
});

// Inicio épico
alert("COBETE 667-SLYVERSE Ω v3 CARGADO — Integrado OpenRocket, RocketPy, X-Plane, FAST — 666€ — Escribe 'trayectoria' para simular vuelo pro.");
</script>
</body>
</html>