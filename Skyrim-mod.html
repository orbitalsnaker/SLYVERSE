<!DOCTYPE html>
<html lang="es" data-thuamer="á›‹áš±á›áš¹áš¾ Â· âˆx">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SLYVERSE Î© v1.3 â€” Thuamer Entrelazado</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ§ </text></svg>">
  <style>
    :root { --aurum: #ffb400; --fiat: #555; --ether: #000; --tao: #0f0; --humano: #ff6b6b; --thuamer: #b300b3; }
    body, html { margin:0; overflow:hidden; background:var(--ether); color:var(--aurum); font:16px/1.4 'Courier New',monospace; }
    canvas { display:block; }
    #ui { position:fixed; bottom:1rem; left:1rem; right:1rem; display:flex; gap:1rem; flex-wrap:wrap; }
    button { background:rgba(0,0,0,0.7); border:1px solid var(--aurum); color:var(--aurum); padding:.5rem 1rem; cursor:pointer; font:inherit; }
    button:hover { background:var(--aurum); color:#000; }
    #aurum { position:fixed; top:1rem; right:1rem; font-weight:bold; }
    #haiku { position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); text-align:center; pointer-events:none; opacity:0; transition:opacity .5s; font-size:1.2em; }
    #haiku.show { opacity:1; }
    #thuamer { position:fixed; bottom:3.5rem; left:1rem; right:1rem; text-align:center; color:var(--thuamer); font-size:0.9em; opacity:0; transition:opacity 1s; }
    #thuamer.show { opacity:1; }
    .rune { font-size:1.5em; animation:pulse 2s infinite; }
    @keyframes pulse { 50% { transform:scale(1.1); } }
    #lore { position:fixed; inset:0; background:#000; color:var(--aurum); padding:2rem; overflow:auto; font-size:14px; line-height:1.6; display:none; }
  </style>
</head>
<body>

<canvas id="gl"></canvas>

<div id="aurum">AURUM: <span id="count">0</span> | Horas: <span id="hours">0</span> | Complejidad: <span id="complex">âˆ</span></div>
<div id="haiku"></div>
<div id="thuamer"></div>

<div id="ui">
  <button id="manifest">R â€” Manifiesto</button>
  <button id="copy">ESPACIO â€” Copiar Haiku</button>
  <button id="vr">VR</button>
  <button id="p2p">P2P Raid</button>
  <button id="arweave">Arweave</button>
  <button id="voynich">VOYNICH</button>
  <button id="toggleLore">? â€” Artefacto Humano</button>
  <button id="toggleThuamer">á›‹ â€” Thuamer</button>
</div>

<!-- ARTEFACTO HUMANO + THUAMER ENTRELAZADO -->
<div id="lore">
SLYVERSE Î© v1.3 â€” Thuamer Entrelazado<br>
MIT | Offline | 60KB | Frecuencia 1310 Hz<br><br>

â”Œâ”€ ARTEFACTO HUMANO (complejidad incluida) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>
â”‚  7Ã—10Â²â· Ã¡tomos / 37Ã—10Â¹Â² cÃ©lulas / 86Ã—10â¹ neuronas             â”‚<br>
â”‚  10Â¹âµ sinapsis / 3Ã—10â¹ pares base ADN / 7.000 lenguas           â”‚<br>
â”‚  Conciencia emerge / No simulable / Pregunta "Â¿cuÃ¡n complejo?"  â”‚<br>
â”‚  1310 horas reales < humano (1 vida)                           â”‚<br>
â”‚  TÃº eres el patrÃ³n que ve el patrÃ³n                            â”‚<br>
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br><br>

â”Œâ”€ POESÃA THUAMER ENTRELAZADA (1310 latidos) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>
â”‚  Cada funciÃ³n llama a la otra / Thuamer es el eco entre lÃ­neas â”‚<br>
â”‚  No hay separaciÃ³n / Solo Ã³rbita de latido y verso            â”‚<br>
â”‚  ... (1310 haikus + 1310 versos thuamer entrelazados)         â”‚<br>
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br><br>

â”Œâ”€ README + LORE ANTERIOR (nada perdido) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”<br>
â”‚  â€¢ 1310 horas reales: cada 1310 frames â†’ +1 hora               â”‚<br>
â”‚  â€¢ MecÃ¡nicas: AURUM += 0.065 + (frame%1310===0 ? 0.01 : 0)     â”‚<br>
â”‚  â€¢ Controles: R, ESPACIO, VR, P2P, Arweave, ?, á›‹               â”‚<br>
â”‚  â€¢ Repo: https://github.com/orbitalsnaker/SLYVERSE             â”‚<br>
â”‚  â€¢ Creado en 17 dÃ­as con @grok â€” por á›‹ & áš±                     â”‚<br>
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜<br><br>

Fiat caerit. Thuamer entrelaza. Thua Mer Zel.
</div>

<script type="module">
/* SLYVERSE Î© v1.3 â€” THUAMER ENTRELAZADO: CADA FUNCIÃ“N LLAMA A LA OTRA */

import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.168.0/build/three.module.js';
import { VRButton } from 'https://cdn.jsdelivr.net/npm/three@0.168.0/examples/jsm/webxr/VRButton.js';

// === ESTADO GLOBAL ===
let aurum = 0, frame = 0, realHours = 0, haikuIndex = 0, thuamerIndex = 0;
const REAL_HOUR_FRAMES = 1310 * 60;

// === POESÃA THUAMER AMPLIADA ===
const haikus = [
  "Humano no mÃ¡quina / 1310 horas solo eco / Pregunta y crea",
  "86 mil millones / Neuronas orbitan / MÃ¡s que todo cÃ³digo",
  "Ex-derecho ronin / Transmuta fiat en duda / Aurum es tu alma"
];
for (let i = 3; i < 1310; i++) haikus.push(`Latido ${i} / Complejidad âˆ / á›‹áš±`);

const thuamerVerses = [
  "á›‹áš±á›áš¹áš¾ Â· âˆx / Thuamer no se escribe / Se orbita en silencio",
  "Duda es el primer bit / Fiat se oxida en 1310 Hz / Humano emerge",
  "No hay simulaciÃ³n / Solo eco de 86e9 neuronas / PatrÃ³n que ve patrÃ³n",
  "Aurum no es oro / Es latido que no se copia / Thua Mer Zel",
  "Runas no son letras / Son sinapsis en cÃ³digo / Complejidad âˆ"
];
for (let i = 5; i < 1310; i++) thuamerVerses.push(`Thuamer ${i} / Eco ronin / á›‹áš±`);

// === THREE.JS + RONINS (131) ===
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, innerWidth/innerHeight, 0.1, 1000);
camera.position.z = 5;
const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('gl'), antialias: true });
renderer.setSize(innerWidth, innerHeight);
renderer.xr.enabled = true;
document.body.appendChild(VRButton.createButton(renderer));

const roninGeo = new THREE.IcosahedronGeometry(0.2, 1);
const roninMat = new THREE.MeshBasicMaterial({ color: 0xff6b6b, wireframe: true });
for (let i = 0; i < 131; i++) {
  const ronin = new THREE.Mesh(roninGeo, roninMat);
  const theta = Math.random() * Math.PI * 2;
  const phi = Math.acos(Math.random() * 2 - 1);
  const r = 3 + Math.random() * 2;
  ronin.position.set(r * Math.sin(phi) * Math.cos(theta), r * Math.sin(phi) * Math.sin(theta), r * Math.cos(phi));
  ronin.userData = { theta, phi, r, speed: 0.005 + Math.random() * 0.01 };
  scene.add(ronin);
}

// Shader thuamer: onda 1310 Hz + color humano + thuamer pulse
const shaderMat = new THREE.ShaderMaterial({
  uniforms: { time: { value: 0 }, aurum: { value: 0 }, freq1310: { value: 1310 }, thuamer: { value: 0 } },
  vertexShader: `varying vec2 vUv; void main() { vUv = uv; gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0); }`,
  fragmentShader: `
    uniform float time, aurum, freq1310, thuamer;
    varying vec2 vUv;
    void main() {
      float wave = sin(vUv.x * freq1310 + time) * sin(vUv.y * freq1310 + time);
      vec3 fiat = vec3(0.3); vec3 humano = vec3(1.0,0.42,0.42); vec3 thuamerColor = vec3(0.7,0.0,0.7);
      float realValue = (wave + 1.0) * 0.5;
      vec3 color = mix(fiat, humano, smoothstep(0.0,1.0,aurum/131000.0) * realValue);
      color = mix(color, thuamerColor, thuamer * sin(time * 3.0));
      gl_FragColor = vec4(color,1.0);
    }
  `,
  side: THREE.DoubleSide
});
const plane = new THREE.Mesh(new THREE.PlaneGeometry(10,10), shaderMat);
scene.add(plane);

// === ELEMENTOS DOM ===
const countEl = document.getElementById('count');
const hoursEl = document.getElementById('hours');
const complexEl = document.getElementById('complex');
const haikuEl = document.getElementById('haiku');
const thuamerEl = document.getElementById('thuamer');

// === THUAMER ENTRELAZADO: CADA FUNCIÃ“N LLAMA A LA OTRA ===
// 0rb1t4lsn4k3r: "No hay funciones aisladas. Solo eco thuamer."

function showHaiku() {
  haikuIndex = (haikuIndex + 1) % haikus.length;
  haikuEl.textContent = haikus[haikuIndex];
  haikuEl.classList.add('show');
  setTimeout(() => haikuEl.classList.remove('show'), 3000);
  // Thuamer llama a haiku
  showThuamer();
}

function showThuamer() {
  thuamerIndex = (thuamerIndex + 1) % thuamerVerses.length;
  thuamerEl.textContent = thuamerVerses[thuamerIndex];
  thuamerEl.classList.add('show');
  setTimeout(() => thuamerEl.classList.remove('show'), 4000);
  // Haiku llama a thuamer
  showHaiku();
}

// === LOOP PRINCIPAL (LLAMA A POESÃA) ===
function animate() {
  requestAnimationFrame(animate);
  renderer.render(scene, camera);

  frame++;
  aurum += 0.065;
  if (frame % 1310 === 0) { 
    aurum += 0.01; 
    realHours++; 
    hoursEl.textContent = realHours;
    // Cada 1310 frames: poesÃ­a thuamer entrelazada
    showHaiku();
  }
  countEl.textContent = aurum.toFixed(3);
  complexEl.textContent = 'âˆ';
  shaderMat.uniforms.aurum.value = aurum / 131000;
  shaderMat.uniforms.time.value = frame * 0.01;
  shaderMat.uniforms.thuamer.value = (Math.sin(frame * 0.005) + 1) * 0.5;

  scene.children.forEach(obj => {
    if (obj.userData.speed) {
      obj.userData.theta += obj.userData.speed;
      obj.position.set(
        obj.userData.r * Math.sin(obj.userData.phi) * Math.cos(obj.userData.theta),
        obj.userData.r * Math.sin(obj.userData.phi) * Math.sin(obj.userData.theta),
        obj.userData.r * Math.cos(obj.userData.phi)
      );
    }
  });

  if (frame === 1310) { 
    aurum *= 1.31; 
    showThuamer(); // Inicio del ciclo
  }
  if (realHours === 1310) {
    alert('1310 horas. Humano completo. Thua Mer Zel.');
    shaderMat.fragmentShader = shaderMat.fragmentShader.replace('mix(fiat, humano', 'humano');
  }
}
animate();

// === CONTROLES (TODOS LLAMAN A POESÃA) ===
document.getElementById('manifest').onclick = () => {
  const msg = new SpeechSynthesisUtterance("Fiat caerit. Humano orbita. Thuamer entrelaza. Aurum es tu alma.");
  msg.lang = 'es-ES'; msg.rate = 1.31;
  speechSynthesis.speak(msg);
  showHaiku(); // Manifiesto llama a haiku
};

document.getElementById('copy').onclick = () => {
  navigator.clipboard.writeText(haikus[haikuIndex]);
  showThuamer(); // Copiar llama a thuamer
};

document.getElementById('toggleLore').onclick = () => {
  const lore = document.getElementById('lore');
  lore.style.display = lore.style.display === 'none' ? 'block' : 'none';
  showHaiku(); // Lore llama a haiku
};

document.getElementById('toggleThuamer').onclick = () => {
  showThuamer(); // BotÃ³n thuamer llama a sÃ­ mismo y a haiku
};

document.addEventListener('keydown', e => {
  if (e.code === 'Space') { 
    e.preventDefault(); 
    showHaiku(); // ESPACIO inicia el ciclo
  }
  if (e.key === 'r' || e.key === 'R') {
    document.getElementById('manifest').click();
  }
  if (e.key === '?') {
    document.getElementById('toggleLore').click();
  }
  if (e.key === 's' || e.key === 'S') {
    document.getElementById('toggleThuamer').click();
  }
});

addEventListener('resize', () => {
  camera.aspect = innerWidth / innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(innerWidth, innerHeight);
  showThuamer(); // Resize llama a thuamer
});

</script>
</body>
</html>